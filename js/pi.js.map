{"version":3,"file":"pi.js","sources":["../src/pi.js"],"sourcesContent":["/*\n\tPlug-It - Heavily customise your Plug.dj experience.\n\n\tDeveloped by: WiBla <contact.wibla@gmail.com>\n\tCopyright (c) 2014-2017 WiBla.\n\n\tLiscenced under the GPL liscence:\n\n\tThis program is free software: you can redistribute it and/or modify\n\tit under the terms of the GNU General Public License as published by\n\tthe Free Software Foundation, either version 3 of the License, or\n\t(at your option) any later version.\n\n\tThis program is distributed in the hope that it will be useful,\n\tbut WITHOUT ANY WARRANTY; without even the implied warranty of\n\tMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n\tGNU General Public License for more details.\n\n\tYou should have received a copy of the GNU General Public License\n\talong with this program. If not, see <http://www.gnu.org/licenses/>.\n\n\tSpecial thanks to:\n\t\t- All the alpha & beta testers !\n\t\t- Hideki for creating such an amazing community and helping me at the very beginning.\n\t\t- Zurbo, So much to say.. Thank you for supporting and helping me everyday.\n\t\t- Sinful for being so kind and teaching me how to use CSS attribute selectors.\n\t\t- TheDark1337 for always answering my silly questions about javascript and his script.\n\t\t- Dano-em for making me love jQuery.\n\t\t- The creators & maintainers of this repository: https://github.com/plugcommunity/documentation\n\t\t  for putting together such an amazing source of documentation.\n\n\tLibrary Used:\n\t\tPlug's Front-End API\n\t\t  -> http://support.plug.dj/hc/en-us/sections/200353347-Front-End-API\n\t\tjQuery\n\t\t  -> https://jquery.com\n\t\tRequireJS\n\t\t  -> http://requirejs.org\n\t\tExtPlug Socket Intercept\n\t\t\t-> https://github.com/extplug/ExtPlug/blob/master/src/plugins/SocketEventsPlugin.js\n\n\tInspired by:\n\t\tplugÂ³ https://plugcubed.net/\n\t\t\t- Clear chat and toggle stream button\n\t\t\t- AFK autorespond\n\t\t\t- Room settings\n\t\t\t- Third party emotes\n\t\tRadiant Community Script https://rcs.radiant.dj/\n\t\t\t- Loading status box\n\t\t\t- Custom background\n\t\t\t- Prevent Accidental Navigation\n\t\t\t- Alternative visualizers\n\t\t\t- Chat limit\n\t\t\t- Inline user info\n\t\t\t- Show deleted chat\n\t\t\t- /fire /love /shrug commands\n\t\tOrigem Woot (No longer available)\n\t\t\t- Vote list\n\t\t\t- Booth alert\n\t\t\t- /Whois & /Whoami commands\n\t\tDerpgonCz's unavailable song search\n\t\t\tLink: https://github.com/DerpgonCz/plug.dj-scripts/blob/master/scripts/unavailable-songs.js\n\t\tplugmixer https://github.com/Sunxperous/plugmixer\n\t\t\t- Playlist mixing\n\t\tTastyPlug https://tastyplug.tastycat.org/\n\t\t\t- Menu UI & UX\n\t\t\t- Hide video\n\n\t\tI also recommend these scripts as an alternative:\n\t\t\t- plug_p0ne https://p0ne.com/plug_p0ne/\n\t\t\t\tVery powerfull and full of goodness !\n\t\t\t- ExtPlug https://extplug.github.io/\n\t\t\t\tInstall plugins with a simple link or make one yourself !\n\t\t\t\t(In beta but dev. very active !)\n*/\n\nimport pkg from '../package.json'\n\n;(function load() {\n\tvar isPlugRoom = /(http(?:s)?:\\/\\/(?:[a-z]+\\.)*plug\\.dj\\/)(?!about$|ba$|forgot-password$|founders$|giftsub\\/\\d|jobs$|legal$|merch$|partners$|plot$|privacy$|purchase$|subscribe$|team$|terms$|press$|_\\/|@\\/|!\\/)(.+)/i;\n\tif (isPlugRoom.test(location.href)) {\n\t\tif (typeof pi !== 'undefined') pi._reload();\n\t\telse if (plugReady()) {\n\t\t\t// Status (can be used to debug)\n\t\t\t$('.app-header').after($(\n\t\t\t\t'<div id=\"pi-status\">'+\n\t\t\t\t\t'<img height=\"30px\" src=\"https://raw.githubusercontent.com/Plug-It/pi/pre-release/img/other/icon-54.png\">'+\n\t\t\t\t\t'<span></span>'+\n\t\t\t\t'</div>').css({\n\t\t\t\t\t\"position\": \"absolute\",\n\t\t\t\t\t\"top\": \"65px\", \"right\": \"355px\",\n\t\t\t\t\t\"text-align\": \"right\",\n\t\t\t\t\t\"padding\": \"5px\",\n\t\t\t\t\t\"background\": \"rgb(24, 28, 33)\",\n\t\t\t\t\t\"color\": \"rgb(221, 221, 221)\",\n\t\t\t\t\t\"border-radius\": \"5px\",\n\t\t\t\t\t\"box-shadow\": \"rgb(0, 0, 0) 0px 0px 3px\",\n\t\t\t\t\t\"transition\": \"all 0.25s ease-in-out\",\n\t\t\t\t\t\"z-index\": \"1337\"\n\t\t\t\t})\n\t\t\t);\n\t\t\tfunction updateStatus(txt, status) {\n\t\t\t\t$('#pi-status span')[0].innerHTML = 'PI is loading..<br>'+txt+'<br>Status: '+status;\n\t\t\t}\n\n\t\t\t// Get last commit of any project, used to know if an update is available\n\t\t\tfunction getLastCommit(url, callback) {\n\t\t\t\t$.ajax({\n\t\t\t\t\turl: url,\n\t\t\t\t\tsuccess: function(data) {\n\t\t\t\t\t\tcallback(data);\n\t\t\t\t\t},\n\t\t\t\t\terror: function(e) {\n\t\t\t\t\t\tconsole.error('Failed to load commits for Plug-it from GitHub. Auto-update is therefore unavailable.\\n' + e);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\tgetLastCommit('https://api.github.com/repos/Plug-It/pi/commits/pre-release', function(data) {\n\t\t\t\twindow.thisCommit = data;\n\t\t\t});\n\n\t\t\t// Load user language\n\t\t\tvar lang, ranks, roomSettings;\n\t\t\tupdateStatus('Loading language', 1);\n\t\t\tswitch (API.getUser().language) {\n\t\t\t\tcase 'cs': lang = 'cs'; break;\n\t\t\t\tcase 'de': lang = 'de'; break;\n\t\t\t\tcase 'et': lang = 'et'; break;\n\t\t\t\tcase 'fr': lang = 'fr'; break;\n\t\t\t\tcase 'nl': lang = 'nl'; break;\n\t\t\t\tcase 'pl': lang = 'pl'; break;\n\t\t\t\tcase 'pt': lang = 'pt'; break;\n\t\t\t\tcase 'sl': lang = 'sl'; break;\n\t\t\t\tcase 'sv': lang = 'sv'; break;\n\t\t\t\tdefault: lang = 'en'; break;\n\t\t\t}\n\t\t\t$.ajax({\n\t\t\t\tdataType: 'json',\n\t\t\t\turl: 'https://rawgit.com/Plug-It/pi/pre-release/lang/'+lang+'.json',\n\t\t\t\tsuccess: function(data) {\n\t\t\t\t\tlang = data;\n\t\t\t\t},\n\t\t\t\terror: function(e) {\n\t\t\t\t\tconsole.log('[Plug-It] Error while loading translation:\\n', e);\n\t\t\t\t\tAPI.chatLog('[Plug-It] Error while loading translation: ' + e.statusText + '. Check the console for more info.');\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// Load script ranks\n\t\t\tupdateStatus('Loading script ranks', 2);\n\t\t\t$.ajax({\n\t\t\t\tdataType: 'json',\n\t\t\t\turl: 'https://rawgit.com/Plug-It/pi/pre-release/json/ranks.json',\n\t\t\t\tsuccess: function(data) {\n\t\t\t\t\tranks = data;\n\t\t\t\t\tinit();\n\t\t\t\t},\n\t\t\t\terror: function(e) {\n\t\t\t\t\tconsole.log('[Plug-It] Error while loading script ranks:\\n', e);\n\t\t\t\t\tAPI.chatLog('[Plug-It] Error while loading script ranks: ' + e.statusText + '. Check the console for more info.');\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\tsetTimeout(load, 10);\n\t\t}\n\n\t\tfunction plugReady() {\n\t\t\treturn typeof API !== 'undefined' && API.enabled && typeof jQuery !== 'undefined' && typeof require !== 'undefined';\n\t\t}\n\n\t\tfunction init() {\n\t\t\tif (typeof lang !== 'object' || typeof ranks !== 'object') return setTimeout(init, 10);\n\n\t\t\tconst startTime = new Date().getTime();\n\t\t\tconst delay = (API.getUser().gRole >= API.ROLE.MANAGER ? 200 : 3500);\n\t\t\tconst CHAT_INTERCEPT_STRING = `Plug-It Socket Intercept: ${Math.random()}`;\n\t\t\tconst YTAPIkey = 'AIzaSyC8pk0f57a_UcAIbHdrvRhsmHSG1KZk2SM';\n\t\t\tconst url = {\n\t\t\t\tscript: 'https://rawgit.com/Plug-It/pi/pre-release/js/pi.js',\n\t\t\t\tstyles: {\n\t\t\t\t\tblue_css: 'https://rawgit.com/Plug-It/pi/pre-release/css/blue.css',\n\t\t\t\t\tmenu_css: 'https://rawgit.com/Plug-It/pi/pre-release/css/menu.css',\n\t\t\t\t\tpopout: 'https://rawgit.com/Plug-It/pi/pre-release/css/popout.css',\n\t\t\t\t\tpopout_blue: 'https://rawgit.com/Plug-It/pi/pre-release/css/popout-blue.css',\n\t\t\t\t\tcustom_ranks: 'https://rawgit.com/Plug-It/pi/pre-release/css/custom-ranks.css',\n\t\t\t\t\told_chat: 'https://rawgit.com/Plug-It/pi/pre-release/css/old-chat.css',\n\t\t\t\t\told_footer: 'https://rawgit.com/Plug-It/pi/pre-release/css/old-footer.css',\n\t\t\t\t\tsmall_history: 'https://rawgit.com/Plug-It/pi/pre-release/css/small-history.css',\n\t\t\t\t\tsmall_friends: 'https://rawgit.com/Plug-It/pi/pre-release/css/small-friends.css',\n\t\t\t\t\tsmall_playlists: 'https://rawgit.com/Plug-It/pi/pre-release/css/small-playlists.css'\n\t\t\t\t},\n\t\t\t\timages: {\n\t\t\t\t\tbackground: 'https://raw.githubusercontent.com/Plug-It/pi/pre-release/img/background/non-official/Plug-It-old.jpg'\n\t\t\t\t},\n\t\t\t\tsounds: {\n\t\t\t\t\t// https://www.freesound.org/people/TheGertz/sounds/235911/\n\t\t\t\t\tnotification:  'https://raw.githubusercontent.com/Plug-It/pi/pre-release/sounds/notification.wav',\n\t\t\t\t\t// https://www.freesound.org/people/soneproject/sounds/255102/\n\t\t\t\t\tjingle:        'https://raw.githubusercontent.com/Plug-It/pi/pre-release/sounds/jingle.wav'\n\t\t\t\t},\n\t\t\t\tvisu: [\n\t\t\t\t\t'https://rawgit.com/WiBla/visu/master/hyperspace/index.html',\n\t\t\t\t\t'https://rawgit.com/WiBla/visu/master/hyperspace2/index.html',\n\t\t\t\t\t'https://rawgit.com/WiBla/visu/master/hyperspace2/index.html?color=random',\n\t\t\t\t\t'https://rawgit.com/WiBla/visu/master/pong/index.html'\n\t\t\t\t],\n\t\t\t\temotes: {\n\t\t\t\t\t'twitch': 'https://twitchemotes.com/api_cache/v2/global.json',\n\t\t\t\t\t'twitchSub': 'https://twitchemotes.com/api_cache/v2/subscriber.json',\n\t\t\t\t\t'betterDiscord': 'https://raw.githubusercontent.com/Jiiks/BetterDiscordApp/master/data/emotedata_bttv.json',\n\t\t\t\t\t'betterTTV': 'https://api.betterttv.net/emotes',\n\t\t\t\t\t'tasty': 'https://emotes.tastycat.org/emotes-full.json'\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar settings = {\n\t\t\t\t// General\n\t\t\t\tautoW: false,\n\t\t\t\tautoDJ: false,\n\t\t\t\tkeyboardShortcuts: false,\n\t\t\t\tchatCommands: true,\n\t\t\t\tautoHideLogs: false,\n\t\t\t\tautoHideLogsAfter: 10,\n\t\t\t\tbetterMeh: false,\n\t\t\t\tnavWarn: false,\n\t\t\t\tafk: false,\n\t\t\t\tafkMessage: null,\n\t\t\t\tshowVotes: false,\n\t\t\t\tbetterClearChatLimit: 5,\n\t\t\t\tchatLimit: 512,\n\t\t\t\tskipNextMediaInHistory: false,\n\t\t\t\t// Customisation\n\t\t\t\tshowVideo: true,\n\t\t\t\tscVisu: false,\n\t\t\t\troomStyle: true,\n\t\t\t\tCSS: false,\n\t\t\t\tcustomRanks: false,\n\t\t\t\tlanguageFlags: false,\n\t\t\t\tfriendsIcons: false,\n\t\t\t\tcustomBG: false,\n\t\t\t\tcustomBGURL: null,\n\t\t\t\toldChat: false,\n\t\t\t\toldFooter: false,\n\t\t\t\tsmallHistory: false,\n\t\t\t\tsmallFriends: false,\n\t\t\t\tsmallPlaylists: false,\n\t\t\t\t// Moderation\n\t\t\t\tshowDeletedMsg: false,\n\t\t\t\tconfirmDelete: false,\n\t\t\t\tgRoleCmdSelfDel: true,\n\t\t\t\tuserInfo: false,\n\t\t\t\tstuckSkip: false,\n\t\t\t\tsongLimit: false,\n\t\t\t\tsongLength: 420, // Blaze-it\n\t\t\t\thistoryAlert: false,\n\t\t\t\t// Notifications\n\t\t\t\tsystemNotifications: false,\n\t\t\t\tsongStats: false,\n\t\t\t\tuserJoin: false,\n\t\t\t\tuserLeave: false,\n\t\t\t\tboothAlert: false,\n\t\t\t\tboothPosition: 3,\n\t\t\t\tuserMeh: false,\n\t\t\t\tuserGrab: false,\n\t\t\t\tguestJoin: false,\n\t\t\t\tguestLeave: false,\n\t\t\t\tfriendRoomChange: false,\n\t\t\t\tfriendConnect: false,\n\t\t\t\tfriendDisconnect: false,\n\t\t\t\tunfriended: false,\n\t\t\t\tfriendEventsList: {\n\t\t\t\t\twhiteList: {\n\t\t\t\t\t\tactive: false\n\t\t\t\t\t},\n\t\t\t\t\tblacklist: {\n\t\t\t\t\t\tactive: true,\n\t\t\t\t\t\tusers: {\n\t\t\t\t\t\t\t\"3537523\": {\n\t\t\t\t\t\t\t\troomChange: false,\n\t\t\t\t\t\t\t\tconnect: false,\n\t\t\t\t\t\t\t\tdisconnect: false,\n\t\t\t\t\t\t\t\tunfriended: true,\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tgainNotification: false,\n\t\t\t\tminimumGain: {\n\t\t\t\t\txp: 1,\n\t\t\t\t\tpp: 2,\n\t\t\t\t},\n\t\t\t\tuserLevelUp: false,\n\t\t\t\t// Custom Roles\n\t\t\t\tbot: [5285179],\n\t\t\t\tdiscordbot: [20852061]\n\t\t\t};\n\t\t\tvar roomSettings = {};\n\t\t\tvar cooldown = {\n\t\t\t\t'afkResponder': startTime - 60*1000,\n\t\t\t\t'voteShortcut': startTime - 5000\n\t\t\t};\n\t\t\tvar emotes = {};\n\t\t\tvar modules = {};\n\t\t\tvar session = {\n\t\t\t\tunread: false, // used to notify on unread messages + window blurred\n\t\t\t\tfloodAPI: false,\n\t\t\t\twoots: API.getUsers().filter(x => x.vote == 1),\n\t\t\t\tgrabs: API.getUsers().filter(x => x.grab),\n\t\t\t\tmehs:  API.getUsers().filter(x => x.vote == -1),\n\t\t\t\tchat: []\n\t\t\t};\n\n\t\t\t// Prototypes\n\t\t\tNumber.prototype.spaceOut = function() {\n\t\t\t\tif (isNaN(this) || this < 999) return this;\n\t\t\t\treturn (this).toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\");\n\t\t\t};\n\t\t\tfunction meldBefore(object, property, cb) {\n\t\t\t\tconst originalFunction = object[property];\n\n\t\t\t\tobject[property] = function wrapped() {\n\t\t\t\t\tcb(arguments[0]);\n\t\t\t\t\toriginalFunction.call(object, arguments[0]);\n\t\t\t\t}\n\n\t\t\t\treturn {\n\t\t\t\t\tremove: function() {\n\t\t\t\t\t\tobject[property] = originalFunction;\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t};\n\t\t\t// gives the user all permissions client-side temporarily, to make sure that\n\t\t\t// a chat message will actually be passed to the socket.\n\t\t\tfunction sudo(cb) {\n\t\t\t\tconst originalUser = modules.user.toJSON();\n\t\t\t\tmodules.user.set({\n\t\t\t\t\tid: 1,\n\t\t\t\t\tguest: false,\n\t\t\t\t\tlevel: 50,\n\t\t\t\t\trole: API.ROLE.HOST,\n\t\t\t\t\tgRole: API.ROLE.HOST,\n\t\t\t\t}, { silent: true });\n\n\t\t\t\tconst originalRoom = _.pick(modules.room.toJSON(), 'joined', 'minChatLevel');\n\t\t\t\tmodules.room.set({\n\t\t\t\t\tjoined: true,\n\t\t\t\t\tminChatLevel: 0,\n\t\t\t\t}, { silent: true });\n\n\t\t\t\t// this forces the chat slowmode cooldown timer to always return 0, thus\n\t\t\t\t// working around slowmode\n\t\t\t\tconst originalMax = Math.max;\n\t\t\t\tMath.max = () => 0;\n\n\t\t\t\tcb();\n\n\t\t\t\tMath.max = originalMax;\n\t\t\t\tmodules.room.set(originalRoom, { silent: true });\n\t\t\t\tmodules.user.set(originalUser, { silent: true });\n\t\t\t}\n\t\t\tfunction getSocket() {\n\t\t\t\t// If RCS is loaded and already has a reference to the WebSocket, just use\n\t\t\t\t// that.\n\t\t\t\tif (window.rcs && window.rcs.plugSock &&\n\t\t\t\t\twindow.rcs.plugSock.sock instanceof WebSocket) {\n\t\t\t\t\treturn window.rcs.plugSock.sock;\n\t\t\t\t}\n\n\t\t\t\tconst send = WebSocket.prototype.send;\n\t\t\t\tlet socket;\n\t\t\t\tWebSocket.prototype.send = function sendIntercept(data) {\n\t\t\t\t\tif (this.url.indexOf('plug.dj') !== -1 && data.indexOf(CHAT_INTERCEPT_STRING) !== -1) {\n\t\t\t\t\t\tsocket = this;\n\t\t\t\t\t\tWebSocket.prototype.send = send;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsend.call(this, data);\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tsudo(() => {\n\t\t\t\t\tmodules.chatFacade.sendChat(CHAT_INTERCEPT_STRING);\n\t\t\t\t});\n\n\t\t\t\t// restore even if it didn't work\n\t\t\t\tWebSocket.prototype.send = send;\n\n\t\t\t\treturn socket;\n\t\t\t}\n\n\t\t\tconsole.log(pkg.version)\n\n\t\t\twindow.pi = {\n\t\t\t\tversion: {\n\t\t\t\t\tmajor: 1,\n\t\t\t\t\tminor: 0,\n\t\t\t\t\tpatch: 0,\n\t\t\t\t\tpre: 28\n\t\t\t\t},\n\t\t\t\t_event: {\n\t\t\t\t\tadvance: function(song) {\n\t\t\t\t\t\t/* contains = {\n\t\t\t\t\t\t\tdj: {userObject},\n\t\t\t\t\t\t\tmedia: {\n\t\t\t\t\t\t\t\tauthor,\n\t\t\t\t\t\t\t\tcid,\n\t\t\t\t\t\t\t\tduration,\n\t\t\t\t\t\t\t\tformat,\n\t\t\t\t\t\t\t\tid,\n\t\t\t\t\t\t\t\timage,\n\t\t\t\t\t\t\t\ttitle\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tlastPlay: {\n\t\t\t\t\t\t\t\tdj: {userObject},\n\t\t\t\t\t\t\t\tmedia: {},\n\t\t\t\t\t\t\t\tscore: {\n\t\t\t\t\t\t\t\t\tgrabs: x,\n\t\t\t\t\t\t\t\t\tpositive: y,\n\t\t\t\t\t\t\t\t\tnegative: z\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}; */\n\n\t\t\t\t\t\tpi.autojoin();\n\n\t\t\t\t\t\t// Checking if a media is playing\n\t\t\t\t\t\tif (!song.dj || !song.media) return;\n\n\t\t\t\t\t\tif (API.getUser().id !== song.dj.id) {\n\t\t\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t\t\tpi.autowoot();\n\t\t\t\t\t\t\t}, Math.ceil((Math.random()*10)*1000));\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tpi.songLimit();\n\t\t\t\t\t\tpi.soundcloudVisu(song.media);\n\n\t\t\t\t\t\tif (settings.songStats) {\n\t\t\t\t\t\t\tpi._tool.log(\n\t\t\t\t\t\t\t\tpi._tool.replaceString(lang.info.songStats, {\n\t\t\t\t\t\t\t\t\tdj: song.lastPlay.dj.username,\n\t\t\t\t\t\t\t\t\tauthor: song.lastPlay.media.author,\n\t\t\t\t\t\t\t\t\ttitle: song.lastPlay.media.title,\n\t\t\t\t\t\t\t\t\twoots: song.lastPlay.score.positive,\n\t\t\t\t\t\t\t\t\tgrabs: song.lastPlay.score.grabs,\n\t\t\t\t\t\t\t\t\tmehs: song.lastPlay.score.negative\n\t\t\t\t\t\t\t\t}), 'info chat'\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (settings.stuckSkip && API.hasPermission(null, API.ROLE.BOUNCER)) {\n\t\t\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t\t\t// verifying the song is the same AND setting is still enbaled\n\t\t\t\t\t\t\t\tif (song.media.cid === API.getMedia().cid && settings.stuckSkip) {\n\t\t\t\t\t\t\t\t\tAPI.sendChat(lang.userchat.songStuck);\n\t\t\t\t\t\t\t\t\tAPI.moderateForceSkip();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}, song.media.duration*1000 + 5000);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Checking if the next media is in room history\n\t\t\t\t\t\t// This is on a timeout because this can happen:\n\t\t\t\t\t\t// http://i.imgur.com/kAy7QRN.png (only when after\n\t\t\t\t\t\t// your own play due to playlist refreshing,\n\t\t\t\t\t\t// thanks ReAnna fot this info BTW !)\n\t\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t\tif (settings.skipNextMediaInHistory && API.getWaitListPosition() === 0 && API.getNextMedia().inHistory &&!floodAPI) {\n\t\t\t\t\t\t\t\t$.ajax({\n\t\t\t\t\t\t\t\t\turl: '/_/playlists/'+API.getActivePlaylist().id+'/media/move',\n\t\t\t\t\t\t\t\t\ttype: 'PUT',\n\t\t\t\t\t\t\t\t\tdata: JSON.stringify({\n\t\t\t\t\t\t\t\t\t\tbeforeID: -1,\n\t\t\t\t\t\t\t\t\t\tids: [API.getNextMedia().media.id]\n\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t\tsuccess: function() {\n\t\t\t\t\t\t\t\t\t\tpi._tool.log(lang.info.nextMediaSkip, 'info chat');\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\terror: function() {\n\t\t\t\t\t\t\t\t\t\tpi._tool.log(lang.warn.nextMediaInHistory, 'warn chat');\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tdataType: 'json',\n\t\t\t\t\t\t\t\t\tcontentType: 'application/json'\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}, 10000);\n\n\t\t\t\t\t\tsessionStorage.setItem('modSkipWarn', 'false');\n\t\t\t\t\t\tsessionStorage.setItem('modQuitWarn', 'false');\n\t\t\t\t\t},\n\t\t\t\t\tchat: function(msg) {\n\t\t\t\t\t\t/* contains = {\n\t\t\t\t\t\t\tcid,\n\t\t\t\t\t\t\tmessage,\n\t\t\t\t\t\t\tsub,\n\t\t\t\t\t\t\ttimestamp,\n\t\t\t\t\t\t\ttype,\n\t\t\t\t\t\t\tuid,\n\t\t\t\t\t\t\tun\n\t\t\t\t\t\t}; */\n\n\t\t\t\t\t\tif (msg.type === 'log') return;\n\t\t\t\t\t\t// This message node\n\t\t\t\t\t\tlet selector = '#chat [data-cid=\"'+msg.cid+'\"]';\n\t\t\t\t\t\tlet sender = API.getUser(msg.uid);\n\n\t\t\t\t\t\t// Second message from the same user, things that only are set once\n\t\t\t\t\t\tif ($(selector).length) {\n\t\t\t\t\t\t\t// Self Deletion Magic\n\t\t\t\t\t\t\tif (msg.uid == API.getUser().id && API.hasPermission(null, API.ROLE.BOUNCER)) {\n\t\t\t\t\t\t\t\t$(selector)[0].className += ' deletable';\n\t\t\t\t\t\t\t\t$(selector).prepend('<div class=\"delete-button\" style=\"display: none;\">'+lang.glossary.delete+'</div>');\n\t\t\t\t\t\t\t\t$(selector).on('mouseenter', function() {\n\t\t\t\t\t\t\t\t\tif ($(selector).find('.delete-button').length) {\n\t\t\t\t\t\t\t\t\t\t$(selector).find('.delete-button')[0].style.display = 'block';\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t$(selector).on('mouseleave', function() {\n\t\t\t\t\t\t\t\t\tif ($(selector).find('.delete-button').length) {\n\t\t\t\t\t\t\t\t\t\t$(selector).find('.delete-button')[0].style.display = 'none';\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t$(selector).find('.delete-button').on('click', function() {\n\t\t\t\t\t\t\t\t\tAPI.moderateDeleteChat(msg.cid);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t// Deletion confirmation\n\t\t\t\t\t\t\tif (settings.confirmDelete) {\n\t\t\t\t\t\t\t\t$(selector + ' .delete-button').off('click');\n\t\t\t\t\t\t\t\t$(selector + ' .delete-button').on('click', function(e) {\n\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\tif (e.shiftKey) return API.moderateDeleteChat(msg.cid);\n\t\t\t\t\t\t\t\t\tpi._tool.modal(true, 'confirmDelete', function() {\n\t\t\t\t\t\t\t\t\t\tAPI.moderateDeleteChat(msg.cid);\n\t\t\t\t\t\t\t\t\t}, msg);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t/* Chat images\n\t\t\t\t\t\t\tvar links = $(\"<div>\"+msg.message+\"</div>\").find('a');\n\t\t\t\t\t\t\tvar imgRE = new RegExp('(http(s)?:\\/\\/(www.)?).+\\.(jpg|jpeg|gif|png|svg|bmp)', 'ig');\n\t\t\t\t\t\t\tfor (var i = 0; i < link.length; i++) {\n\t\t\t\t\t\t\t\tvar result = links[i].innerText.match(imgRE);\n\t\t\t\t\t\t\t\tif (typeof result !== 'null' && result.length > 0) {\n\t\t\t\t\t\t\t\t\tvar before = links[0].previousSibling;\n\t\t\t\t\t\t\t\t\tvar after = links[0].nextSibling;\n\t\t\t\t\t\t\t\t\tlinks[i].innerHTML = '<img alt=\"'+links[i].innerText+'\" src=\"'+links[i].innerText+'\">';\n\t\t\t\t\t\t\t\t\tmsg.message = before + links[i] + after;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t$(selector).find(\".text\")[0].innerHTML = msg.message;\n\t\t\t\t\t\t*/\n\n\t\t\t\t\t\t// Server chat commands\n\t\t\t\t\t\tif (['Dev', 'Community Manager'].indexOf(pi._tool.getRank(sender.id)) !== -1) {\n\t\t\t\t\t\t\tswitch(msg.message) {\n\t\t\t\t\t\t\t\tcase '!strobe on':\n\t\t\t\t\t\t\t\tif (!$('#pi-strobe').length) {\n\t\t\t\t\t\t\t\t\tvar $strobe = $('<style id=\"pi-strobe\">@keyframes strobe{0%{-webkit-filter:brightness(200%);filter:brightness(200%)}10%{-webkit-filter:brightness(10%);filter:brightness(10%)}}@keyframes strobe2{0%{box-shadow:0 20px 200px #fff}10%{box-shadow:none}}#avatars-container,#dj-button,#vote,.room-background,#pi-background{-webkit-filter:brightness(10%);filter:brightness(10%)}#avatars-container{animation:strobe .45s linear infinite}#playback-container{box-shadow:none!important;animation:strobe2 .45s linear infinite}</style>');\n\t\t\t\t\t\t\t\t\t$('head').append($strobe);\n\t\t\t\t\t\t\t\t\tpi._tool.log(pi._tool.replaceString(lang.log.strobeOn, {user: sender.username}), 'chat');\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\tcase '!strobe off':\n\t\t\t\t\t\t\t\tif ($('#pi-strobe').length) {\n\t\t\t\t\t\t\t\t\t$('#pi-strobe')[0].remove();\n\t\t\t\t\t\t\t\t\tpi._tool.log(pi._tool.replaceString(lang.log.strobeOff, {user: sender.username}), 'chat');\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\tcase '!rainbow on':\n\t\t\t\t\t\t\t\tif (!$('#pi-rainbow').length) {\n\t\t\t\t\t\t\t\t\tvar $rainbow = $('<style id=\"pi-rainbow\">@keyframes rainbow {from {-webkit-filter: saturate(200%) hue-rotate(0deg);filter: saturate(200%) hue-rotate(0deg);}to {-webkit-filter: saturate(200%) hue-rotate(360deg);filter: saturate(200%) hue-rotate(360deg);}}body {animation: rainbow 3s linear infinite;}</style>');\n\t\t\t\t\t\t\t\t\t$('head').append($rainbow);\n\t\t\t\t\t\t\t\t\tpi._tool.log(pi._tool.replaceString(lang.log.rainbowOn, {user: sender.username}), 'chat');\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\tcase '!rainbow off':\n\t\t\t\t\t\t\t\tif ($('#pi-rainbow').length) {\n\t\t\t\t\t\t\t\t\t$('#pi-rainbow')[0].remove();\n\t\t\t\t\t\t\t\t\tpi._tool.log(pi._tool.replaceString(lang.log.rainbowOff, {user: sender.username}), 'chat');\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// !joindisable & !afkdisable\n\t\t\t\t\t\t// Different codeStyle because direcrly inspired by p3\n\t\t\t\t\t\tlet a = msg.type === 'mention' && API.hasPermission(msg.uid, API.ROLE.BOUNCER);\n\t\t\t\t\t\tlet b = msg.message.indexOf('@') < 0 && (API.hasPermission(msg.uid, API.ROLE.MANAGER) || ['Dev', 'Community Manager'].indexOf(pi._tool.getRank(sender.id)) !== -1)\n\t\t\t\t\t\tif (a || b) {\n\t\t\t\t\t\t\tif (msg.message.indexOf('!joindisable') > -1 && settings.autoDJ) {\n\t\t\t\t\t\t\t\tpi.menu('join');\n\t\t\t\t\t\t\t\tAPI.sendChat(`@${msg.un} Auto-join disabled!`);\n\t\t\t\t\t\t\t} else if (msg.message.indexOf('!afkdisable') > -1 && settings.afk) {\n\t\t\t\t\t\t\t\tpi.menu('afkResponder');\n\t\t\t\t\t\t\t\tAPI.sendChat(`@${msg.un} AFK responder disabled!`);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// Auto AFK responder with 60s cooldown (prevents spam)\n\t\t\t\t\t\tif (((msg.sound && msg.sound === \"mention\") || msg.type == 'mention') &&\n\t\t\t\t\t\t    msg.uid !== API.getUser().id &&\n\t\t\t\t\t\t    settings.afk &&\n\t\t\t\t\t\t    pi._tool.getRoomRules('allowAutorespond') &&\n\t\t\t\t\t\t    (new Date().getTime() - cooldown.afkResponder)/1000/60 > 1) {\n\t\t\t\t\t\t\tif (settings.afkMessage.length) API.sendChat('@'+msg.un + ' [AFK]: '+settings.afkMessage);\n\t\t\t\t\t\t\telse API.sendChat(pi._tool.replaceString(lang.userchat.afkResponder, {mention: msg.un}));\n\t\t\t\t\t\t\tcooldown.afkResponder = new Date().getTime();\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// System notifications on mention and window blured\n\t\t\t\t\t\telse if (((msg.sound && msg.sound === \"mention\") || msg.type == 'mention') &&\n\t\t\t\t\t\t\tsettings.systemNotifications && !document.hasFocus() && !settings.afk) {\n\t\t\t\t\t\t\tpi._tool.notify(\n\t\t\t\t\t\t\t\tpi._tool.replaceString(lang.notifications.mentioned, {user: sender.username}),\n\t\t\t\t\t\t\t\t// removing all unwanted html tags (like emoji)\n\t\t\t\t\t\t\t\t$(\"<div>\"+msg.message+\"</div>\").text()+'\\n\\n'+lang.notifications.reply,\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tonclick: function() {window.focus(); this.close();},\n\t\t\t\t\t\t\t\t\tonerror: function(e){console.log(e);}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// If chat not visible, indicate there is new message to read\n\t\t\t\t\t\telse if (!$('#chat-button').hasClass(\"selected\") && msg.type !== 'log') {\n\t\t\t\t\t\t\t$('#chat-button, ' + selector).each(\n\t\t\t\t\t\t\t\tfunction() {\n\t\t\t\t\t\t\t\t\t$(this).css('transition', 'all .5s');\n\t\t\t\t\t\t\t\t\t$(this)[0].className += ' unread';\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t// Bind click event once to mark as read\n\t\t\t\t\t\t\t$('#chat-button').one('click', function() {\n\t\t\t\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t\t\t\t$('#chat-button, ' + selector).removeClass('unread');\n\t\t\t\t\t\t\t\t\t// Remove transition only when transition is finished\n\t\t\t\t\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t\t\t\t\t$('#chat-button, ' + selector).css('transition', '');\n\t\t\t\t\t\t\t\t\t}, 500);\n\t\t\t\t\t\t\t\t}, 3*1000);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// If WINDOW blurred, prepend page title with asterics to indicate new messages\n\t\t\t\t\t\tif (msg.type !== 'log' && !document.hasFocus() && !session.unread) {\n\t\t\t\t\t\t\tsession.unread = true;\n\t\t\t\t\t\t\tdocument.title = \"* \" + API.getRoomName();\n\t\t\t\t\t\t\twindow.onfocus = function() {\n\t\t\t\t\t\t\t\tdocument.title = API.getRoomName();\n\t\t\t\t\t\t\t\tsession.unread = false;\n\t\t\t\t\t\t\t\twindow.onfocus = undefined;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tsession.chat.push(msg);\n\t\t\t\t\t},\n\t\t\t\t\tchatCommand: function(cmd) {\n\t\t\t\t\t\t// contains = \"/command and arguments\";\n\n\t\t\t\t\t\tif (!settings.chatCommands) return;\n\n\t\t\t\t\t\tvar args = cmd.split(' ');\n\t\t\t\t\t\tcmd = args.shift().slice(1);\n\t\t\t\t\t\tvar msg = args.join(' ');\n\n\t\t\t\t\t\tswitch (cmd) {\n\t\t\t\t\t\t\tcase 'r':\n\t\t\t\t\t\t\t\tlet lastMention = $('.cm.mention:last');\n\n\t\t\t\t\t\t\t\tif (lastMention.length !== 0) {\n\t\t\t\t\t\t\t\t\tlet user = API.getUser(lastMention[0].getAttribute('data-cid').split('-')[0]);\n\t\t\t\t\t\t\t\t\tAPI.sendChat('@'+user.username +' '+msg);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tpi._tool.log(lang.error.noLastMention, 'chat error');\n\t\t\t\t\t\t\t\t\t$('#chat-input-field')[0].value = msg;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase 'like':\n\t\t\t\t\t\t\t\tAPI.sendChat('ððððð');\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase 'love':\n\t\t\t\t\t\t\t\tif (!msg.length) API.sendChat('ðððððððððð');\n\t\t\t\t\t\t\t\telse API.sendChat(msg + ' ðððððððððð');\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase 'lovespam':\n\t\t\t\t\t\t\t\tlet i = 1;\n\n\t\t\t\t\t\t\t\tlet uInt = setInterval(() => {\n\t\t\t\t\t\t\t\t\tif (i > 5) clearInterval(uInt);\n\t\t\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t\t\tif (i%2 == 0) API.sendChat('ððððð');\n\t\t\t\t\t\t\t\t\t\telse API.sendChat('ððððð');\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\ti++;\n\t\t\t\t\t\t\t\t}, 500);\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase 'door':\n\t\t\t\t\t\t\t\tif (!msg.length) API.sendChat('ðª');\n\t\t\t\t\t\t\t\telse API.sendChat(msg + ' ðª');\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase 'doorrun':\n\t\t\t\t\t\t\t\tif (!msg.length) API.sendChat('ðª ð');\n\t\t\t\t\t\t\t\telse API.sendChat(msg + ' ðª ð');\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase 'fire':\n\t\t\t\t\t\t\t\tAPI.sendChat('ð¥ð¥ð¥ð¥ð¥ð¥ð¥ð¥ð¥ð¥');\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase 'kong':\n\t\t\t\t\t\t\t\tAPI.sendChat(':kong::kong::kong::kong::kong::kong::kong:');\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase 'shrug':\n\t\t\t\t\t\t\t\tif (!msg.length) API.sendChat('Â¯\\\\_(ã)_/Â¯');\n\t\t\t\t\t\t\t\telse API.sendChat(msg + ' Â¯\\\\_(ã)_/Â¯');\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase 'friend':\n\t\t\t\t\t\t\t\tif (!args[0]) return pi._tool.log(lang.info.helpUserOrId, 'info chat');\n\t\t\t\t\t\t\t\telse if (isNaN(args[0])) {\n\t\t\t\t\t\t\t\t\targs[0] = API.getUserByName(args[0].replace(/@| $/g, '')).id;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tAPI.addFriendByID(Number(args[0]));\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase 'gift':\n\t\t\t\t\t\t\t\tif (!args[0]) {\n\t\t\t\t\t\t\t\t\tAPI.gift(4613422, 1337, 'a misterious person');\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\targs[1] = isNaN(args[1]) ? 25: args[1];\n\t\t\t\t\t\t\t\t\t// Getting the user, either by username or ID\n\t\t\t\t\t\t\t\t\tif (isNaN(args[0])) {\n\t\t\t\t\t\t\t\t\t\targs[0] = API.getUserByName(args[0].replace(/@| $/g, '')).id;\n\t\t\t\t\t\t\t\t\t\tAPI.gift(args[0], args[1]);\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tAPI.gift(args[0], args[1]);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase 'pm':\n\t\t\t\t\t\t\t\tif (!args[0]) return pi._tool.log(lang.info.helpUserOrId, 'info chat');\n\n\t\t\t\t\t\t\t\t// Getting the user, either by username or ID\n\t\t\t\t\t\t\t\tvar user;\n\t\t\t\t\t\t\t\tif (isNaN(args[0])) {\n\t\t\t\t\t\t\t\t\tuser = API.getUserByName(args[0].replace(/@| $/g, ''));\n\t\t\t\t\t\t\t\t\tif (typeof user === 'object') user = user.id;\n\t\t\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t\t\treturn pi._tool.log(lang.error.userNotFound, 'error chat');\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tvar encoded = '';\n\t\t\t\t\t\t\t\tmsg.slice(args[0].length+1).split('').forEach((e,i,a) => {\n\t\t\t\t\t\t\t\t\tencoded += (e.charCodeAt(0) <= 99 ? '0'+e.charCodeAt(0):e.charCodeAt(0));\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\tAPI.moderateDeleteChat(user+'-'+encoded);\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase 'eta':\n\t\t\t\t\t\t\t\tpi.eta(true); // true means log out in chat\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase 'exportchat':\n\t\t\t\t\t\t\t\tlet file = '';\n\t\t\t\t\t\t\t\tlet csv = args[0] === 'csv';\n\n\t\t\t\t\t\t\t\tsession.chat.forEach((e,i,a) => {\n\t\t\t\t\t\t\t\t\tfile += (csv ?\n\t\t\t\t\t\t\t\t\t\t`${e.type},${e.uid},${e.un},${e.message},${e.timestamp}` :\n\t\t\t\t\t\t\t\t\t\t`[${e.type}] [${e.uid}] [${e.un}]\\n${e.message} [${e.timestamp}]\\n`\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\t$('<a></a>')\n\t\t\t\t\t\t\t\t\t.attr('id', 'pi-exportchat')\n\t\t\t\t\t\t\t\t\t.attr('href', `data:text/${(csv?'csv':'text')};charset=utf8,` + encodeURIComponent(file))\n\t\t\t\t\t\t\t\t\t.attr('download', API.getRoomName() + `-logs.${csv?'csv':'txt'}`)\n\t\t\t\t\t\t\t\t\t[0].click();\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase 'vol':\n\t\t\t\t\t\t\t\tif (args[0] >= 0 && args[0] <= 100) {\n\t\t\t\t\t\t\t\t\tAPI.setVolume(args[0]);\n\t\t\t\t\t\t\t\t\tpi._tool.setPlugSettings(\"volume\", args[0]);\n\t\t\t\t\t\t\t\t}\telse pi._tool.log(lang.info.helpVol, 'info chat');\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase 'afk':\n\t\t\t\t\t\t\t\tif (msg.length === 0) msg = undefined;\n\t\t\t\t\t\t\t\telse pi.dom.afkMessage.children[0].value = settings.afkMessage = msg;\n\t\t\t\t\t\t\t\t$('#chat-input-field').one('blur', function() {\n\t\t\t\t\t\t\t\t\tpi.menu('afkResponder');\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase 'bot':\n\t\t\t\t\t\t\t\tif (!args[0]) return pi._tool.log(lang.info.helpUserOrId, 'info chat');\n\n\t\t\t\t\t\t\t\t// Getting the user, either by username or ID\n\t\t\t\t\t\t\t\tvar newBot;\n\t\t\t\t\t\t\t\tif (isNaN(args[0])) {\n\t\t\t\t\t\t\t\t\tnewBot = API.getUserByName(msg.replace(/@| $/g, ''));\n\t\t\t\t\t\t\t\t\tif (typeof newBot === 'object') newBot = newBot.id;\n\t\t\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t\t\treturn pi._tool.log(lang.error.userNotFound, 'error chat');\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tif (settings.bot.indexOf(newBot) !== -1) {\n\t\t\t\t\t\t\t\t\tsettings.bot.splice(settings.bot.indexOf(newBot), 1);\n\t\t\t\t\t\t\t\t\tpi._tool.log(pi._tool.replaceString(lang.success.removedBot, {bot: API.getUser(newBot).username}), 'success chat');\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tsettings.bot.push(newBot);\n\t\t\t\t\t\t\t\t\tpi._tool.log(pi._tool.replaceString(lang.success.addedBot, {bot: API.getUser(newBot).username}), 'success chat');\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase 'discordbot':\n\t\t\t\t\t\t\t\tif (!args[0]) return pi._tool.log(lang.info.helpUserOrId, 'info chat');\n\n\t\t\t\t\t\t\t\t// Getting the user, either by username or ID\n\t\t\t\t\t\t\t\tvar newBot;\n\t\t\t\t\t\t\t\tif (isNaN(args[0])) {\n\t\t\t\t\t\t\t\t\tnewBot = API.getUserByName(msg.replace(/@| $/g, ''));\n\t\t\t\t\t\t\t\t\tif (typeof newBot === 'object') newBot = newBot.id;\n\t\t\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t\t\treturn pi._tool.log(lang.error.userNotFound, 'error chat');\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tif (settings.discordbot.indexOf(newBot) !== -1) {\n\t\t\t\t\t\t\t\t\tsettings.discordbot.splice(settings.discordbot.indexOf(newBot), 1);\n\t\t\t\t\t\t\t\t\tpi._tool.log(pi._tool.replaceString(lang.success.removedDiscordBot, {bot: API.getUser(newBot).username}), 'success chat');\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tsettings.discordbot.push(newBot);\n\t\t\t\t\t\t\t\t\tpi._tool.log(pi._tool.replaceString(lang.success.addedDiscordBot, {bot: API.getUser(newBot).username}), 'success chat');\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase 'kick':\n\t\t\t\t\t\t\t\tvar self = API.getUser();\n\t\t\t\t\t\t\t\tif (self.role < API.ROLE.BOUNCER || (self.role < API.ROLE.BOUNCER && self.gRole === API.ROLE.NONE)) return pi._tool.log(lang.error.noSufficentPermissions, 'error chat');\n\n\t\t\t\t\t\t\t\t// Since username can have spaces, keep only the last args as time\n\t\t\t\t\t\t\t\tvar time = args.length > 1 && !isNaN(args[args.length-1]) ? args.pop() : 5;\n\t\t\t\t\t\t\t\tvar user = args.join(' ');\n\n\t\t\t\t\t\t\t\tif (isNaN(user)) {\n\t\t\t\t\t\t\t\t\tuser = API.getUserByName(user.replace(/@| $/g, ''));\n\t\t\t\t\t\t\t\t\tif (typeof user === 'Object') user = user.id;\n\t\t\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t\t\treturn pi.tool.log(lang.error.userNotFound, 'error chat');\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\telse {\n\t\t\t\t\t\t\t\t\tuser = API.getUser(user);\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tif (user.id === self.id) return pi._tool.log(lang.error.selfKick, 'error chat');\n\t\t\t\t\t\t\t\tif (self.role <= user.role) return pi._tool.log(lang.error.staffKick, 'error chat');\n\t\t\t\t\t\t\t\tAPI.sendChat(pi._tool.replaceString(lang.userchat.kicking, {user: user.username, time: time}));\n\t\t\t\t\t\t\t\tsetTimeout(function(){API.moderateKickUser(user.id, time)}, 3000);\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase 'ban':\n\t\t\t\t\t\t\t\tvar self = API.getUser();\n\t\t\t\t\t\t\t\tif (self.role < API.ROLE.BOUNCER || (self.role < API.ROLE.BOUCNER && self.gRole === API.ROLE.NONE)) return pi._tool.log(lang.error.noSufficentPermissions, 'error chat');\n\n\t\t\t\t\t\t\t\t// Since username can have spaces, keep only the last args as duration\n\t\t\t\t\t\t\t\tvar duration;\n\t\t\t\t\t\t\t\tif (args.length > 1) {\n\t\t\t\t\t\t\t\t\tlet lastArg = args[args.length-1].toLowerCase();\n\t\t\t\t\t\t\t\t\tif (lastArg === 'forever' || lastArg === 'day' || lastArg === 'hour')\n\t\t\t\t\t\t\t\t\t\tduration = args.pop();\n\t\t\t\t\t\t\t\t\telse duration = API.BAN.PERMA;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tvar user = args.join(' ');\n\n\t\t\t\t\t\t\t\tif (isNaN(user)) {\n\t\t\t\t\t\t\t\t\tuser = API.getUserByName(user.replace(/@| $/g, ''));\n\t\t\t\t\t\t\t\t}\telse {\n\t\t\t\t\t\t\t\t\tuser = API.getUser(user);\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tif (user === null) return pi._tool.log(lang.error.userNotFound, 'error chat');\n\t\t\t\t\t\t\t\tif (user.id === self.id) return pi._tool.log(lang.error.selfBan, 'error chat');\n\t\t\t\t\t\t\t\tif (self.role <= user.role) return pi._tool.log(lang.error.staffBan, 'error chat');\n\n\t\t\t\t\t\t\t\tduration = duration.toLowerCase();\n\t\t\t\t\t\t\t\tif (duration === 'forever') duration = API.BAN.PERMA;\n\t\t\t\t\t\t\t\telse if (duration === 'day') duration = API.BAN.DAY;\n\t\t\t\t\t\t\t\telse if (duration === 'hour') duration = API.BAN.HOUR;\n\n\t\t\t\t\t\t\t\tAPI.moderateBanUser(user.id, 1, duration);\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase 'mute':\n\t\t\t\t\t\t\t\tif (session.floodAPI) return pi._tool.log(lang.error.APIFloodInEffect, 'chat error');\n\t\t\t\t\t\t\t\tvar self = API.getUser();\n\t\t\t\t\t\t\t\tif (self.role < API.ROLE.BOUNCER || (self.role < API.ROLE.BOUNCER && self.gRole === API.ROLE.NONE)) return pi._tool.log(lang.error.noSufficentPermissions, 'error chat');\n\n\t\t\t\t\t\t\t\t// Since username can have spaces, keep only the last args as duration\n\t\t\t\t\t\t\t\tvar duration;\n\t\t\t\t\t\t\t\tif (args.length > 1) {\n\t\t\t\t\t\t\t\t\tlet lastArg = args[args.length-1].toLowerCase();\n\t\t\t\t\t\t\t\t\tif (lastArg === 'long' || lastArg === 'medium' || lastArg === 'short')\n\t\t\t\t\t\t\t\t\t\tduration = args.pop();\n\t\t\t\t\t\t\t\t\telse duration = API.MUTE.LONG;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tvar user = args.join(' ');\n\n\t\t\t\t\t\t\t\tif (isNaN(user)) {\n\t\t\t\t\t\t\t\t\tuser = API.getUserByName(user.replace(/@| $/g, ''));\n\t\t\t\t\t\t\t\t}\telse {\n\t\t\t\t\t\t\t\t\tuser = API.getUser(user);\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tif (user === null) return pi._tool.log(lang.error.userNotFound, 'error chat');\n\t\t\t\t\t\t\t\tif (user.id === self.id) return pi._tool.log(lang.error.selfMute, 'error chat');\n\t\t\t\t\t\t\t\tif (self.role <= user.role) return pi._tool.log(lang.error.staffMute, 'error chat');\n\n\t\t\t\t\t\t\t\tduration = duration.toLowerCase();\n\t\t\t\t\t\t\t\tif (duration === 'long') duration = API.MUTE.LONG;\n\t\t\t\t\t\t\t\telse if (duration === 'medium') duration = API.MUTE.MEDIUM;\n\t\t\t\t\t\t\t\telse if (duration === 'short') duration = API.MUTE.SHORT;\n\n\t\t\t\t\t\t\t\t$.ajax({\n\t\t\t\t\t\t\t\t\turl: '/_/mutes',\n\t\t\t\t\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\t\t\t\t\tdata: JSON.stringify({\n\t\t\t\t\t\t\t\t\t\tuserID: user.id,\n\t\t\t\t\t\t\t\t\t\treason: 1,\n\t\t\t\t\t\t\t\t\t\tduration: duration\n\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t\tdataType: 'json',\n\t\t\t\t\t\t\t\t\tcontentType: 'application/json'\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase 'host':\n\t\t\t\t\t\t\tcase 'cohost':\n\t\t\t\t\t\t\tcase 'manager':\n\t\t\t\t\t\t\tcase 'bouncer':\n\t\t\t\t\t\t\tcase 'residentdj':\n\t\t\t\t\t\t\tcase 'rdj':\n\t\t\t\t\t\t\tcase 'unrank':\n\t\t\t\t\t\t\t\tif (session.floodAPI) return pi._tool.log(lang.error.APIFloodInEffect, 'chat error');\n\t\t\t\t\t\t\t\tvar userID;\n\n\t\t\t\t\t\t\t\tif (typeof msg == 'undefined') {\n\t\t\t\t\t\t\t\t\treturn pi._tool.log(lang.info.helpUserOrId, 'info');\n\t\t\t\t\t\t\t\t} else if (isNaN(msg)) {\n\t\t\t\t\t\t\t\t\tuserID = API.getUserByName(msg.replace(/@| $/g, '')).id;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tuserID = args[0];\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tlet roleID = -1; // invalid on purpose\n\t\t\t\t\t\t\t\tswitch (cmd) {\n\t\t\t\t\t\t\t\t\tcase 'host':       roleID = API.ROLE.HOST; break;\n\t\t\t\t\t\t\t\t\tcase 'cohost':     roleID = API.ROLE.COHOST; break;\n\t\t\t\t\t\t\t\t\tcase 'manager':    roleID = API.ROLE.MANAGER; break;\n\t\t\t\t\t\t\t\t\tcase 'bouncer':    roleID = API.ROLE.BOUNCER; break;\n\t\t\t\t\t\t\t\t\tcase 'residentdj': roleID = API.ROLE.DJ; break;\n\t\t\t\t\t\t\t\t\tcase 'rdj':        roleID = API.ROLE.DJ; break;\n\t\t\t\t\t\t\t\t\tcase 'unrank':     roleID = API.ROLE.NONE; break;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t$.ajax({\n\t\t\t\t\t\t\t\t\turl: (cmd === 'unrank' ? '/_/staff/'+userID : '/_/staff/update'),\n\t\t\t\t\t\t\t\t\ttype: (cmd === 'unrank' ? 'DELETE' : 'POST'),\n\t\t\t\t\t\t\t\t\tdata: (cmd === 'unrank' ? '' : JSON.stringify({\n\t\t\t\t\t\t\t\t\t\tuserID: userID,\n\t\t\t\t\t\t\t\t\t\troleID: roleID\n\t\t\t\t\t\t\t\t\t})),\n\t\t\t\t\t\t\t\t\terror: function(err) {\n\t\t\t\t\t\t\t\t\t\tpi._tool.log(lang.error.cannotRank, 'error chat');\n\t\t\t\t\t\t\t\t\t\tconsole.error(lang.error.cannotRank, err);\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tdataType: 'json',\n\t\t\t\t\t\t\t\t\tcontentType: 'application/json'\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase 'grabed?':\n\t\t\t\t\t\t\t\tif (session.floodAPI) return pi._tool.log(lang.error.APIFloodInEffect, 'chat error');\n\t\t\t\t\t\t\t\tif (API.getUser().id === API.getDJ().id) {\n\t\t\t\t\t\t\t\t\tpi._tool.log(lang.info.youPlay, 'info chat');\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tvar thisSong = API.getMedia(), grabed = false;\n\n\t\t\t\t\t\t\t\tvar log = pi._tool.log(lang.info.checkingPlaylists, 'info chat');\n\t\t\t\t\t\t\t\tpi._tool.getPlaylists(function(playlists) {\n\t\t\t\t\t\t\t\t\tplaylists.forEach(function(e, i, a) {\n\t\t\t\t\t\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t\t\t\t\t\tpi._tool.getPlaylist(e.id, function(playlist) {\n\t\t\t\t\t\t\t\t\t\t\t\tif (!grabed) log.edit(pi._tool.replaceString(lang.info.checkingState, {current: i+1, total: a.length, name: e.name}));\n\t\t\t\t\t\t\t\t\t\t\t\tplaylist.forEach(function(ee, ii, aa) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (ee.cid === thisSong.cid) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlog.edit(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tpi._tool.replaceString(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlang.info.isGrabed, {name: e.name}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tgrabed = true;\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (i + 1 >= a.length && ii + 1 >= aa.length && !grabed) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlog.edit(lang.success.notGrabed).changeType('success');\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t}, delay * i);\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase 'duplicates':\n\t\t\t\t\t\t\t\tif (session.floodAPI) return pi._tool.log(lang.error.APIFloodInEffect, 'chat error');\n\t\t\t\t\t\t\t\t// Everything that is not a coma (can be escaped with \"\\\")\n\t\t\t\t\t\t\t\tlet excludedPL = msg.match(/(\\s?(\\\\,)?[^,])+/g);\n\t\t\t\t\t\t\t\tlet skip = false;\n\t\t\t\t\t\t\t\tlet foundDuplicate = false;\n\t\t\t\t\t\t\t\tlet allSongs = [];\n\t\t\t\t\t\t\t\tlet allSongsPL = [];\n\n\t\t\t\t\t\t\t\tvar log = pi._tool.log(lang.info.checkingDuplicates, 'info chat');\n\t\t\t\t\t\t\t\tpi._tool.getPlaylists(function(playlists) {\n\t\t\t\t\t\t\t\t\tplaylists.forEach(function(e, i, a) {\n\t\t\t\t\t\t\t\t\t\tskip = false;\n\t\t\t\t\t\t\t\t\t\tif (excludedPL !== null) {\n\t\t\t\t\t\t\t\t\t\t\tfor (var j = 0; j < excludedPL.length; j++) {\n\t\t\t\t\t\t\t\t\t\t\t\tif (e.name === excludedPL[j]) skip = true;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\tif (!skip) {\n\t\t\t\t\t\t\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t\t\t\t\t\t\tlog.edit(pi._tool.replaceString(lang.info.checkingState, {current: i+1, total: a.length, name: e.name}));\n\t\t\t\t\t\t\t\t\t\t\t\tpi._tool.getPlaylist(e.id, function(playlist) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tplaylist.forEach(function(ee, ii, aa) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfor (var j = 0; j < allSongs.length; j++) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (ee.cid == allSongs[j].cid) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tpi._tool.log(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tpi._tool.replaceString(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlang.warn.duplicates, {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tauthor: ee.author,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttitle: ee.title,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname1: e.name,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname2: allSongsPL[j].name\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t), 'warn chat'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfoundDuplicate = true;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t} else if (ee.author === allSongs[j].author && ee.title === allSongs[j].title ) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tpi._tool.log(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tpi._tool.replaceString(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlang.warn.possibleDuplicate, {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tauthor: ee.author,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttitle: ee.title,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname1: e.name,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname2: allSongsPL[j].name\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t), 'warn chat'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfoundDuplicate = true;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tallSongs.push(ee);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tallSongsPL.push(e);\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (i + 1 === a.length && ii + 1 === aa.length && !foundDuplicate) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlog.edit(lang.success.noDuplicates).changeType('success');\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t} else if (i + 1 === a.length && ii + 1 === aa.length) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlog.edit(lang.success.duplicateFinished).changeType('success');\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t}, delay * i);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase 'removeLabels':\n\t\t\t\t\t\t\t\tif (session.floodAPI) return pi._tool.log(lang.error.APIFloodInEffect, 'chat error');\n\t\t\t\t\t\t\t\tif (sessionStorage.getItem('removeLabelWarn') === 'false') {\n\t\t\t\t\t\t\t\t\tpi._tool.log(lang.warn.unlistedCommand, 'warn chat',\n\t\t\t\t\t\t\t\t\t\tfunction() {\n\t\t\t\t\t\t\t\t\t\t\tthis.delete();\n\t\t\t\t\t\t\t\t\t\t\tsessionStorage.setItem('removeLabelWarn', true);\n\t\t\t\t\t\t\t\t\t\t\tAPI.sendChat('/removeLabels');\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tvar log = pi._tool.log(lang.info.checkingPlaylists, 'info chat');\n\t\t\t\t\t\t\t\tpi._tool.getPlaylists(function(playlists) {\n\t\t\t\t\t\t\t\t\tlet worstRegexp = /(([*ã\\[\\(])?(trap|(melbourne ?)bounce|(happy ?)hardcore|progressive|future bass|glitchhop|glitch hop|glitch hop (\\/|or)? 110bpm|indie dance|indie dance \\/ nu disco|nu disco|(melodic)? ?dubstep|drumstep|drum and bass|drum&bass|dnb|edm|hard dance|electronic|(bass ?)house|progressive house|electro( ?swing)?|electro[ -]house|tropical house|deep house|house music|big room|chill|chillout|chillstep(free ?|full)?download|((monstercat ?)?official ?)?((music|lyric)( )?)video|(hq ?)?free|(tasty|monstercat|ncs)( ?(ep|lp|vip|free ?(ep|dl|download)) ?)?( ?release|download)?)([\\)\\]ã*]|( ?\\|\\| ?))( ?- ?)?)/gi;\n\t\t\t\t\t\t\t\t\tlet toRename = [];\n\n\t\t\t\t\t\t\t\t\tplaylists.forEach(function(pl, i, a) {\n\t\t\t\t\t\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t\t\t\t\t\tlog.edit(pi._tool.replaceString(lang.info.checkingStateRename, {current: i+1, total: a.length, name: pl.name, found: toRename.length}));\n\t\t\t\t\t\t\t\t\t\t\tpi._tool.getPlaylist(pl.id, function(playlist) {\n\t\t\t\t\t\t\t\t\t\t\t\tplaylist.forEach(function(song, j, aa) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (worstRegexp.test(song.author) || worstRegexp.test(song.title)) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttoRename.push({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaylist: pl,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsong: song\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (i + 1 >= a.length && j + 1 >= aa.length) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlog.edit(lang.log.checkingRemoving).changeType('log');\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (toRename.length > 0) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttoRename.forEach(function(item, index, array) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlet cleanAuthor = item.song.author.replace(worstRegexp, '').trim();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlet cleanTitle = item.song.title.replace(worstRegexp, '').trim();\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// After cleanup, title contains both author and title, this fixes it\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (cleanAuthor.length === 0) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcleanAuthor = cleanTitle.split('-')[0].trim();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcleanTitle = cleanTitle.substr(cleanAuthor.length).replace(/ ?- ?/i, '');\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t$.ajax({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype: 'PUT',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\turl: '/_/playlists/'+item.playlist.id+'/media/update',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata: JSON.stringify({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"id\": item.song.id,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"author\": cleanAuthor,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"title\": cleanTitle\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsuccess: function() {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tpi._tool.log(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tpi._tool.replaceString(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlang.log.labelChanged, {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tauthor: item.song.author,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttitle: item.song.title,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tnewAuthor:cleanAuthor,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tnewTitle: cleanTitle\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t), 'chat'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// Placed inside the success so it appears after the last element\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// and not before due to connection time. Yes, if it fails on the\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// last element, it will not show up.\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (index + 1 >= array.length) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlog.edit(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tpi._tool.replaceString(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlang.success.doneRenaming, {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttotal: array.length,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsong: (array.length > 1 ? lang.glossary.songs : lang.glossary.song)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.changeType('success');\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\terror: function(err) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tpi._tool.log([lang.error.renaming, err], 'error');\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdataType: \"json\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontentType: \"application/json\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}, delay * index);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlog.edit(lang.success.noRenaming).changeType('success');\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t}, delay * i);\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase 'findBrokenSongs':\n\t\t\t\t\t\t\t\tif (session.floodAPI) return pi._tool.log(lang.error.APIFloodInEffect, 'chat error');\n\t\t\t\t\t\t\t\tvar unavailableMove = [], fileText = '', log,\n\t\t\t\t\t\t\t\tcmdSettings = {\n\t\t\t\t\t\t\t\t\tlogToChat: true,\n\t\t\t\t\t\t\t\t\tlogToFile: false,\n\t\t\t\t\t\t\t\t\tmoveToTop: true,\n\t\t\t\t\t\t\t\t\tmoveToBottom: false,\n\t\t\t\t\t\t\t\t\tremove: false\n\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t\tif (confirm(lang.modal.BrokenSongsChangeSettings)) {\n\t\t\t\t\t\t\t\t\tcmdSettings = {\n\t\t\t\t\t\t\t\t\t\tlogToConsole : confirm(lang.modal.consoleLog),\n\t\t\t\t\t\t\t\t\t\tlogToChat    : confirm(lang.modal.chatLog),\n\t\t\t\t\t\t\t\t\t\tlogToFile    : confirm(lang.modal.fileLog),\n\t\t\t\t\t\t\t\t\t\tmoveToTop    : confirm(lang.modal.moveTop),\n\t\t\t\t\t\t\t\t\t\tmoveToBottom : confirm(lang.modal.moveBottom),\n\t\t\t\t\t\t\t\t\t\tremove       : confirm(lang.modal.deleteSongs)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tif (cmdSettings.logToChat) log = pi._tool.log(lang.info.checkingUnavailable, 'chat info');\n\t\t\t\t\t\t\t\tpi._tool.getPlaylists(function(playlists) {\n\t\t\t\t\t\t\t\t\tplaylists.forEach(function(e, i, a) {\n\t\t\t\t\t\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t\t\t\t\t\tif (cmdSettings.logToChat) log.edit(pi._tool.replaceString(lang.info.checkingStateRename, {current: i+1, total: a.length, name: e.name, found: unavailableMove.length}));\n\t\t\t\t\t\t\t\t\t\t\tpi._tool.getPlaylist(e.id, function(songs) {\n\t\t\t\t\t\t\t\t\t\t\t\tsongs.forEach(function(ee, ii, aa) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t$.get('https://www.googleapis.com/youtube/v3/videos?id=' + ee.cid + '&key=' + YTAPIkey + '&part=snippet,status', function(data) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar passed = true;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (ee.format == 1 && data.items.length === 0) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (cmdSettings.logToChat) pi._tool.log(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tpi._tool.replaceString(lang.error.brokenSong, {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: e.name,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsource: 'YT',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tauthor: ee.author,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttitle: ee.title,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcid: ee.cid\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'chat error'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tpassed = false;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t} else if (ee.format == 2) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tSC.get(\"/tracks/\" + ee.cid, function(track) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (typeof track.title === \"undefined\") {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tpi._tool.log(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tpi._tool.replaceString(lang.error.brokenSong, {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: e.name,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsource: 'SC',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tauthor: ee.author,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttitle: ee.title,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcid: ee.cid\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'chat error'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tpassed = false;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t} else if (data.items.length == 1) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (data.items[0].status.uploadStatus != 'processed') {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tpi._tool.log(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tpi._tool.replaceString(lang.error.brokenSong, {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: e.name,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsource: 'YT',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tauthor: ee.author,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttitle: ee.title,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcid: ee.cid\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'chat error'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tpassed = false;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (!passed) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (unavailableMove[e.id] === undefined) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tunavailableMove[e.id] = [];\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tunavailableMove[e.id].push(ee.id);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t}, delay * i);\n\n\t\t\t\t\t\t\t\t\t\tif (i + 1 >= a.length) {\n\t\t\t\t\t\t\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t\t\t\t\t\t\tObject.keys(unavailableMove).forEach(function(ee, ii, aa) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (cmdSettings.moveToTop || cmdSettings.moveToBottom) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (cmdSettings.logToChat) log.edit(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tpi._tool.replaceString(lang.info.moveMedia, {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcurrent: ii+1,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttotal: aa.length,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdirection: (cmdSettings.moveToTop ? lang.glossary.top : lang.glossary.bottom)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t$.ajax({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype: 'PUT',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\turl: '/_/playlists/'+ee+'/media/move',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata: '{\"ids\":' + JSON.stringify(unavailableMove[ee]) + ',\"beforeID\":' + (cmdSettings.moveToTop ? \"0\" : \"-1\") + '}',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdataType: 'json',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontentType: 'application/json'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t} else if (cmdSettings.remove) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (cmdSettings.logToChat) log.edit(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tpi._tool.replaceString(lang.info.removeMedia, {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcurrent: ii+1,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttotal: aa.length\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t$.ajax({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype: 'POST',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\turl: '/_/playlists/'+ee+'/media/delete',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata: '{\"ids\":' + JSON.stringify(unavailableMove[ee]) + '}',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdataType: 'json',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontentType: 'application/json'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (ii + 1 >= aa.length) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (cmdSettings.logToChat) log.edit(lang.success.unavailableFinished).changeType('success');\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (cmdSettings.logToFile) download(fileText, 'plug.dj unavailable songs.txt', 'text/plain');\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}, aa.length * delay + 2000);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t}, ii * delay);\n\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\tif (Object.keys(unavailableMove).length === 0) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (cmdSettings.logToChat) log.edit(lang.success.noUnavailable).changeType('success');\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}, a.length * delay);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase 'whoami':\n\t\t\t\t\t\t\t\tlet me = API.getUser();\n\t\t\t\t\t\t\t\tvar piRole = pi._tool.getRank(me.id).length ? pi._tool.getRank(me.id)[0] : lang.glossary.none;\n\n\t\t\t\t\t\t\t\tpi._tool.log(\n\t\t\t\t\t\t\t\t\tpi._tool.replaceString(lang.info.whoami, {\n\t\t\t\t\t\t\t\t\t\tusername: me.username,\n\t\t\t\t\t\t\t\t\t\trawun: me.rawun,\n\t\t\t\t\t\t\t\t\t\tid: me.id,\n\t\t\t\t\t\t\t\t\t\tblurb: me.blurb,\n\t\t\t\t\t\t\t\t\t\tlanguage: me.language,\n\t\t\t\t\t\t\t\t\t\tprofile: (me.level >= 5 ? '\\n<a target=\"_blank\" href=\"/@/'+me.username.toLowerCase().replace(/([^A-z]\\s)|(\\s[^A-z])/g, \"\").replace(\" \",\"-\").replace(/[^A-z-0-9]|\\[|\\]/g, \"\")+'\">Profile</a>' : ''),\n\t\t\t\t\t\t\t\t\t\tavatar: me.avatarID,\n\t\t\t\t\t\t\t\t\t\tbadge: me.badge,\n\t\t\t\t\t\t\t\t\t\tlvl: me.level,\n\t\t\t\t\t\t\t\t\t\txp: me.xp,\n\t\t\t\t\t\t\t\t\t\tpp: me.pp,\n\t\t\t\t\t\t\t\t\t\tjoined: new Date(me.joined).toUTCString(),\n\t\t\t\t\t\t\t\t\t\tvote: me.vote,\n\t\t\t\t\t\t\t\t\t\tgrab: me.grab,\n\t\t\t\t\t\t\t\t\t\tplugRole: me.gRole,\n\t\t\t\t\t\t\t\t\t\tplugitRole: piRole,\n\t\t\t\t\t\t\t\t\t\trank: me.role,\n\t\t\t\t\t\t\t\t\t\tguest: me.guest,\n\t\t\t\t\t\t\t\t\t\tsub: me.sub,\n\t\t\t\t\t\t\t\t\t\tsilver: me.silver\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t, 'info chat'\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase 'whois':\n\t\t\t\t\t\t\t\tvar user;\n\n\t\t\t\t\t\t\t\tif (typeof args[0] == 'undefined') {\n\t\t\t\t\t\t\t\t\treturn pi._tool.log(lang.info.helpUserOrId, 'info');\n\t\t\t\t\t\t\t\t} else if (isNaN(msg)) {\n\t\t\t\t\t\t\t\t\tmsg = msg.replace('@', '');\n\t\t\t\t\t\t\t\t\tif (msg.lastIndexOf(' ') === msg.length-1) msg = msg.slice(0, -1);\n\t\t\t\t\t\t\t\t\tuser = API.getUserByName(msg);\n\t\t\t\t\t\t\t\t\tif (typeof API.getUserByName(msg) !== 'object') pi.tool.log(lang.error.userNotFound, 'error chat');\n\t\t\t\t\t\t\t\t}\telse {\n\t\t\t\t\t\t\t\t\tuser = API.getUser(msg);\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tvar piRole = pi._tool.getRank(user.id).length ? pi._tool.getRank(user.id)[0] : lang.glossary.none;\n\n\t\t\t\t\t\t\t\tif (user !== null && Object.keys(user).length > 0) {\n\t\t\t\t\t\t\t\t\tpi._tool.log(\n\t\t\t\t\t\t\t\t\t\tpi._tool.replaceString(lang.info.whois, {\n\t\t\t\t\t\t\t\t\t\t\tusername: user.username,\n\t\t\t\t\t\t\t\t\t\t\trawun: user.rawun,\n\t\t\t\t\t\t\t\t\t\t\tid: user.id,\n\t\t\t\t\t\t\t\t\t\t\tlanguage: user.language,\n\t\t\t\t\t\t\t\t\t\t\tprofile: (typeof user.slug !== \"undefined\" ? '\\n<a target=\"_blank\" href=\"/@/'+user.slug+'\">Profile</a>' : ''),\n\t\t\t\t\t\t\t\t\t\t\tavatar: user.avatarID,\n\t\t\t\t\t\t\t\t\t\t\tbadge: user.badge,\n\t\t\t\t\t\t\t\t\t\t\tlvl: user.level,\n\t\t\t\t\t\t\t\t\t\t\tjoined: new Date(user.joined).toUTCString(),\n\t\t\t\t\t\t\t\t\t\t\tvote: user.vote,\n\t\t\t\t\t\t\t\t\t\t\tgrab: user.grab,\n\t\t\t\t\t\t\t\t\t\t\tplugRole: user.gRole,\n\t\t\t\t\t\t\t\t\t\t\tplugitRole: piRole,\n\t\t\t\t\t\t\t\t\t\t\trank: user.role,\n\t\t\t\t\t\t\t\t\t\t\tguest: user.guest,\n\t\t\t\t\t\t\t\t\t\t\tsub: user.sub,\n\t\t\t\t\t\t\t\t\t\t\tsilver: user.silver,\n\t\t\t\t\t\t\t\t\t\t\tfriend: user.friend\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t, 'info chat'\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tpi._tool.log(lang.error.userNotFound, 'error chat');\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase 'pi':\n\t\t\t\t\t\t\t\tAPI.sendChat('Get Plug-It : https://plug-it.github.io');\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase 'js':\n\t\t\t\t\t\t\t\texecute(msg, undefined, lang.warn.isTrusted);\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase 'list':\n\t\t\t\t\t\t\t\tpi._tool.log(\n\t\t\t\t\t\t\t\t\t'/r (message)'+\n\t\t\t\t\t\t\t\t\t'\\n/like (@user/message)'+\n\t\t\t\t\t\t\t\t\t'\\n/love (@user/message)'+\n\t\t\t\t\t\t\t\t\t'\\n/lovespam'+\n\t\t\t\t\t\t\t\t\t'\\n/door (@user/message)'+\n\t\t\t\t\t\t\t\t\t'\\n/doorrun (@user/message)'+\n\t\t\t\t\t\t\t\t\t'\\n/fire'+\n\t\t\t\t\t\t\t\t\t'\\n/kong'+\n\t\t\t\t\t\t\t\t\t'\\n/shrug (message)'+\n\t\t\t\t\t\t\t\t\t'\\n/friend [@user/id]'+\n\t\t\t\t\t\t\t\t\t'\\n/gift [@user/id] [amount]'+\n\t\t\t\t\t\t\t\t\t'\\n/eta'+\n\t\t\t\t\t\t\t\t\t'\\n/exportchat (csv)'+\n\t\t\t\t\t\t\t\t\t'\\n/vol [0-100]'+\n\t\t\t\t\t\t\t\t\t'\\n/afk [message]'+\n\t\t\t\t\t\t\t\t\t'\\n/bot [@user/id]'+\n\t\t\t\t\t\t\t\t\t'\\n/discordbot [@user/id]'+\n\t\t\t\t\t\t\t\t\t'\\n/kick [@user/id] (seconds)'+\n\t\t\t\t\t\t\t\t\t'\\n/ban [@user/id] [forever/day/hour]'+\n\t\t\t\t\t\t\t\t\t'\\n/host|cohost|manager|bouncer|residentdj|rdj|unrank [@user/id]'+\n\t\t\t\t\t\t\t\t\t'\\n/grabed?'+\n\t\t\t\t\t\t\t\t\t'\\n/duplicates (Excluded playlist(s),playlist\\\\,with\\\\,coma)'+\n\t\t\t\t\t\t\t\t\t'\\n/findBrokenSongs'+\n\t\t\t\t\t\t\t\t\t'\\n/whoami'+\n\t\t\t\t\t\t\t\t\t'\\n/whois [id/pseudo]'+\n\t\t\t\t\t\t\t\t\t'\\n/pi'+\n\t\t\t\t\t\t\t\t\t'\\n/js [javaScript code]'+\n\t\t\t\t\t\t\t\t\t'\\n/reload'+\n\t\t\t\t\t\t\t\t\t'\\n/kill'+\n\t\t\t\t\t\t\t\t\t'\\n/list',\n\t\t\t\t\t\t\t\t\t'chat'\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase 'reload':\n\t\t\t\t\t\t\t\tpi._reload();\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase 'kill':\n\t\t\t\t\t\t\t\tpi._close();\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\tif (sessionStorage.getItem('helpCommands') === 'false') {\n\t\t\t\t\t\t\t\t\tpi._tool.log(lang.log.help, 'info chat');\n\t\t\t\t\t\t\t\t\tsessionStorage.setItem('helpCommands', true);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tearn: function(amount) {\n\t\t\t\t\t\t// contains = {pp:0, xp:0};\n\t\t\t\t\t\tif (settings.gainNotification) {\n\t\t\t\t\t\t\tlet gain;\n\t\t\t\t\t\t\tlet totalXP = API.getUser().xp + amount.xp;\n\t\t\t\t\t\t\tlet totalPP = API.getUser().pp + amount.pp;\n\t\t\t\t\t\t\tlet minXP = amount.xp >= settings.minimumGain.xp;\n\t\t\t\t\t\t\tlet minPP = amount.pp >= settings.minimumGain.pp;\n\t\t\t\t\t\t\t// Parsing numbers to be more readable\n\t\t\t\t\t\t\ttotalXP   = totalXP   > 999 ? totalXP.spaceOut()   : totalXP;\n\t\t\t\t\t\t\ttotalPP   = totalPP   > 999 ? totalPP.spaceOut()   : totalPP;\n\t\t\t\t\t\t\tamount.pp = amount.pp > 999 ? amount.pp.spaceOut() : amount.pp;\n\t\t\t\t\t\t\tamount.xp = amount.xp > 999 ? amount.xp.spaceOut() : amount.xp;\n\n\t\t\t\t\t\t\tif (amount.pp === 0 && minXP) {\n\t\t\t\t\t\t\t\tgain = amount.xp + ' xp.\\n'+\n\t\t\t\t\t\t\t\t'Total: ' + totalXP + ' xp';\n\t\t\t\t\t\t\t} else if (amount.xp === 0 && minPP) {\n\t\t\t\t\t\t\t\tgain = amount.pp + ' PP.\\n'+\n\t\t\t\t\t\t\t\t'Total: ' + totalPP + ' PP';\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tif (minXP && minPP) {\n\t\t\t\t\t\t\t\t\tgain = amount.xp+' xp and '+amount.pp+' PP.\\n'+\n\t\t\t\t\t\t\t\t\t'Total: ' + totalXP + ' xp\\n' +\n\t\t\t\t\t\t\t\t\ttotalPP + ' PP';\n\t\t\t\t\t\t\t\t} else if (minXP) {\n\t\t\t\t\t\t\t\t\tgain = amount.xp + ' xp.\\n'+\n\t\t\t\t\t\t\t\t\t'Total: ' + totalXP + ' xp';\n\t\t\t\t\t\t\t\t} else if (minPP) {\n\t\t\t\t\t\t\t\t\tgain = amount.pp + ' PP.\\n'+\n\t\t\t\t\t\t\t\t\t'Total: ' + totalPP + ' PP';\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (typeof gain !== \"undefined\") pi._tool.log(pi._tool.replaceString(lang.log.earn, {gain: gain}), 'chat');\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tfriendJoin: function(friend) {\n\t\t\t\t\t\t// contains = {userObject};\n\t\t\t\t\t},\n\t\t\t\t\tgrabUpdate: function(grab) {\n\t\t\t\t\t\t/* contains = {\n\t\t\t\t\t\t\tuser: {userObject}\n\t\t\t\t\t\t}; */\n\n\t\t\t\t\t\tpi.voteAlert(grab);\n\t\t\t\t\t\t/*\n\t\t\t\t\t\t\tfor (var i = 0; i < woots.length; i++) {\n\t\t\t\t\t\t\t\tif (woots[i].id == grab.id) {\n\t\t\t\t\t\t\t\t\t// Prevent forced woot event\n\t\t\t\t\t\t\t\t\tvar index = woots.indexOf(woots[i]);\n\t\t\t\t\t\t\t\t\tif (index >= 0) woots.splice(index, 1);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tgrabs.push(grab.user);\n\t\t\t\t\t\t*/\n\t\t\t\t\t},\n\t\t\t\t\tguestJoin: function(totalGuest) {\n\t\t\t\t\t\t// contains = 0;\n\t\t\t\t\t\tpi._tool.log(\n\t\t\t\t\t\t\tpi._tool.replaceString(lang.log.guestJoin, {\n\t\t\t\t\t\t\t\tguests: totalGuest\n\t\t\t\t\t\t\t}), 'chat'\n\t\t\t\t\t\t);\n\t\t\t\t\t},\n\t\t\t\t\tguestLeave: function(totalGuest) {\n\t\t\t\t\t\t// contains = 0;\n\t\t\t\t\t\tpi._tool.log(\n\t\t\t\t\t\t\tpi._tool.replaceString(lang.log.guestLeave, {\n\t\t\t\t\t\t\t\tguests: totalGuest\n\t\t\t\t\t\t\t}), 'chat'\n\t\t\t\t\t\t);\n\t\t\t\t\t},\n\t\t\t\t\thistoryUpdate: function(medias) {\n\t\t\t\t\t\t/* contains = [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tmedia: {\n\t\t\t\t\t\t\t\t\tauthor,\n\t\t\t\t\t\t\t\t\tcid,\n\t\t\t\t\t\t\t\t\tduration,\n\t\t\t\t\t\t\t\t\tformat,\n\t\t\t\t\t\t\t\t\tid,\n\t\t\t\t\t\t\t\t\timage,\n\t\t\t\t\t\t\t\t\ttitle\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tscore: {\n\t\t\t\t\t\t\t\t\tgrabs,\n\t\t\t\t\t\t\t\t\tlisteners,\n\t\t\t\t\t\t\t\t\tnegative,\n\t\t\t\t\t\t\t\t\tpositive\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tuser: {\n\t\t\t\t\t\t\t\t\tid,\n\t\t\t\t\t\t\t\t\tusername\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t]; */\n\n\t\t\t\t\t\tif (settings.historyAlert) {\n\t\t\t\t\t\t\tlet media = API.getMedia();\n\t\t\t\t\t\t\tlet dj = API.getDJ();\n\t\t\t\t\t\t\tvar callback = null;\n\n\t\t\t\t\t\t\t// if no media, no need to check\n\t\t\t\t\t\t\tif (typeof media === 'undefined') return;\n\t\t\t\t\t\t\t// if bouncer, setup a callback to skip\n\t\t\t\t\t\t\tif (API.hasPermission(null, API.ROLE.BOUNCER)) {\n\t\t\t\t\t\t\t\tcallback = function(media, dj) {\n\t\t\t\t\t\t\t\t\tif (media.cid === API.getMedia().cid) {\n\t\t\t\t\t\t\t\t\t\tAPI.sendChat(pi._tool.replaceString(lang.djSkip, {dj:dj.username}));\n\t\t\t\t\t\t\t\t\t\tAPI.moderateForceSkip();\n\t\t\t\t\t\t\t\t\t\tthis.delete();\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tthis.edit(lang.error.cannotSkipFinished)\n\t\t\t\t\t\t\t\t\t\t.changeType('error').removeCallback();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// i = 1 to jump the first item being the current song\n\t\t\t\t\t\t\tfor (var i = 1; i < medias.length; i++) {\n\t\t\t\t\t\t\t\tif (media.format == medias[i].media.format && media.cid == medias[i].media.cid) {\n\t\t\t\t\t\t\t\t\tvar log = pi._tool.log(\n\t\t\t\t\t\t\t\t\t\tpi._tool.replaceString(\n\t\t\t\t\t\t\t\t\t\t\t lang.warn.djInHistory,\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\tdj: dj.username,\n\t\t\t\t\t\t\t\t\t\t\t\tauthor: medias[i].media.author,\n\t\t\t\t\t\t\t\t\t\t\t\ttitle: medias[i].media.title,\n\t\t\t\t\t\t\t\t\t\t\t\thistorydj: medias[i].user.username,\n\t\t\t\t\t\t\t\t\t\t\t\tturns: (i-1),\n\t\t\t\t\t\t\t\t\t\t\t\tskip: (API.hasPermission(null, API.ROLE.BOUNCER) ? '\\n'+'Click here to force skip.' : null)\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t'warn chat', callback, media, dj\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tmodSkip: function(mod) {\n\t\t\t\t\t\t// contains = 'username';\n\t\t\t\t\t},\n\t\t\t\t\tscoreUpdate: function(score) {\n\t\t\t\t\t\t/* contains = {\n\t\t\t\t\t\t\tpositive: 0,\n\t\t\t\t\t\t\tnegative: 0,\n\t\t\t\t\t\t\tgrabs: 0\n\t\t\t\t\t\t}; */\n\n\t\t\t\t\t\tsession.woots = API.getUsers().filter(x => x.vote == 1);\n\t\t\t\t\t\tsession.grabs = API.getUsers().filter(x => x.grab);\n\t\t\t\t\t\tsession.mehs  = API.getUsers().filter(x => x.vote == -1);\n\t\t\t\t\t},\n\t\t\t\t\tuserJoin: function(join) {\n\t\t\t\t\t\t// contains: {userObject};\n\t\t\t\t\t\tif (settings.userJoin) {\n\t\t\t\t\t\t\tlet userInfo = (settings.userInfo ? ' Lvl:'+join.level+'|'+'Id:'+join.id : '');\n\t\t\t\t\t\t\tpi._tool.log(\n\t\t\t\t\t\t\t\tpi._tool.replaceString(lang.log.userJoin, {\n\t\t\t\t\t\t\t\t\tuser: join.username,\n\t\t\t\t\t\t\t\t\tuserInfo: userInfo\n\t\t\t\t\t\t\t\t}), 'chat'\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tuserLeave: function(leave) {\n\t\t\t\t\t\t// contains: {userObject};\n\n\t\t\t\t\t\tif (settings.userLeave) {\n\t\t\t\t\t\t\tlet userInfo = (settings.userInfo ? ' Lvl:'+leave.level+'|'+'Id:'+leave.id : '');\n\t\t\t\t\t\t\tpi._tool.log(\n\t\t\t\t\t\t\t\tpi._tool.replaceString(lang.log.userLeave, {\n\t\t\t\t\t\t\t\t\tuser: leave.username,\n\t\t\t\t\t\t\t\t\tuserInfo: userInfo\n\t\t\t\t\t\t\t\t}), 'chat'\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tuserSkip: function(user) {\n\t\t\t\t\t\t// contains = \"username\";\n\t\t\t\t\t},\n\t\t\t\t\tvoteUpdate: function(vote) {\n\t\t\t\t\t\t/* contains = {\n\t\t\t\t\t\t\tvote: 1,\n\t\t\t\t\t\t\tuser: {userObject}\n\t\t\t\t\t\t}; */\n\n\t\t\t\t\t\tpi.voteAlert(vote);\n\t\t\t\t\t},\n\t\t\t\t\twaitListUpdate: function(waitList) {\n\t\t\t\t\t\t/* contains = [\n\t\t\t\t\t\t\t{userObject}\n\t\t\t\t\t\t]; */\n\n\t\t\t\t\t\tif (settings.boothAlert &&\n\t\t\t\t\t\t    API.getWaitListPosition()+1 === settings.boothPosition) {\n\t\t\t\t\t\t\tpi._tool.log(\n\t\t\t\t\t\t\t\tpi._tool.replaceString(lang.warn.boothAlert, {pos: settings.boothPosition})\n\t\t\t\t\t\t\t\t, 'warn chat'\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tif (!document.hasFocus() && pi._tool.getPlugSettings().chatSound) {\n\t\t\t\t\t\t\t\tnew Audio(url.sounds.notification).play();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t_modulesEvent: {\n\t\t\t\t\tchatReceive: function(msg) {\n\t\t\t\t\t\tif (['moderation', 'system', 'promo', 'user-action', 'log', 'welcome'].indexOf(msg.type) !== -1\n\t\t\t\t\t\t    || msg.cid.indexOf('rcs') !== -1) return;\n\t\t\t\t\t\t// This message node\n\t\t\t\t\t\tlet selector = '#chat [data-cid=\"'+msg.cid+'\"]';\n\t\t\t\t\t\tlet sender = API.getUser(msg.uid);\n\n\t\t\t\t\t\t// Second message from the same user, things that only are set once\n\t\t\t\t\t\tif ($(selector).length) {\n\t\t\t\t\t\t\t// Script ranks\n\t\t\t\t\t\t\tpi._tool.getRank(sender.id).forEach(rank => {\n\t\t\t\t\t\t\t\tswitch(rank) {\n\t\t\t\t\t\t\t\t\tcase \"Dev\":\n\t\t\t\t\t\t\t\t\t\t$(selector)[0].className += ' pi-dev';\n\t\t\t\t\t\t\t\t\t\t$(selector+' .un').before($('<i class=\"icon icon-pi-dev\" title=\"Plug-It Developer\"></i>'));\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\tcase \"Helper\":\n\t\t\t\t\t\t\t\t\t\t$(selector)[0].className += ' pi-helper';\n\t\t\t\t\t\t\t\t\t\t$(selector+' .un').before($('<i class=\"icon icon-pi-helper\" title=\"Plug-It Helper\"></i>'));\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\tcase 'Graphist':\n\t\t\t\t\t\t\t\t\t\t$(selector)[0].className += ' pi-graphist';\n\t\t\t\t\t\t\t\t\t\t$(selector+' .un').before($('<i class=\"icon icon-pi-graphist\" title=\"Plug-It Graphist\"></i>'));\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\tcase 'Translator':\n\t\t\t\t\t\t\t\t\t\t$(selector)[0].className += ' pi-translator';\n\t\t\t\t\t\t\t\t\t\t$(selector+' .un').before($('<i class=\"icon icon-pi-translator\" title=\"Plug-It Translator\"></i>'));\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\tcase 'Community Manager':\n\t\t\t\t\t\t\t\t\t\t$(selector)[0].className += ' pi-community-manager';\n\t\t\t\t\t\t\t\t\t\t$(selector+' .un').before($('<i class=\"icon icon-pi-community-manager\" title=\"Plug-It Community Manager\"></i>'));\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\tcase 'Donator':\n\t\t\t\t\t\t\t\t\t\t$(selector)[0].className += ' pi-donator';\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\tcase 'Alpha':\n\t\t\t\t\t\t\t\t\t\t$(selector)[0].className += ' pi-alpha';\n\t\t\t\t\t\t\t\t\t\t$(selector+' .un').before($('<i class=\"icon icon-pi-alpha\" title=\"Plug-It Alpha tester\"></i>'));\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\tcase 'Bot':\n\t\t\t\t\t\t\t\t\t\t$(selector)[0].className += ' pi-bot';\n\t\t\t\t\t\t\t\t\t\t$(selector+' .un').before($('<i class=\"icon icon-pi-bot\" title=\"Plug-It Bot\"></i>'));\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\tcase 'Discord Bot':\n\t\t\t\t\t\t\t\t\t\t$(selector)[0].className += ' pi-discord-bot';\n\t\t\t\t\t\t\t\t\t\t$(selector+' .un').before($('<i class=\"icon icon-pi-discord-bot\" title=\"Plug-It Discord Bot\"></i>'));\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t// Plug ranks\n\t\t\t\t\t\t\tswitch(sender.gRole) {\n\t\t\t\t\t\t\t\tcase API.GLOBAL_ROLE.ADMIN:      $(selector)[0].className += ' role-admin'; break;\n\t\t\t\t\t\t\t\tcase API.GLOBAL_ROLE.AMBASSADOR: $(selector)[0].className += ' role-ambassador'; break;\n\t\t\t\t\t\t\t\tcase API.GLOBAL_ROLE.MODERATOR:  $(selector)[0].className += ' role-sitemod'; break;\n\t\t\t\t\t\t\t\tcase API.GLOBAL_ROLE.PLOT:       $(selector)[0].className += ' role-plot'; break;\n\t\t\t\t\t\t\t\tcase API.GLOBAL_ROLE.PROMOTER:   $(selector)[0].className += ' role-promoter'; break;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tswitch (sender.role) {\n\t\t\t\t\t\t\t\tcase API.ROLE.HOST:    $(selector)[0].className += ' role-host'; break;\n\t\t\t\t\t\t\t\tcase API.ROLE.COHOST:  $(selector)[0].className += ' role-cohost'; $(selector+' .icon-chat-host')[0].className = \"icon icon-chat-cohost\"; break;\n\t\t\t\t\t\t\t\tcase API.ROLE.MANAGER: $(selector)[0].className += ' role-manager'; break;\n\t\t\t\t\t\t\t\tcase API.ROLE.BOUNCER: $(selector)[0].className += ' role-bouncer'; break;\n\t\t\t\t\t\t\t\tcase API.ROLE.DJ:      $(selector)[0].className += ' role-dj'; break;\n\t\t\t\t\t\t\t\t// case API.ROLE.NONE:    $(selector)[0].className += ' role-user'; break;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t// Additional ranks\n\t\t\t\t\t\t\tif (sender.sub == 1) $(selector)[0].className += ' role-subscriber';\n\t\t\t\t\t\t\tif (sender.silver) $(selector)[0].className += ' role-silver-subscriber';\n\t\t\t\t\t\t\tif (sender.friend) $(selector)[0].className += ' role-friend';\n\t\t\t\t\t\t\tif (settings.friendsIcons && sender.friend) {\n\t\t\t\t\t\t\t\t$(selector+' .timestamp').before($(emoji.replace_colons(':busts_in_silhouette:')).attr({\n\t\t\t\t\t\t\t\t\tclass: 'emoji-outer emoji-sizer pi-friendsIcons',\n\t\t\t\t\t\t\t\t\tstyle: 'margin-left: 2px;',\n\t\t\t\t\t\t\t\t\ttitle: 'You are friends with this user'\n\t\t\t\t\t\t\t\t}));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (settings.languageFlags) {\n\t\t\t\t\t\t\t\tvar flag;\n\n\t\t\t\t\t\t\t\tswitch(sender.language) {\n\t\t\t\t\t\t\t\t\tcase 'cs': flag = ':flag-cz:'; break;\n\t\t\t\t\t\t\t\t\tcase 'da': flag = ':flag-dk:'; break;\n\t\t\t\t\t\t\t\t\tcase 'en': flag = ':flag-gb:'; break;\n\t\t\t\t\t\t\t\t\tcase 'ja': flag = ':flag-jp:'; break;\n\t\t\t\t\t\t\t\t\tcase 'ko': flag = ':flag-kr:'; break;\n\t\t\t\t\t\t\t\t\tcase 'pi': flag = ':skull_and_crossbones:'; break;\n\t\t\t\t\t\t\t\t\tcase 'uk': flag = ':flag-ua:'; break;\n\t\t\t\t\t\t\t\t\tcase 'zh': flag = ':flag-cn:'; break;\n\t\t\t\t\t\t\t\t\tcase null: flag = ':heavy_multiplication_x:'; break;\n\t\t\t\t\t\t\t\t\tdefault: flag = ':flag-'+sender.language+':'; break;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tflag = $(emoji.replace_colons(flag)).attr({\n\t\t\t\t\t\t\t\t\tclass: 'emoji-outer emoji-sizer pi-languageFlags',\n\t\t\t\t\t\t\t\t\tstyle: settings.friendsIcons && sender.friend ? '' : 'margin-left: 2px;',\n\t\t\t\t\t\t\t\t\ttitle: modules.Lang.languages[(sender.language !== null ? sender.language : 'no language set')]\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t$(selector+' .timestamp').before(flag);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (settings.userInfo) {\n\t\t\t\t\t\t\t\t$(selector+' .timestamp').before('<span class=\"userInfo\">'+`<strong>LVL: </strong>${sender.level}<strong> | ID: </strong>${sender.id}`+'</span>');\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// Chat limit\n\t\t\t\t\t\t\tpi.betterClearChat(settings.chatLimit);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Adding a span on discordbot's messages to indicate a user\n\t\t\t\t\t\t// [user] text â <span class=\"discord-username\">user:</span> text\n\t\t\t\t\t\tif (pi._tool.getRank(sender.id).indexOf('Discord Bot') !== -1) {\n\t\t\t\t\t\t\tmsg.message = msg.message.replace(/^(\\[[^\\]]*\\])/, '<span class=\"discord-username\">$1</span>');\n\t\t\t\t\t\t\tif ($(selector).length) {\n\t\t\t\t\t\t\t\t$(selector).find('.text')[0].innerHTML = msg.message;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t// split by line return, replace last item in array by msg.message formated, simple as that\n\t\t\t\t\t\t\t\t// Excepts when user doesn't send\n\t\t\t\t\t\t\t\tlet previousMsgs = $('#chat .cm.pi-discord-bot:last .text')[0].innerHTML.split('<br>');\n\t\t\t\t\t\t\t\tpreviousMsgs.pop();\n\t\t\t\t\t\t\t\tpreviousMsgs.push(msg.message);\n\t\t\t\t\t\t\t\t$('#chat .cm.pi-discord-bot:last .text')[0].innerHTML = previousMsgs.join('<br>');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Emojis\n\t\t\t\t\t\tlet emojiRE = new RegExp(':([a-z0-9-_]+):', 'ig');\n\t\t\t\t\t\tif (pi._tool.getPlugSettings().emoji && emojiRE.test(msg.message)) {\n\t\t\t\t\t\t\tlet match = emojiRE.exec(msg.message);\n\t\t\t\t\t\t\t// Doing it twice because the first time it returns null\n\t\t\t\t\t\t\tmatch = emojiRE.exec(msg.message);\n\n\t\t\t\t\t\t\twhile (match !== null) {\n\t\t\t\t\t\t\t\tfor (var emote in roomSettings.emotes) {\n\t\t\t\t\t\t\t\t\tif (match[1] == emote) {\n\t\t\t\t\t\t\t\t\t\tmsg.message = msg.message.replace(':'+emote+':', '<img style=\"max-width:100%;\" src=\"'+roomSettings.emotes[emote]+'\" alt=\"'+emote+'\"/>');\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tfor (var emote in emotes) {\n\t\t\t\t\t\t\t\t\tif (match[1] == emote) {\n\t\t\t\t\t\t\t\t\t\tmsg.message = msg.message.replace(':'+emote+':', '<img style=\"max-width:100%;\" src=\"'+roomSettings.emotes[emote]+'\" alt=\"'+emote+'\"/>');\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tmatch = emojiRE.exec(msg.message);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\ttexts = $('.text.cid-'+msg.cid)[0].innerHTML.split('<br>');\n\t\t\t\t\t\t\ttexts[texts.length-1] = msg.message;\n\t\t\t\t\t\t\t$(\".text.cid-\"+msg.cid)[0].innerHTML = texts.join('<br>');\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// gRole command self deletion\n\t\t\t\t\t\tif (settings.gRoleCmdSelfDel && API.getUser().gRole > API.ROLE.NONE && API.getUser().id === msg.uid && msg.message.indexOf('!') === 0) {\n\t\t\t\t\t\t\tAPI.moderateDeleteChat(msg.cid);\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tchatDelete: function(message) {\n\t\t\t\t\t\tif (typeof message !== 'object') return;\n\n\t\t\t\t\t\tif ($('.cid-'+ message.p.c).length === 0) {\n\t\t\t\t\t\t\tvar secret = message.p.c.split('-');\n\t\t\t\t\t\t\tif (secret[0] == API.getUser().id && secret[1].length !== 13) {\n\t\t\t\t\t\t\t\tvar text = '';\n\t\t\t\t\t\t\t\tsecret[1].match(/.{1,3}/g).forEach((e,i,a) => {\n\t\t\t\t\t\t\t\t\ttext += String.fromCharCode(parseInt(e));\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tpi._tool.log(`New PM from [${API.getUser(message.p.mi).username}]\\n${text}`);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (settings.showDeletedMsg) {\n\t\t\t\t\t\t\t// using raw cid and then traversing to the .msg allows\n\t\t\t\t\t\t\t// to find the div even when chat has been merged\n\t\t\t\t\t\t\tlet $chat = $('.cid-'+message.p.c).closest('.cm');\n\t\t\t\t\t\t\tlet time = modules.utils.getSimpleTimestamp();\n\t\t\t\t\t\t\tlet user = API.getUser(message.p.c.split('-')[0]);\n\t\t\t\t\t\t\tlet mod = API.getUser(message.p.mi);\n\t\t\t\t\t\t\tlet $prevDelete = $chat.find('.pi-deleted[data-id=\"'+message.p.mi+'\"]');\n\n\t\t\t\t\t\t\tif (mod.gRole === API.ROLE.HOST ||\n\t\t\t\t\t\t\t\t(user.gRole > API.ROLE.NONE && user.id === mod.id) ||\n\t\t\t\t\t\t\t\tuser.gRole !== API.ROLE.HOST || user.gRole !== API.ROLE.MANAGER) {\n\t\t\t\t\t\t\t\t$chat.addClass('deleted');\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t$chat.find('.delete-button').remove();\n\t\t\t\t\t\t\tif ($prevDelete.length > 0) {\n\t\t\t\t\t\t\t\tlet newCount = parseInt($prevDelete.attr('data-count'))+1;\n\t\t\t\t\t\t\t\t// Increment count by one\n\t\t\t\t\t\t\t\t$prevDelete.attr(\"data-count\", newCount);\n\t\t\t\t\t\t\t\t$prevDelete.html(pi._tool.replaceString(lang.userchat.chatDelete, {mod: mod.username, newCount: '(x'+newCount+')', time: time}));\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t$chat.find('.msg').after($(`<span class=\"pi-deleted\" data-id=\"${message.p.mi}\" data-count=\"1\">${pi._tool.replaceString(lang.userchat.chatDelete, {mod: mod.username, newCount: '', time: time})}</span>`));\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// chat split with API.chatLog then delete it\n\t\t\t\t\t\t\tpi._tool.log('This is to fix deleted messages', 'chat').delete();\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tstreamDisabled: function() {\n\t\t\t\t\t\tvar streamDisabled = modules.plugOptions.settings.streamDisabled;\n\t\t\t\t\t\tvar icon = $('#pi-toggleStream .pi-toggleStream')[0];\n\n\t\t\t\t\t\ticon.className = streamDisabled ? 'icon pi-toggleStream off' : 'icon pi-toggleStream';\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t_DOMEvent: {\n\t\t\t\t\tchatAutocompletion: function(e) {\n\t\t\t\t\t\tif ($(this).data(\"lastval\") !== this.value) {\n\t\t\t\t\t\t\t$(this).data(\"lastval\", this.value);\n\t\t\t\t\t\t\t /* if (this.value.charAt(0) === '/') {\n\t\t\t\t\t\t\t\t$(\"#chat-suggestion\").css({'height':342, 'display':'block'});\n\t\t\t\t\t\t\t\t$(\"#chat-suggestion-items\").append($(\n\t\t\t\t\t\t\t\t\t'<div class=\"chat-suggestion-item online emo\" data-index=\"0\" style=\"background: transparent;\">'+\n\t\t\t\t\t\t\t\t\t\t'<div class=\"image\">'+\n\t\t\t\t\t\t\t\t\t\t\t'<span class=\"emoji-outer emoji-sizer\"><span data-emoji-name=\"sagittarius\" class=\"emoji-inner extplug-emoji-sagittarius\" style=\"background-position:2.5% 82.5%;background-size:4100%\"></span></span>'+\n\t\t\t\t\t\t\t\t\t\t'</div>'+\n\t\t\t\t\t\t\t\t\t\t'<span class=\"value\">:sagittarius:</span>'+\n\t\t\t\t\t\t\t\t\t\t'<div class=\"chat-suggestion-item-line\"></div>'+\n\t\t\t\t\t\t\t\t\t'</div>'\n\t\t\t\t\t\t\t\t));\n\t\t\t\t\t\t\t} */\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tcollideRanks: function() {\n\t\t\t\t\t\tlet groupDetect = setInterval(function() {\n\t\t\t\t\t\t\tlet group = $('.group');\n\t\t\t\t\t\t\tif (!group.length) return;\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t$('.group').css('cursor', 'pointer');\n\t\t\t\t\t\t\t\t$('.group').on('click', function() {\n\t\t\t\t\t\t\t\t\t$(this).nextUntil('.group').slideToggle();\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tclearInterval(groupDetect);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}, 10);\n\t\t\t\t\t},\n\t\t\t\t\tkeyboardShortcuts: function(e) {\n\t\t\t\t\t\tif (settings.keyboardShortcuts) {\n\t\t\t\t\t\t\tswitch (e.key) {\n\t\t\t\t\t\t\t\tcase '+':\n\t\t\t\t\t\t\t\t\tif (!$('#chat-input').hasClass('focused') &&\n\t\t\t\t\t\t\t\t\t\t\t!$(':focus').length &&\n\t\t\t\t\t\t\t\t\t\t  !$('.dialog').length) {\n\t\t\t\t\t\t\t\t\t\tAPI.setVolume(API.getVolume()+5);\n\t\t\t\t\t\t\t\t\t\tpi._tool.setPlugSettings('volume', API.getVolume());\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\tcase '-':\n\t\t\t\t\t\t\t\t\tif (!$('#chat-input').hasClass('focused') &&\n\t\t\t\t\t\t\t\t\t\t\t!$(':focus').length &&\n\t\t\t\t\t\t\t\t\t\t  !$('.dialog').length) {\n\t\t\t\t\t\t\t\t\t\tAPI.setVolume(API.getVolume()-5);\n\t\t\t\t\t\t\t\t\t\tpi._tool.setPlugSettings('volume', API.getVolume());\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\tcase 'h':\n\t\t\t\t\t\t\t\t\tif (!$('#chat-input').hasClass('focused') &&\n\t\t\t\t\t\t\t\t\t\t\t!$(':focus').length &&\n\t\t\t\t\t\t\t\t\t\t  !$('.dialog').length) {\n\t\t\t\t\t\t\t\t\t\tpi.menu('video');\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\tcase 'l':\n\t\t\t\t\t\t\t\t\tif (e.ctrlKey) {\n\t\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\t\tpi.betterClearChat(settings.betterClearChatLimit);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\tcase 'b':\n\t\t\t\t\t\t\t\t\tif (session.floodAPI) return pi._tool.log(lang.error.APIFloodInEffect, 'chat error');\n\t\t\t\t\t\t\t\t\tif (e.ctrlKey) {\n\t\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\t\tvar targetUser = API.getUserByName($('#user-rollover .username')[0].innerText);\n\t\t\t\t\t\t\t\t\t\tif (targetUser && API.hasPermission(null, API.ROLE.MANAGER)) {\n\t\t\t\t\t\t\t\t\t\t\tif (sessionStorage.getItem('FastBan Warn')) {\n\t\t\t\t\t\t\t\t\t\t\t\t$.ajax({\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype: 'POST',\n\t\t\t\t\t\t\t\t\t\t\t\t\turl: '/_/bans/add',\n\t\t\t\t\t\t\t\t\t\t\t\t\tdata: JSON.stringify({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"userID\": targetUser.id,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"reason\": 1,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"duration\": 'f'\n\t\t\t\t\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t\t\t\t\t\terror: function(e) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tconsole.log(e);\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\tdataType: 'json',\n\t\t\t\t\t\t\t\t\t\t\t\t\tcontentType: 'application/json'\n\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\tpi._tool.log(lang.warn.fastBan, 'warn chat', function() {\n\t\t\t\t\t\t\t\t\t\t\t\t\tsessionStorage.setItem('FastBan Warn', true);\n\t\t\t\t\t\t\t\t\t\t\t\t\t// Emulating ctrl + b will be just as long.. (haven't found a way to make trigger works with jQuery)\n\t\t\t\t\t\t\t\t\t\t\t\t\t$.ajax({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype: 'POST',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\turl: \"/_/bans/add\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata: JSON.stringify({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"userID\":targetUser.id,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"reason\":1,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"duration\": \"f\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\terror: function(e) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tconsole.log(e);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdataType: \"json\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontentType: \"application/json\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t} else pi._tool.log(lang.info.fastBanHelp, 'info chat');\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\tcase 'w':\n\t\t\t\t\t\t\t\tcase 'm':\n\t\t\t\t\t\t\t\t\tif (!$('#chat-input').hasClass('focused') &&\n\t\t\t\t\t\t\t\t\t\t\t!$(':focus').length &&\n\t\t\t\t\t\t\t\t\t\t  !$('.dialog').length) {\n\t\t\t\t\t\t\t\t\t\tlet now = new Date().getTime();\n\t\t\t\t\t\t\t\t\t\t// Avoid spamming woot/meh\n\t\t\t\t\t\t\t\t\t\tif (now - cooldown.voteShortcut >= 5000 && $(\":focus\").length === 0) {\n\t\t\t\t\t\t\t\t\t\t\tcooldown.voteShortcut = now;\n\t\t\t\t\t\t\t\t\t\t\tif (e.key === 'w') $('#woot').click();\n\t\t\t\t\t\t\t\t\t\t\telse $('#meh').click();\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\tcase 'g':\n\t\t\t\t\t\t\t\t\tif (session.floodAPI) return pi._tool.log(lang.error.APIFloodInEffect, 'chat error');\n\t\t\t\t\t\t\t\t\tif (!$('#chat-input').hasClass('focused') &&\n\t\t\t\t\t\t\t\t\t\t\t!$(':focus').length &&\n\t\t\t\t\t\t\t\t\t\t  !$('.dialog').length &&\n\t\t\t\t\t\t\t\t\t\t  API.getDJ().id !== API.getUser().id) {\n\n\t\t\t\t\t\t\t\t\t$.ajax({\n\t\t\t\t\t\t\t\t\t\t\ttype: 'GET',\n\t\t\t\t\t\t\t\t\t\t\turl: '/_/rooms/state',\n\t\t\t\t\t\t\t\t\t\t\tsuccess: function(data) {\n\t\t\t\t\t\t\t\t\t\t\t\tpi._tool.getPlaylists(function(playlists) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t$.ajax({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype: 'POST',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\turl: \"/_/grabs\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata: JSON.stringify({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaylistID: playlists.filter(x => x.active)[0].id,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thistoryID: data.data[0].playback.historyID\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\terror: function(err) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (err.responseJSON.status === \"maxItems\")\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tpi._tool.log(lang.error.playlistFull, 'error');\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tpi._tool.log([lang.error.cannotGrab, err.responseText], 'error');\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdataType: \"json\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontentType: \"application/json\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\terror: function(err) {\n\t\t\t\t\t\t\t\t\t\t\t\tpi._tool.log(lang.error.cannotGetMediaID, 'error chat');\n\t\t\t\t\t\t\t\t\t\t\t\tconsole.error(err);\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\tcase 'G':\n\t\t\t\t\t\t\t\t\tif (session.floodAPI) return pi._tool.log(lang.error.APIFloodInEffect, 'chat error');\n\t\t\t\t\t\t\t\t\tif (!$('#chat-input').hasClass('focused') &&\n\t\t\t\t\t\t\t\t\t\t\t!$(':focus').length &&\n\t\t\t\t\t\t\t\t\t\t  !$('.dialog').length &&\n\t\t\t\t\t\t\t\t\t\t  API.getDJ().id !== API.getUser().id) {\n\t\t\t\t\t\t\t\t\t\tpi._tool.getPlaylists(function(playlists) {\n\t\t\t\t\t\t\t\t\t\t\t$.ajax({\n\t\t\t\t\t\t\t\t\t\t\t\ttype: 'POST',\n\t\t\t\t\t\t\t\t\t\t\t\turl: '/_/playlists/'+playlists.filter(x => x.active)[0].id+'/media/insert',\n\t\t\t\t\t\t\t\t\t\t\t\tdata: JSON.stringify({\n\t\t\t\t\t\t\t\t\t\t\t\t\tmedia: [API.getMedia()],\n\t\t\t\t\t\t\t\t\t\t\t\t\tappend: true,\n\t\t\t\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t\t\t\t\terror: function(err) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (err.responseJSON.status === \"maxItems\")\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tpi._tool.log(lang.error.playlistFull, 'error');\n\t\t\t\t\t\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tpi._tool.log([lang.error.cannotGrab, err.responseText], 'error');\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\tdataType: \"json\",\n\t\t\t\t\t\t\t\t\t\t\t\tcontentType: \"application/json\"\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\tcase 'ArrowRight':\n\t\t\t\t\t\t\t\t\tif (session.floodAPI) return pi._tool.log(lang.error.APIFloodInEffect, 'chat error');\n\t\t\t\t\t\t\t\t\tif (e.ctrlKey &&\n\t\t\t\t\t\t\t\t\t\tAPI.getDJ().id === API.getUser().id &&\n\t\t\t\t\t\t\t\t\t\t!$('#chat-input').hasClass('focused') &&\n\t\t\t\t\t\t\t\t\t\t!$(':focus').length &&\n\t\t\t\t\t\t\t\t\t\t!$('.dialog').length) {\n\t\t\t\t\t\t\t\t\t\t$.post(\"/_/booth/skip/me\");\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\tcase 'Tab':\n\t\t\t\t\t\t\t\t\tif (!$('.dialog').length) {\n\t\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\t\t$('#chat-input-field').focus();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\tcase 'Enter':\n\t\t\t\t\t\t\t\t\tif ($('.dialog-frame .button.submit').length) $('.dialog-frame .button.submit').click();\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\tcase 'Escape':\n\t\t\t\t\t\t\t\t\tlet backDivSelector = '#footer-user.showing .back,'+\n\t\t\t\t\t\t\t\t\t\t'.app-header #history-button.selected,'+\n\t\t\t\t\t\t\t\t\t\t'#app-menu.open .button,'+\n\t\t\t\t\t\t\t\t\t\t'#playlist-button .icon-arrow-down,'+\n\t\t\t\t\t\t\t\t\t\t'.dialog .icon-dialog-close';\n\n\t\t\t\t\t\t\t\t\tif ($(backDivSelector).length) $(backDivSelector).click();\n\t\t\t\t\t\t\t\t\telse if ($('#chat-input-field').is(':focus')) $('#chat-input-field').blur();\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tlevelPercentage: function() {\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t// Quick and dirty fix for rcs also changing the xp %\n\t\t\t\t\t\t\tif (typeof rcs !== \"undefined\" ||\n\t\t\t\t\t\t\t\t$('#footer-user .bar .value').text().indexOf('%') > -1)\n\t\t\t\t\t\t\t\treturn;\n\n\t\t\t\t\t\t\t// [rawText, xpNow, xpMax]\n\t\t\t\t\t\t\tlet numbers = $('#footer-user .bar .value')[0].innerText.match(/(\\d*[,.]?\\d*)(?: \\/ )(\\d*[,.]?\\d*)/);\n\t\t\t\t\t\t\tif (numbers === null) return;\n\n\t\t\t\t\t\t\tlet xp1 = parseFloat(numbers[1].replace(/[,.]/g,''));\n\t\t\t\t\t\t\tlet xp2 = parseFloat(numbers[2].replace(/[,.]/g,''));\n\t\t\t\t\t\t\tlet percentage = (xp1/xp2*100).toFixed(2);\n\n\t\t\t\t\t\t\t$('#footer-user .bar .value')[0].innerText = numbers[0].replace(/,/g, '.') + ' ('+percentage+'%)';\n\t\t\t\t\t\t\t$('#footer-user .info .meta .bar .value').one('DOMSubtreeModified', pi._DOMEvent.levelPercentage);\n\t\t\t\t\t\t}, 100);\n\t\t\t\t\t},\n\t\t\t\t\tnavWarn: function(e) {\n\t\t\t\t\t\tvar dialogText = lang.log.leaving;\n\n\t\t\t\t\t\tif (settings.navWarn) {\n\t\t\t\t\t\t\t(e || window.event).returnValue = dialogText;\n\t\t\t\t\t\t\treturn dialogText;\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tpopout: function() {\n\t\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t\twindow.popout = window.open('','plugdjpopout');\n\t\t\t\t\t\t\tvar $tyles = [\n\t\t\t\t\t\t\t\t$('<link id=\"pi-popout-menu\" rel=\"stylesheet\" type=\"text/css\" href=\"'+url.styles.popout+'\">')\n\t\t\t\t\t\t\t];\n\n\t\t\t\t\t\t\tif (settings.roomStyle) {\n\t\t\t\t\t\t\t\t$tyles.push($('<link id=\"pi-custom-room-style\" rel=\"stylesheet\" type=\"text/css\" href=\"'+roomSettings.css+'\">'));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (settings.CSS) {\n\t\t\t\t\t\t\t\t$tyles.push($('<link id=\"pi-popout-blue\" rel=\"stylesheet\" type=\"text/css\" href=\"'+url.styles.popout_blue+'\">'));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (settings.customRanks) {\n\t\t\t\t\t\t\t\t$tyles.push($('<link id=\"pi-custom_ranks\" rel=\"stylesheet\" type=\"text/css\" href=\"'+url.styles.custom_ranks+'\">'));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (settings.oldChat) {\n\t\t\t\t\t\t\t\t$tyles.push($('<link id=\"pi-oldchat-CSS\" rel=\"stylesheet\" type=\"text/css\" href=\"'+url.styles.old_chat+'\">'));\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t$('head', popout.document).append($tyles);\n\t\t\t\t\t\t\t$('#volume', popout.document).on('mousewheel', pi._DOMEvent.volumeWheel);\n\t\t\t\t\t\t\t// Add another onbeforeunload event listener to the page since plug handles it too and popout.close\n\t\t\t\t\t\t\t// doesn't work for some reason..\n\t\t\t\t\t\t\tmeldBefore(popout, 'onbeforeunload', () => {\n\t\t\t\t\t\t\t\tpopout = null;\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}, 2000);\n\t\t\t\t\t},\n\t\t\t\t\tresize: function() {\n\t\t\t\t\t\t//let PLAYLIST_OFFSET = 108;\n\t\t\t\t\t\tlet MIN_WIDTH = 1150;\n\t\t\t\t\t\tlet MIN_HEIGHT = 638;\n\t\t\t\t\t\tlet CHAT_WIDTH = 345;\n\t\t\t\t\t\tlet BAR_HEIGHT = 54;\n\t\t\t\t\t\t// let BAR_WIDTH = CHAT_WIDTH + BAR_HEIGHT;\n\t\t\t\t\t\tlet availWidth = Math.max(MIN_WIDTH, window.innerWidth) - CHAT_WIDTH;\n\t\t\t\t\t\tlet availHeight = Math.max(MIN_HEIGHT, window.innerHeight);\n\t\t\t\t\t\tlet n = availHeight - BAR_HEIGHT - 800;\n\t\t\t\t\t\tlet bgTop = Math.min(BAR_HEIGHT, n);\n\n\t\t\t\t\t\tif (!pi._tool.getPlugSettings().videoOnly) {\n\t\t\t\t\t\t\t$('#pi-background').css('left', (availWidth - 1600) / 2)\n\t\t\t\t\t\t\t.css('top', bgTop).width(1600).height(900);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$('#pi-background').css('left', 0)\n\t\t\t\t\t\t\t.css('top', BAR_HEIGHT).width(availWidth).height(availHeight - BAR_HEIGHT * 2);\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tvolumeWheel: function(e) {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t// If ctrlKey pressed thinner iteration\n\t\t\t\t\t\tvar i = e.ctrlKey ? 1 : 5;\n\n\t\t\t\t\t\tif (e.originalEvent.deltaY > 0) API.setVolume(API.getVolume()-i);\n\t\t\t\t\t\telse if (e.originalEvent.deltaY < 0) API.setVolume(API.getVolume()+i);\n\n\t\t\t\t\t\tpi._tool.setPlugSettings('volume', API.getVolume());\n\t\t\t\t\t},\n\t\t\t\t\ttranslate: function(e) {\n\t\t\t\t\t\tif (e.target.classList.contains('translated')) {\n\t\t\t\t\t\t\te.target.innerHTML = e.target.getAttribute('data-originalText');\n\t\t\t\t\t\t\te.target.removeAttribute('data-originalText');\n\t\t\t\t\t\t\te.target.classList.remove('translated');\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (e.target.classList.contains('text')) {\n\t\t\t\t\t\t\t$.ajax({\n\t\t\t\t\t\t\t\ttype: 'GET',\n\t\t\t\t\t\t\t\turl: 'https://translate.googleapis.com/translate_a/single?client=gtx&dt=t'+\n\t\t\t\t\t\t\t\t'&sl=auto'+\n\t\t\t\t\t\t\t\t'&tl='+API.getUser().language+\n\t\t\t\t\t\t\t\t\"&q=\"+ encodeURI(e.target.innerHTML),\n\t\t\t\t\t\t\t\terror: function(err) {\n\t\t\t\t\t\t\t\t\tvar data = JSON.parse(err.responseText.split(\",\").filter(a => {return a.length}).join(\",\"));\n\t\t\t\t\t\t\t\t\tvar sourceText = data[0][0][1];\n\t\t\t\t\t\t\t\t\tvar translatedText = data[0][0][0];\n\t\t\t\t\t\t\t\t\tvar sourceLangISO = data[1];\n\n\t\t\t\t\t\t\t\t\te.target.setAttribute('data-originalText', e.target.innerHTML);\n\t\t\t\t\t\t\t\t\te.target.innerHTML = translatedText;\n\t\t\t\t\t\t\t\t\te.target.classList.add('translated');\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tsuccess: function (data) {\n\t\t\t\t\t\t\t\t\tvar sourceText = data[0][0][1];\n\t\t\t\t\t\t\t\t\tvar translatedText = data[0][0][0];\n\n\t\t\t\t\t\t\t\t\te.target.setAttribute('data-originalText', e.target.innerHTML);\n\t\t\t\t\t\t\t\t\te.target.innerHTML = translatedText;\n\t\t\t\t\t\t\t\t\te.target.classList.add('translated');\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t_load: function() {\n\t\t\t\t\tupdateStatus('Initalizating modules', 3);\n\t\t\t\t\t$.each(require.s.contexts._.defined, (n, obj) => {\n\t\t\t\t\t\tif (!obj) return;\n\t\t\t\t\t\tobj._moduleID = n;\n\n\t\t\t\t\t\tif (obj._moduleID && obj._moduleID === 'lang/Lang')\n\t\t\t\t\t\t\tmodules.Lang = obj;\n\t\t\t\t\t\tif (obj._events && obj._events[\"chat:receive\"])\n\t\t\t\t\t\t\tmodules.context = obj;\n\t\t\t\t\t\tif (obj.STATE)\n\t\t\t\t\t\t\tmodules.RoomEvent = obj;\n\t\t\t\t\t\tif (obj.attributes && obj.attributes.hostID)\n\t\t\t\t\t\t\tmodules.room = obj;\n\t\t\t\t\t\tif (obj._l)\n\t\t\t\t\t\t\tmodules.user = obj;\n\t\t\t\t\t\tif (obj.log)\n\t\t\t\t\t\t\tmodules.chatFacade = obj;\n\t\t\t\t\t\tif (obj.defaultSettings)\n\t\t\t\t\t\t\tmodules.plugOptions = obj;\n\t\t\t\t\t\tif (obj.hasOwnProperty(\"isorx\"))\n\t\t\t\t\t\t\tmodules.utils = obj;\n\t\t\t\t\t\tif (obj.SHOW && obj.SHOW === \"ShowDialogEvent:show\")\n\t\t\t\t\t\t\tmodules.ShowDialogEvent = obj;\n\t\t\t\t\t\tif (obj.prototype && obj.prototype.id && obj.prototype.id === \"dialog-gift-send\")\n\t\t\t\t\t\t\tmodules.GiftSendDialog = obj;\n\t\t\t\t\t\tif (obj.prototype && obj.prototype.defaults && obj.prototype.defaults._position)\n\t\t\t\t\t\t\tmodules.User = obj;\n\t\t\t\t\t});\n\t\t\t\t\tmodules.lang = require('lang/Lang');\n\t\t\t\t\tupdateStatus('Initalizating API & Events listener', 4);\n\t\t\t\t\t// Add custom events to the API\n\t\t\t\t\tpi._extendAPI.init();\n\t\t\t\t\tfor (var event in pi._event) {\n\t\t\t\t\t\tAPI.on(event, pi._event[event]);\n\t\t\t\t\t}\n\t\t\t\t\tpi._tool.plugSocketHook.init();\n\t\t\t\t\tmodules.context.on('chat:receive', pi._modulesEvent.chatReceive);\n\t\t\t\t\tmodules.originalChatDelete = modules.context._events['chat:delete'][0].callback;\n\t\t\t\t\tmodules.context._events['chat:delete'][0].callback = pi._modulesEvent.chatDelete;\n\t\t\t\t\tmodules.context.on('change:streamDisabled', pi._modulesEvent.streamDisabled);\n\n\t\t\t\t\t// Bind events to their handler\n\t\t\t\t\twindow.onbeforeunload = pi._DOMEvent.navWarn;\n\t\t\t\t\t$(window).on('keydown', pi._DOMEvent.keyboardShortcuts);\n\t\t\t\t\t$(window).on('dblclick', pi._DOMEvent.translate);\n\t\t\t\t\t$('#volume, #playback-controls').on('mousewheel', pi._DOMEvent.volumeWheel);\n\t\t\t\t\t$('.button.staff').on('click', pi._DOMEvent.collideRanks);\n\t\t\t\t\t$('#chat-popout-button').on('click', pi._DOMEvent.popout);\n\t\t\t\t\t$(\"#chat-input-field\").on('input', pi._DOMEvent.chatAutocompletion);\n\t\t\t\t\t$(document).on('ajaxSuccess', pi._DOMEvent.updateRoomSettings);\n\t\t\t\t\t// Execute it at least once, avoid to wait a gain of XP\n\t\t\t\t\tpi._DOMEvent.levelPercentage();\n\n\t\t\t\t\t// Retrieve user settings if available\n\t\t\t\t\tupdateStatus('Loading user settings', 5);\n\t\t\t\t\tvar ls = localStorage.getItem('pi-settings');\n\t\t\t\t\tif (typeof ls === 'string') {\n\t\t\t\t\t\tvar userSettings = JSON.parse(ls);\n\n\t\t\t\t\t\tfor (var item in settings) {\n\t\t\t\t\t\t\t// Adding new elements on update release\n\t\t\t\t\t\t\tif (typeof userSettings[item] === 'undefined') {\n\t\t\t\t\t\t\t\tuserSettings[item] = settings[item];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tfor (var userItem in userSettings) {\n\t\t\t\t\t\t\t// Checking if user has more settings than necessary\n\t\t\t\t\t\t\tif (typeof settings[userItem] === 'undefined') {\n\t\t\t\t\t\t\t\tdelete userSettings[userItem];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tlocalStorage.setItem('pi-settings', JSON.stringify(userSettings));\n\t\t\t\t\t\tsettings = userSettings;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tpi._tool.saveSettings();\n\t\t\t\t\t}\n\n\t\t\t\t\t// Those settings are available even after reload\n\t\t\t\t\tif (sessionStorage.getItem('modSkipWarn') === null) {\n\t\t\t\t\t\tsessionStorage.setItem('modSkipWarn', false);\n\t\t\t\t\t\tsessionStorage.setItem('modQuitWarn', false);\n\t\t\t\t\t\tsessionStorage.setItem('trustWarn', false);\n\t\t\t\t\t\tsessionStorage.setItem('fastBanWarn', false);\n\t\t\t\t\t\tsessionStorage.setItem('helpCommands', false);\n\t\t\t\t\t\tsessionStorage.setItem('removeLabelWarn', false);\n\t\t\t\t\t}\n\t\t\t\t\t// setInterval\n\t\t\t\t\twindow.friendsOnline = setInterval(function() {\n\t\t\t\t\t\tpi._tool.getFriends(\n\t\t\t\t\t\t\tfunction(friends) {\n\t\t\t\t\t\t\t\tif (settings.unfriended) {\n\t\t\t\t\t\t\t\t\t// Not using sessionStorage here to be able to track\n\t\t\t\t\t\t\t\t\t// at any time, even after reboot\n\t\t\t\t\t\t\t\t\tvar friendsInStorage = localStorage.getItem('pi-friends');\n\n\t\t\t\t\t\t\t\t\tif (friendsInStorage !== null) {\n\t\t\t\t\t\t\t\t\t\tfriendsInStorage = JSON.parse(friendsInStorage);\n\n\t\t\t\t\t\t\t\t\t\tif (friends.length < friendsInStorage.length) {\n\t\t\t\t\t\t\t\t\t\t\tvar unfriends = friendsInStorage.filter(user => {\n\t\t\t\t\t\t\t\t\t\t\t\tlet inArray = false;\n\n\t\t\t\t\t\t\t\t\t\t\t\tfor (var i = 0; i < friends.length; i++) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (friends[i].id === user.id) inArray = true;\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\treturn !inArray;\n\t\t\t\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\t\t\t\tunfriends.forEach(function(friend) {\n\t\t\t\t\t\t\t\t\t\t\t\tpi._tool.log(\n\t\t\t\t\t\t\t\t\t\t\t\t\tpi._tool.replaceString(lang.info.unfriended, {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfriend: friend.username,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsad: emoji.replace_colons(':cry:')\n\t\t\t\t\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t\t\t\t\t\t'info chat'\n\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tlocalStorage.setItem('pi-friends', JSON.stringify(friends));\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tvar friendsOnline = [];\n\t\t\t\t\t\t\t\tfor (var i = 0; i < friends.length; i++) {\n\t\t\t\t\t\t\t\t\tif (typeof friends[i].status == 'undefined') friendsOnline.push(friends[i]);\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t// Display how many friends are online next to friends request count\n\t\t\t\t\t\t\t\tvar count = $('#friends-button > span')[0].innerText.replace(/[0-9]*\\//g,'');\n\t\t\t\t\t\t\t\tcount = friendsOnline.length + '/' + count;\n\t\t\t\t\t\t\t\t$('#friends-button > span')[0].innerText = count;\n\n\t\t\t\t\t\t\t\t// Notification for friend connect/disconnected/room change\n\t\t\t\t\t\t\t\tif (settings.friendConnect || settings.friendDisconnect || settings.friendRoomChange) {\n\t\t\t\t\t\t\t\t\tvar storage = sessionStorage.getItem('friendsOnline');\n\t\t\t\t\t\t\t\t\tif (storage === null) sessionStorage.setItem('friendsOnline', JSON.stringify(friendsOnline));\n\t\t\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t\t\tstorage = JSON.parse(storage);\n\n\t\t\t\t\t\t\t\t\t\tfor (var i = 0; i < friendsOnline.length; i++) {\n\t\t\t\t\t\t\t\t\t\t\tvar isInArray = false;\n\n\t\t\t\t\t\t\t\t\t\t\tfor (var j = 0; j < storage.length; j++) {\n\t\t\t\t\t\t\t\t\t\t\t\tif (friendsOnline[i].id == storage[j].id) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tisInArray = true;\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (friendsOnline[i].room.id !== storage[j].room.id &&\n\t\t\t\t\t\t\t\t\t\t\t\t \t    settings.friendRoomChange) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (friendsOnline[i].room.slug == 'dashboard')\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tpi._tool.log(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tpi._tool.replaceString(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlang.log.friendRoomChangeDashboard,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{friend: friendsOnline[i].username}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t), 'chat'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tpi._tool.log(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tpi._tool.replaceString(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlang.log.friendRoomChange,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{friend: friendsOnline[i].username, link: friendsOnline[i].room.slug, name: friendsOnline[i].room.name}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t), 'chat'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t).div.find('a').on('click', {friend: friendsOnline[i]}, function(e) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlet slug = e.data.friend.room.slug,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t    name = e.data.friend.room.name;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmodules.context.dispatch(new modules.RoomEvent(modules.RoomEvent.JOIN, slug, name));\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\tif (!isInArray && settings.friendConnect) {\n\t\t\t\t\t\t\t\t\t\t\t\tif (typeof friendsOnline[i].room.name === 'undefined') {\n\t\t\t\t\t\t\t\t\t\t\t\t\t// Went online in dashboard, message is slightly different\n\t\t\t\t\t\t\t\t\t\t\t\t\tpi._tool.log(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tpi._tool.replaceString(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlang.log.friendConnectDashboard,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{friend: friendsOnline[i].username}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t), 'chat'\n\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t\tpi._tool.log(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tpi._tool.replaceString(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlang.log.friendConnect,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{friend: friendsOnline[i].username, link: friendsOnline[i].room.slug, name: friendsOnline[i].room.name}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t), 'chat'\n\t\t\t\t\t\t\t\t\t\t\t\t\t).div.find('a').on('click', {friend: friendsOnline[i]}, function(e) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlet slug = e.data.friend.room.slug,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t    name = e.data.friend.room.name;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmodules.context.dispatch(new modules.RoomEvent(modules.RoomEvent.JOIN, slug, name));\n\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tfor (var i = 0; i < storage.length; i++) {\n\t\t\t\t\t\t\t\t\t\t\tvar isInArray = false;\n\n\t\t\t\t\t\t\t\t\t\t\tfor (var j = 0; j < friendsOnline.length; j++) {\n\t\t\t\t\t\t\t\t\t\t\t\tif (storage[i].id == friendsOnline[j].id) isInArray = true;\n\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\tif (!isInArray && settings.friendDisconnect) {\n\t\t\t\t\t\t\t\t\t\t\t\tpi._tool.log(\n\t\t\t\t\t\t\t\t\t\t\t\t\tpi._tool.replaceString(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlang.log.friendDisconnect,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{friend: storage[i].username}\n\t\t\t\t\t\t\t\t\t\t\t\t\t), 'chat'\n\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\tsessionStorage.setItem('friendsOnline', JSON.stringify(friendsOnline));\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t);\n\t\t\t\t\t}, 30*1000);\n\t\t\t\t\twindow.roomURL = location.pathname;\n\t\t\t\t\twindow.checkIfRoomChanged = setInterval(function() {\n\t\t\t\t\t\tif (location.pathname !== window.roomURL) {\n\t\t\t\t\t\t\twindow.roomURL = location.pathname; // If not set, script will reload infinitely\n\t\t\t\t\t\t\tclearInterval(window.checkIfRoomChanged);\n\t\t\t\t\t\t\tpi._reload('roomChange');\n\t\t\t\t\t\t}\n\t\t\t\t\t}, 2*1000);\n\t\t\t\t\t// Creating DOM elements\n\t\t\t\t\tupdateStatus('Creating script environement', 6);\n\t\t\t\t\t// Menu icon\n\t\t\t\t\t$('#app').append($('<div id=\"pi-logo\"><div id=\"icon\"></div></div>'));\n\t\t\t\t\t// SoundCloud visualizer's custom iframe\n\t\t\t\t\t$('#playback-container').append($(\n\t\t\t\t\t\t'<iframe id=\"pi-frame\" frameborder=\"0\" src=\"\"></iframe>'\n\t\t\t\t\t).css({\n\t\t\t\t\t\t\"display\": \"none\",\n\t\t\t\t\t\t\"position\": \"absolute\",\n\t\t\t\t\t\t\"top\": \"0\",\n\t\t\t\t\t\t\"left\": \"0\",\n\t\t\t\t\t\t\"z-index\": \"5\",\n\t\t\t\t\t\t\"width\": \"100%\",\n\t\t\t\t\t\t\"height\": \"100%\"\n\t\t\t\t\t}));\n\t\t\t\t\t// Custom room background\n\t\t\t\t\t$('.room-background').after($('<div id=\"pi-background\"></div>').css({\n\t\t\t\t\t\t\"display\": \"none\",\n\t\t\t\t\t\t\"position\": \"absolute\",\n\t\t\t\t\t\t\"top\": (Math.min(54, ((Math.max(638, window.innerHeight)) - 54 - 800))),\n\t\t\t\t\t\t\"left\": (Math.max(1150, window.innerWidth) - 345 - 1600) / 2,\n\t\t\t\t\t\t\"width\": \"1600px\",\n\t\t\t\t\t\t\"height\": \"900px\",\n\t\t\t\t\t\t\"background\": \"url(\"+settings.customBGURL+\") no-repeat\"\n\t\t\t\t\t}));\n\t\t\t\t\t// Menu itself\n\t\t\t\t\t$('#app').append($(\n\t\t\t\t\t\t'<div id=\"pi-menu\" style=\"display: none;\">'+\n\t\t\t\t\t\t\t'<ul>'+\n\t\t\t\t\t\t\t\t'<h2>'+lang.menu.general.title+'</h2>'+\n\t\t\t\t\t\t\t\t'<ul style=\"display: none;\">'+\n\t\t\t\t\t\t\t\t\t'<li id=\"pi-woot\">'+lang.menu.general.autoWoot+'</li>'+\n\t\t\t\t\t\t\t\t\t'<li id=\"pi-join\">'+lang.menu.general.autoJoin+'</li>'+\n\t\t\t\t\t\t\t\t\t'<li id=\"pi-keyShortcut\">'+lang.menu.general.keyboardShortcuts+'</li>'+\n\t\t\t\t\t\t\t\t\t'<li id=\"pi-chatCommands\">'+lang.menu.general.chatCommands+'</li>'+\n\t\t\t\t\t\t\t\t\t'<li id=\"pi-autoHideLogs\">'+lang.menu.general.autoHideLogs+'</li>'+\n\t\t\t\t\t\t\t\t\t'<li id=\"pi-autoHideLogsAfter\">'+\n\t\t\t\t\t\t\t\t\t\t'<label for=\"autoHideLogsAfter\">'+lang.menu.general.autoHidelogsLabel+'</label>'+\n\t\t\t\t\t\t\t\t\t\t'<input type=\"number\" min=\"1\" max=\"3600\" step=\"1\" value=\"'+settings.autoHideLogsAfter+'\" name=\"autoHideLogsAfter\"/>'+\n\t\t\t\t\t\t\t\t\t'</li>'+\n\t\t\t\t\t\t\t\t\t'<li id=\"pi-mutemeh\">'+lang.menu.general.muteMeh+'</li>'+\n\t\t\t\t\t\t\t\t\t'<li id=\"pi-afkResponder\">'+lang.menu.general.afkResponder+'</li>'+\n\t\t\t\t\t\t\t\t\t'<li id=\"pi-afkMessage\">'+\n\t\t\t\t\t\t\t\t\t\t'<input type=\"text\" placeholder=\"'+lang.menu.general.afkResponderPlaceholder+'\"/>'+\n\t\t\t\t\t\t\t\t\t'</li>'+\n\t\t\t\t\t\t\t\t\t'<li id=\"pi-navWarn\">'+lang.menu.general.navigationWarn+'</li>'+\n\t\t\t\t\t\t\t\t\t'<li id=\"pi-showVotes\">'+lang.menu.general.showVotes+'</li>'+\n\t\t\t\t\t\t\t\t\t'<li id=\"pi-betterClearChatLimit\">'+\n\t\t\t\t\t\t\t\t\t\t'<label for=\"betterClearLimit\">'+lang.menu.general.clearChatLimitLabel+'</label>'+\n\t\t\t\t\t\t\t\t\t\t'<input type=\"number\" min=\"0\" max=\"512\" step=\"1\" value=\"'+settings.betterClearChatLimit+'\" name=\"betterClearLimit\"/>'+\n\t\t\t\t\t\t\t\t\t'</li>'+\n\t\t\t\t\t\t\t\t\t'<li id=\"pi-chatLimit\">'+\n\t\t\t\t\t\t\t\t\t\t'<label for=\"chatLimit\">'+lang.menu.general.chatLimitLabel+'</label>'+\n\t\t\t\t\t\t\t\t\t\t'<input type=\"number\" min=\"1\" max=\"512\" step=\"1\" value=\"'+settings.chatLimit+'\" name=\"chatLimit\"/>'+\n\t\t\t\t\t\t\t\t\t'</li>'+\n\t\t\t\t\t\t\t\t\t'<li id=\"pi-skipNextMediaInHistory\">'+lang.menu.general.skipNextMediaHistory+'</li>'+\n\t\t\t\t\t\t\t\t'</ul>'+\n\t\t\t\t\t\t\t\t'<h2>'+lang.menu.customisation.title+'</h2>'+\n\t\t\t\t\t\t\t\t'<ul style=\"display: none;\">'+\n\t\t\t\t\t\t\t\t\t'<li id=\"pi-video\">'+lang.menu.customisation.hideVideo+'</li>'+\n\t\t\t\t\t\t\t\t\t'<li id=\"pi-soundcloudVisu\">'+lang.menu.customisation.scVisu+'</li>'+\n\t\t\t\t\t\t\t\t\t'<li id=\"pi-css\">'+lang.menu.customisation.customStyle+'</li>'+\n\t\t\t\t\t\t\t\t\t'<li id=\"pi-customRanks\">'+lang.menu.customisation.customRanks+'</li>'+\n\t\t\t\t\t\t\t\t\t'<li id=\"pi-languageFlags\">'+lang.menu.customisation.languageFlags+'</li>'+\n\t\t\t\t\t\t\t\t\t'<li id=\"pi-friendsIcons\">'+lang.menu.customisation.friendsIcons+'</li>'+\n\t\t\t\t\t\t\t\t\t'<li id=\"pi-bg\">'+lang.menu.customisation.customBG+'</li>'+\n\t\t\t\t\t\t\t\t\t'<li id=\"pi-old-chat\">'+lang.menu.customisation.oldChat+'</li>'+\n\t\t\t\t\t\t\t\t\t'<li id=\"pi-old-footer\">'+lang.menu.customisation.oldFooter+'</li>'+\n\t\t\t\t\t\t\t\t\t'<li id=\"pi-small-history\">'+lang.menu.customisation.smallHistory+'</li>'+\n\t\t\t\t\t\t\t\t\t'<li id=\"pi-small-friends\">'+lang.menu.customisation.smallFriends+'</li>'+\n\t\t\t\t\t\t\t\t\t'<li id=\"pi-small-playlists\">'+lang.menu.customisation.smallPlaylists+'</li>'+\n\t\t\t\t\t\t\t\t'</ul>'+\n\t\t\t\t\t\t\t\t'<h2>'+lang.menu.moderation.title+'</h2>'+\n\t\t\t\t\t\t\t\t'<ul style=\"display: none;\">'+\n\t\t\t\t\t\t\t\t\t'<li id=\"pi-showDeletedMsg\">'+lang.menu.moderation.showDeletedMsg+'</li>'+\n\t\t\t\t\t\t\t\t\t'<li id=\"pi-confirmDelete\">'+lang.menu.moderation.confirmChatDeletion+'</li>'+\n\t\t\t\t\t\t\t\t\t'<li id=\"pi-userInfo\">'+lang.menu.moderation.userInformation+'</li>'+\n\t\t\t\t\t\t\t\t\t'<li id=\"pi-stuckSkip\">'+lang.menu.moderation.skipStuckSongs+'</li>'+\n\t\t\t\t\t\t\t\t\t'<li id=\"pi-lengthA\">'+lang.menu.moderation.songLimit+'</li>'+\n\t\t\t\t\t\t\t\t\t'<li id=\"pi-songLength\">'+\n\t\t\t\t\t\t\t\t\t\t'<input type=\"text\" placeholder=\"'+lang.menu.moderation.songLimitPlaceholder+'\"/>'+\n\t\t\t\t\t\t\t\t\t'</li>'+\n\t\t\t\t\t\t\t\t\t'<li id=\"pi-historyA\">'+lang.menu.moderation.historyAlert+'</li>'+\n\t\t\t\t\t\t\t\t'</ul>'+\n\t\t\t\t\t\t\t\t'<h2>'+lang.menu.notifications.title+'</h2>'+\n\t\t\t\t\t\t\t\t'<ul style=\"display: none;\">'+\n\t\t\t\t\t\t\t\t\t'<li id=\"pi-systemNotifications\">'+lang.menu.notifications.systemNotifications+'</li>'+\n\t\t\t\t\t\t\t\t\t'<li id=\"pi-songStats\">'+lang.menu.notifications.songStats+'</li>'+\n\t\t\t\t\t\t\t\t\t'<li id=\"pi-boothAlert\">'+lang.menu.notifications.boothAlert+'</li>'+\n\t\t\t\t\t\t\t\t\t'<li id=\"pi-boothPosition\">'+\n\t\t\t\t\t\t\t\t\t\t'<label for=\"boothPosition\">'+lang.menu.notifications.boothPositionLabel+'</label>'+\n\t\t\t\t\t\t\t\t\t\t'<input type=\"number\" min=\"1\" max=\"50\" step=\"1\" value=\"'+settings.boothPosition+'\" name=\"boothPosition\"/>'+\n\t\t\t\t\t\t\t\t\t'</li>'+\n\t\t\t\t\t\t\t\t\t'<li id=\"pi-userJoin\">'+lang.menu.notifications.userJoin+'</li>'+\n\t\t\t\t\t\t\t\t\t'<li id=\"pi-userLeave\">'+lang.menu.notifications.userLeave+'</li>'+\n\t\t\t\t\t\t\t\t\t'<li id=\"pi-userWoot\">'+lang.menu.notifications.userWoot+'</li>'+\n\t\t\t\t\t\t\t\t\t'<li id=\"pi-userGrab\">'+lang.menu.notifications.userGrab+'</li>'+\n\t\t\t\t\t\t\t\t\t'<li id=\"pi-userMeh\">'+lang.menu.notifications.userMeh+'</li>'+\n\t\t\t\t\t\t\t\t\t'<li id=\"pi-guestJoin\">'+lang.menu.notifications.guestJoin+'</li>'+\n\t\t\t\t\t\t\t\t\t'<li id=\"pi-guestLeave\">'+lang.menu.notifications.guestLeave+'</li>'+\n\t\t\t\t\t\t\t\t\t'<li id=\"pi-friendRoomChange\">'+lang.menu.notifications.friendRoomChange+'</li>'+\n\t\t\t\t\t\t\t\t\t'<li id=\"pi-friendConnect\">'+lang.menu.notifications.friendConnect+'</li>'+\n\t\t\t\t\t\t\t\t\t'<li id=\"pi-friendDisconnect\">'+lang.menu.notifications.friendDisconnect+'</li>'+\n\t\t\t\t\t\t\t\t\t'<li id=\"pi-unfriended\">'+lang.menu.notifications.unfriended+'</li>'+\n\t\t\t\t\t\t\t\t\t'<li id=\"pi-gainNotification\">'+lang.menu.notifications.gainNotification+'</li>'+\n\t\t\t\t\t\t\t\t\t'<li id=\"pi-gainNotificationMinXP\">'+\n\t\t\t\t\t\t\t\t\t\t'<label for=\"gainNotificationMinXP\">'+lang.menu.notifications.gainNotificationMinXPLabel+'</label>'+\n\t\t\t\t\t\t\t\t\t\t'<input type=\"number\" min=\"1\" max=\"1000\" step=\"1\" value=\"'+settings.minimumGain.xp+'\" name=\"gainNotificationMinXP\"/>'+\n\t\t\t\t\t\t\t\t\t'</li>'+\n\t\t\t\t\t\t\t\t\t'<li id=\"pi-gainNotificationMinPP\">'+\n\t\t\t\t\t\t\t\t\t\t'<label for=\"gainNotificationMinPP\">'+lang.menu.notifications.gainNotificationMinPPLabel+'</label>'+\n\t\t\t\t\t\t\t\t\t\t'<input type=\"number\" min=\"1\" step=\"1\" value=\"'+settings.minimumGain.pp+'\" name=\"gainNotificationMinPP\"/>'+\n\t\t\t\t\t\t\t\t\t'</li>'+\n\t\t\t\t\t\t\t\t\t'<li id=\"pi-userLevelUp\">'+lang.menu.notifications.userLevelUp+'</li>'+\n\t\t\t\t\t\t\t\t'</ul>'+\n\t\t\t\t\t\t\t\t'<h2>'+lang.menu.about.title+'</h2>'+\n\t\t\t\t\t\t\t\t'<p style=\"display: none;\">'+\n\t\t\t\t\t\t\t\t\t'Plug-It '+pi._tool.getReadableVersion()+'.<br>'+\n\t\t\t\t\t\t\t\t\tpi._tool.replaceString(lang.menu.about.developedBy, {\"plug-profile\": '<a target=\"_blank\" href=\"https://plug.dj/@/wibla\" target=\"blank\">WiBla</a><br>'})+\n\t\t\t\t\t\t\t\t\tpi._tool.replaceString(lang.menu.about.followUs, {twitter: '<a target=\"_blank\" href=\"https://twitter.com/plugit_dj\" target=\"blank\">Twitter</a><br>'})+\n\t\t\t\t\t\t\t\t\tpi._tool.replaceString(lang.menu.about.joinDiscord, {discord: '<a target=\"_blank\" href=\"https://discord.gg/DptCswA\" target=\"blank\">Discord</a><br>'})+\n\t\t\t\t\t\t\t\t\t'<a target=\"_blank\" href=\"https://chrome.google.com/webstore/detail/plug-it-extension/bikeoipagmbnkipclndbmfkjdcljocej\">'+lang.menu.about.rateExtension+'</a><br>'+\n\t\t\t\t\t\t\t\t\t'<a target=\"_blank\" href=\"https://crowdin.com/project/plug-it\">'+lang.menu.about.translate+'</a><br>'+\n\t\t\t\t\t\t\t\t\t'<a target=\"_blank\" href=\"https://github.com/Plug-It/pi/issues\">'+lang.menu.about.reportBug+'</a><br>'+\n\t\t\t\t\t\t\t\t\t'<span id=\"pi-off\">'+lang.menu.about.shutdown+'</span>'+\n\t\t\t\t\t\t\t\t'</p>'+\n\t\t\t\t\t\t\t'</ul>'+\n\t\t\t\t\t\t'</div>'\n\t\t\t\t\t));\n\t\t\t\t\t// Menu css\n\t\t\t\t\t$('head').append($('<link id=\"pi-menu-CSS\" rel=\"stylesheet\" type=\"text/css\" href=\"'+url.styles.menu_css+'\">'));\n\t\t\t\t\t// DelChat icon\n\t\t\t\t\t$('#chat-popout-button').before(\n\t\t\t\t\t\t'<div id=\"pi-delchat\" class=\"chat-header-button\">'+\n\t\t\t\t\t\t\t'<i class=\"icon icon-chat\"></i>'+\n\t\t\t\t\t\t\t'<i class=\"icon icon-delete\"></i>'+\n\t\t\t\t\t\t'</div>'\n\t\t\t\t\t);\n\t\t\t\t\t// AFK icon\n\t\t\t\t\t$('#chat-popout-button').before(\n\t\t\t\t\t\t'<div id=\"pi-afk\" class=\"chat-header-button\">'+\n\t\t\t\t\t\t\t'<i class=\"icon pi-afk off\"></i>'+\n\t\t\t\t\t\t'</div>'\n\t\t\t\t\t);\n\t\t\t\t\t// Toggle stream icon\n\t\t\t\t\t$('#chat-popout-button').before(\n\t\t\t\t\t\t'<div id=\"pi-toggleStream\" class=\"chat-header-button\">'+\n\t\t\t\t\t\t\t// Notice we init the icon on off state\n\t\t\t\t\t\t\t'<i class=\"icon pi-toggleStream off\"></i>'+\n\t\t\t\t\t\t'</div>'\n\t\t\t\t\t);\n\t\t\t\t\t// Init toggleStream with the correct class\n\t\t\t\t\tif (!modules.plugOptions.settings.streamDisabled)\n\t\t\t\t\t\t$('.pi-toggleStream').removeClass('off');\n\t\t\t\t\t// Moderation toolbar\n\t\t\t\t\twindow.modToolbar = {\n\t\t\t\t\t\tinit: function(forced) {\n\t\t\t\t\t\t\t// Forced is used when user has its role changes and hasPerm will return a false result\n\t\t\t\t\t\t\tif (API.hasPermission(null, API.ROLE.BOUNCER) || forced) {\n\t\t\t\t\t\t\t\tif ($('#pi-rmvDJ, #pi-skip').length > 0) this.kill();\n\t\t\t\t\t\t\t\t// Moderation tools\n\t\t\t\t\t\t\t\t$('#playback-container').append($(\n\t\t\t\t\t\t\t\t\t'<div id=\"pi-rmvDJ\">'+\n\t\t\t\t\t\t\t\t\t\t'<i class=\"icon icon-leave-waitlist\"></i>'+\n\t\t\t\t\t\t\t\t\t'</div>'+\n\t\t\t\t\t\t\t\t\t'<div id=\"pi-skip\">'+\n\t\t\t\t\t\t\t\t\t\t'<i class=\"icon icon-skip\"></i>'+\n\t\t\t\t\t\t\t\t\t'</div>'\n\t\t\t\t\t\t\t\t).css({top: settings.showVideo ? '281px' : '0px'}));\n\t\t\t\t\t\t\t\tif (typeof pi.dom !== 'undefined') {\n\t\t\t\t\t\t\t\t\tpi.dom.skip = $('#pi-rmvDJ')[0];\n\t\t\t\t\t\t\t\t\tpi.dom.rmvDJ = $('#pi-skip')[0];\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t$('#pi-rmvDJ').on('click', function() {pi.removeDJ();});\n\t\t\t\t\t\t\t\t$('#pi-skip').on('click', function() {pi.forceSkip();});\n\t\t\t\t\t\t\t\t$('#pi-rmvDJ, #pi-skip').on('mousewheel', pi._DOMEvent.volumeWheel);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tkill: function() {\n\t\t\t\t\t\t\t$('#pi-rmvDJ, #pi-skip').remove();\n\t\t\t\t\t\t\tdelete pi.dom.rmvDJ;\n\t\t\t\t\t\t\tdelete pi.dom.skip;\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\tmodToolbar.init();\n\t\t\t\t\t// Click Event Binding\n\t\t\t\t\t$('#pi-logo, #pi-menu').on('click', function(e) {\n\t\t\t\t\t\tif (e.target.id === 'pi-logo' || e.target.id === 'icon') {\n\t\t\t\t\t\t\t$('#pi-menu').toggle(250);\n\t\t\t\t\t\t} else if (e.target.tagName !== 'H2') {\n\t\t\t\t\t\t\tpi.menu(e.target.id.replace('pi-', ''));\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\t$('#pi-menu h2').on('click', function(e) {\n\t\t\t\t\t\tvar $openMenus = $('#pi-menu h2+*:not([style*=\"display: none\"])');\n\t\t\t\t\t\tif ($openMenus.length !== 0) {\n\t\t\t\t\t\t\t$openMenus.not(e.target.nextSibling).slideToggle({duration: 400,easing: 'linear'});\n\t\t\t\t\t\t}\n\t\t\t\t\t\t$(this).next().slideToggle({duration: 400,easing: 'linear'});\n\t\t\t\t\t});\n\t\t\t\t\t$('#pi-autoHideLogsAfter input').on('change', function() {\n\t\t\t\t\t\tsettings.AutoHideLogsAfter = parseInt(this.value);\n\t\t\t\t\t});\n\t\t\t\t\t$('#pi-betterClearChatLimit input').on('change', function() {\n\t\t\t\t\t\tsettings.betterClearChatLimit = parseInt(this.value);\n\t\t\t\t\t});\n\t\t\t\t\t$('#pi-chatLimit input').on('change', function() {\n\t\t\t\t\t\tsettings.chatLimit = parseInt(this.value);\n\t\t\t\t\t});\n\t\t\t\t\t$('#pi-afkMessage input').on('change', function() {\n\t\t\t\t\t\tsettings.afkMessage = this.value;\n\t\t\t\t\t});\n\t\t\t\t\t$('#pi-songLength input').on('change', function() {\n\t\t\t\t\t\tsettings.songLength = parseInt(this.value);\n\t\t\t\t\t});\n\t\t\t\t\t$('#pi-boothPosition input').on('change', function() {\n\t\t\t\t\t\tsettings.boothPosition = parseInt(this.value);\n\t\t\t\t\t});\n\t\t\t\t\t$('#pi-gainNotificationMinXP input').on('change', function() {\n\t\t\t\t\t\tsettings.minimumGain.xp = parseInt(this.value);\n\t\t\t\t\t});\n\t\t\t\t\t$('#pi-gainNotificationMinPP input').on('change', function() {\n\t\t\t\t\t\tsettings.minimumGain.pp = parseInt(this.value);\n\t\t\t\t\t});\n\t\t\t\t\t$(window).on('resize', pi._DOMEvent.resize);\n\t\t\t\t\t$('#pi-menu input').on('blur', function() {pi._tool.saveSettings});\n\t\t\t\t\t$('#pi-delchat').on('click', function(e) {\n\t\t\t\t\t\tif (e.ctrlKey) {\n\t\t\t\t\t\t\tAPI.sendChat('/clear');\n\t\t\t\t\t\t} else if (e.shiftKey) {\n\t\t\t\t\t\t\tdocument.getSelection().removeAllRanges();\n\t\t\t\t\t\t\t$('#chat .from.Plug-It').closest('.cm').remove();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tpi.betterClearChat(settings.betterClearChatLimit);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\t$('#pi-afk').on('click', function(e) {\n\t\t\t\t\t\tif (e.ctrlKey) {\n\t\t\t\t\t\t\tlet afkMsg = prompt(\"AFK message:\", settings.afkMessage);\n\t\t\t\t\t\t\tif (afkMsg === null || afkMsg.length === 0) return;\n\t\t\t\t\t\t\tsettings.afkMessage = $('#pi-afkMessage input')[0].value = afkMsg;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tpi.menu('afkResponder');\n\t\t\t\t\t});\n\t\t\t\t\t$('#pi-toggleStream').on('click', function(e) {\n\t\t\t\t\t\tvar streamDisabled = modules.plugOptions.settings.streamDisabled;\n\n\t\t\t\t\t\tstreamDisabled = !streamDisabled;\n\t\t\t\t\t\tmodules.plugOptions.settings.streamDisabled = streamDisabled;\n\n\t\t\t\t\t\tmodules.context.trigger('change:streamDisabled');\n\t\t\t\t\t\tmodules.plugOptions.save();\n\t\t\t\t\t});\n\t\t\t\t\t// Tooltips\n\t\t\t\t\t$('#now-playing-media').on('mouseenter', function() {\n\t\t\t\t\t\tpi._tool.tooltip(true, 'left', $(this).offset().left,0, this.innerText);\n\t\t\t\t\t});\n\t\t\t\t\t$('#pi-rmvDJ').on('mouseenter', function() {\n\t\t\t\t\t\tlet x = $(this).offset().left + ($(this).width()/2);\n\t\t\t\t\t\tlet y = $(this).offset().top - ($(this).height());\n\t\t\t\t\t\tpi._tool.tooltip(true, 'left', x,y, lang.tooltips.rmvDJ);\n\t\t\t\t\t});\n\t\t\t\t\t$('#pi-skip').on('mouseenter', function() {\n\t\t\t\t\t\tlet x = $(this).offset().left + ($(this).width()/2);\n\t\t\t\t\t\tlet y = $(this).offset().top - ($(this).height());\n\t\t\t\t\t\tpi._tool.tooltip(true, 'left', x,y, lang.tooltips.skip);\n\t\t\t\t\t});\n\t\t\t\t\t$('#pi-delchat').on('mouseenter', function() {\n\t\t\t\t\t\tlet x = $(this).offset().left + ($(this).width()/2);\n\t\t\t\t\t\tlet y = $(this).offset().top - ($(this).height());\n\t\t\t\t\t\tpi._tool.tooltip(true, 'right', x,y, lang.tooltips.clearChat);\n\t\t\t\t\t\t// Since tootlip is point on the right but x & y are from top left,\n\t\t\t\t\t\t// instead of calculating the width of the tooltip (which depends on the translation),\n\t\t\t\t\t\t// just apply a translate effect, much easier.\n\t\t\t\t\t\t$('#tooltip').css({transform: 'translate(-100%, 0)'});\n\t\t\t\t\t});\n\t\t\t\t\t$('#pi-afk').on('mouseenter', function() {\n\t\t\t\t\t\tlet x = $(this).offset().left + ($(this).width()/2);\n\t\t\t\t\t\tlet y = $(this).offset().top - ($(this).height());\n\t\t\t\t\t\tpi._tool.tooltip(true, 'right', x,y, lang.tooltips.afk);\n\t\t\t\t\t\t// Since tootlip is point on the right but x & y are from top left,\n\t\t\t\t\t\t// instead of calculating the width of the tooltip (which depends on the translation),\n\t\t\t\t\t\t// just apply a translate effect, much easier.\n\t\t\t\t\t\t$('#tooltip').css({transform: 'translate(-100%, 0)'});\n\t\t\t\t\t});\n\t\t\t\t\t$('#pi-toggleStream').on('mouseenter', function() {\n\t\t\t\t\t\tlet x = $(this).offset().left + ($(this).width()/2);\n\t\t\t\t\t\tlet y = $(this).offset().top - ($(this).height());\n\t\t\t\t\t\tpi._tool.tooltip(true, 'right', x,y, lang.tooltips.toggleStream);\n\t\t\t\t\t\t// Since tootlip is point on the right but x & y are from top left,\n\t\t\t\t\t\t// instead of calculating the width of the tooltip (which depends on the translation),\n\t\t\t\t\t\t// just apply a translate effect, much easier.\n\t\t\t\t\t\t$('#tooltip').css({transform: 'translate(-100%, 0)'});\n\t\t\t\t\t});\n\t\t\t\t\t$('#now-playing-media, #pi-rmvDJ, #pi-skip, #pi-delchat, #pi-afk, #pi-toggleStream').on('mouseleave', function() {pi._tool.tooltip();});\n\t\t\t\t\t// Show votes\n\t\t\t\t\t$(\"#woot, #grab, #meh\").on('mouseenter', function() {\n\t\t\t\t\t\tif (settings.showVotes) {\n\t\t\t\t\t\t\tlet votes;\n\t\t\t\t\t\t\tswitch (this.id) {\n\t\t\t\t\t\t\t\tcase 'woot': votes = session.woots; break;\n\t\t\t\t\t\t\t\tcase 'grab': votes = session.grabs; break;\n\t\t\t\t\t\t\t\tcase 'meh':  votes = session.mehs;  break;\n\t\t\t\t\t\t\t\tdefault: votes = []; break;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tpi._tool.showVotes(true, this.id, votes);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\t$(\"#woot, #grab, #meh\").on('mouseleave', function(e) {\n\t\t\t\t\t\t// do not remove element if moving from #votes to #pi-votes\n\t\t\t\t\t\tif (!$(e.toElement).closest('#pi-votes').length) pi._tool.showVotes(false);\n\t\t\t\t\t});\n\t\t\t\t\t// Fully loaded\n\t\t\t\t\tpi.dom = {\n\t\t\t\t\t\t// Menu\n\t\t\t\t\t\t// General\n\t\t\t\t\t\twoot: $('#pi-woot')[0],\n\t\t\t\t\t\tjoin: $('#pi-join')[0],\n\t\t\t\t\t\tkeyShortcut: $('#pi-keyShortcut')[0],\n\t\t\t\t\t\tchatCommands: $('#pi-chatCommands')[0],\n\t\t\t\t\t\tautoHideLogs: $('#pi-autoHideLogs')[0],\n\t\t\t\t\t\tautoHideLogsAfter: $('#pi-autoHideLogsAfter')[0],\n\t\t\t\t\t\tbetterMeh: $('#pi-mutemeh')[0],\n\t\t\t\t\t\tafkResponder: $('#pi-afkResponder')[0],\n\t\t\t\t\t\tafkMessage: $('#pi-afkMessage')[0],\n\t\t\t\t\t\tnavWarn: $('#pi-navWarn')[0],\n\t\t\t\t\t\tshowVotes: $('#pi-showVotes')[0],\n\t\t\t\t\t\tbetterClearChatLimit: $('#pi-betterClearChatLimit')[0],\n\t\t\t\t\t\tchatLimit: $('#pi-chatLimit')[0],\n\t\t\t\t\t\tskipNextMediaInHistory: $('#pi-skipNextMediaInHistory')[0],\n\t\t\t\t\t\t// Customisation\n\t\t\t\t\t\tvideo: $('#pi-video')[0],\n\t\t\t\t\t\tsoundcloudVisu: $('#pi-soundcloudVisu')[0],\n\t\t\t\t\t\tcss: $('#pi-css')[0],\n\t\t\t\t\t\tcustomRanks: $('#pi-customRanks')[0],\n\t\t\t\t\t\tlanguageFlags: $('#pi-languageFlags')[0],\n\t\t\t\t\t\tfriendsIcons: $('#pi-friendsIcons')[0],\n\t\t\t\t\t\tbg: $('#pi-bg')[0],\n\t\t\t\t\t\toldChat: $('#pi-old-chat')[0],\n\t\t\t\t\t\toldFooter: $('#pi-old-footer')[0],\n\t\t\t\t\t\tsmallHistory: $('#pi-small-history')[0],\n\t\t\t\t\t\tsmallFriends: $('#pi-small-friends')[0],\n\t\t\t\t\t\tsmallPlaylists: $('#pi-small-playlists')[0],\n\t\t\t\t\t\t// Moderation\n\t\t\t\t\t\tshowDeletedMsg: $('#pi-showDeletedMsg')[0],\n\t\t\t\t\t\tconfirmDelete: $('#pi-confirmDelete')[0],\n\t\t\t\t\t\tuserInfo: $('#pi-userInfo')[0],\n\t\t\t\t\t\tstuckSkip: $('#pi-stuckSkip')[0],\n\t\t\t\t\t\tlengthA: $('#pi-lengthA')[0],\n\t\t\t\t\t\tsongLength: $('#pi-songLength')[0],\n\t\t\t\t\t\thistoryAlert: $('#pi-historyA')[0],\n\t\t\t\t\t\t// Notifications\n\t\t\t\t\t\tsystemNotifications: $('#pi-systemNotifications')[0],\n\t\t\t\t\t\tsongStats: $('#pi-songStats')[0],\n\t\t\t\t\t\tboothAlert: $('#pi-boothAlert')[0],\n\t\t\t\t\t\tboothPosition: $('#pi-boothPosition')[0],\n\t\t\t\t\t\tuserJoin: $('#pi-userJoin')[0],\n\t\t\t\t\t\tuserLeave: $('#pi-userLeave')[0],\n\t\t\t\t\t\tuserWoot: $('#pi-userWoot')[0],\n\t\t\t\t\t\tuserGrab: $('#pi-userGrab')[0],\n\t\t\t\t\t\tmehA: $('#pi-userMeh')[0],\n\t\t\t\t\t\tguestJoin: $('#pi-guestJoin')[0],\n\t\t\t\t\t\tguestLeave: $('#pi-guestLeave')[0],\n\t\t\t\t\t\tfriendRoomChange: $('#pi-friendRoomChange')[0],\n\t\t\t\t\t\tfriendConnect: $('#pi-friendConnect')[0],\n\t\t\t\t\t\tfriendDisconnect: $('#pi-friendDisconnect')[0],\n\t\t\t\t\t\tunfriended: $('#pi-unfriended')[0],\n\t\t\t\t\t\tgainNotification: $('#pi-gainNotification')[0],\n\t\t\t\t\t\tgainNotificationMinXP: $('#pi-gainNotificationMinXP')[0],\n\t\t\t\t\t\tgainNotificationMinPP: $('#pi-gainNotificationMinPP')[0],\n\t\t\t\t\t\tuserLevelUp: $('#pi-userLevelUp')[0],\n\t\t\t\t\t\t// About\n\t\t\t\t\t\toff: $('#pi-off')[0],\n\t\t\t\t\t\t// Mod Bar\n\t\t\t\t\t\trmvDJ: $('#pi-rmvDJ')[0],\n\t\t\t\t\t\tskip: $('#pi-skip')[0],\n\t\t\t\t\t\t// Other\n\t\t\t\t\t\tDelChat: $('#pi-delchat')[0],\n\t\t\t\t\t\t// Plug\n\t\t\t\t\t\tstream: $('#playback-container')[0],\n\t\t\t\t\t\tplayback: $('#playback')[0]\n\t\t\t\t\t};\n\n\t\t\t\t\tdelete pi._load; // Init only once\n\t\t\t\t\tpi._tool.log(pi._tool.replaceString(lang.log.loaded, {version: pi._tool.getReadableVersion()}) + ' ' + (new Date().getTime() - startTime) + 'ms');\n\t\t\t\t\t// If userSettings is undefined: first time we run the script\n\t\t\t\t\tif (!userSettings) {\n\t\t\t\t\t\tpi._tool.log(lang.log.help, 'info chat');\n\t\t\t\t\t\tpi._tool.log(lang.log.preRelease, 'warn chat');\n\t\t\t\t\t}\n\t\t\t\t\t// Initialise the menu & setup script\n\t\t\t\t\tpi.menu('init');\n\t\t\t\t\tpi.muteMeh();\n\t\t\t\t\t// Delete load status\n\t\t\t\t\t$('#pi-status').css({opacity:'0'});\n\t\t\t\t\tsetTimeout(function() {$('#pi-status').remove();}, 250);\n\t\t\t\t\tpi._tool.getRoomSettings();\n\t\t\t\t},\n\t\t\t\t_reload: function(reason) {\n\t\t\t\t\tif (typeof reason === 'string' && reason === 'roomChange') {\n\t\t\t\t\t\tpi._tool.log(lang.info.roomChange, 'info');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tpi._tool.log(lang.log.reloading);\n\t\t\t\t\t}\n\n\t\t\t\t\tpi._close();\n\t\t\t\t\t$.getScript(scriptURL);\n\t\t\t\t},\n\t\t\t\t_close: function() {\n\t\t\t\t\t// Unbind API events\n\t\t\t\t\tfor (var event in pi._event) {\n\t\t\t\t\t\tAPI.off(event, pi._event[event]);\n\t\t\t\t\t}\n\t\t\t\t\tpi._tool.plugSocketHook.kill();\n\t\t\t\t\tmodules.context.off('chat:receive', pi._modulesEvent.chatReceive);\n\t\t\t\t\tmodules.context._events['chat:delete'][0].callback = modules.originalChatDelete;\n\t\t\t\t\tmodules.context.off('change:streamDisabled', pi._modulesEvent.streamDisabled);\n\t\t\t\t\t// modules.context._events['chat:delete'].push(modules.events.chatDelete);\n\t\t\t\t\tmodules = null;\n\n\t\t\t\t\t// Allow to reload\n\t\t\t\t\twindow.scriptURL = url.script;\n\t\t\t\t\twindow.onbeforeunload = null;\n\n\t\t\t\t\tclearInterval(friendsOnline);\n\t\t\t\t\tclearInterval(checkIfRoomChanged);\n\n\t\t\t\t\tfriendsOnline = null;\n\t\t\t\t\troomURL = null;\n\t\t\t\t\tcheckIfRoomChanged = null;\n\n\t\t\t\t\t// Unbind events BEFORE removing elements\n\t\t\t\t\t$(window).off('keydown', pi._DOMEvent.keydown);\n\t\t\t\t\t$(window).off('dblclick', pi._DOMEvent.translate);\n\t\t\t\t\t$(window).off('resize', pi._DOMEvent.resize);\n\t\t\t\t\t$('#volume, #playback-controls').off('mousewheel', pi._DOMEvent.mousewheel);\n\t\t\t\t\t$('.button.staff').off('click', pi._DOMEvent.collideRanks);\n\t\t\t\t\t$('#chat-popout-button').off('click', pi._DOMEvent.popout);\n\t\t\t\t\t$(\"#chat-input-field\").off('input', pi._DOMEvent.chatAutocompletion);\n\t\t\t\t\t$(document).off('ajaxSuccess', pi._DOMEvent.updateRoomSettings);\n\t\t\t\t\t$('.group').css('cursor', '');\n\n\t\t\t\t\t$(\".room-background\").show();\n\t\t\t\t\t$('[id*=\"pi-\"], .icon[class*=\"pi-\"]').each(function() {\n\t\t\t\t\t\tthis.remove();\n\t\t\t\t\t});\n\n\t\t\t\t\t$('#now-playing-media, #woot, #grab, #meh').off('mouseenter');\n\t\t\t\t\t$('#now-playing-media, #woot, #grab, #meh').off('mouseleave');\n\t\t\t\t\t// Preventing making the video definitly disapear\n\t\t\t\t\tif (!settings.showVideo) {\n\t\t\t\t\t\tif (pi._tool.getPlugSettings().videoOnly) {\n\t\t\t\t\t\t\tpi.dom.playback.style.height = window.innerHeight - 185+'px';\n\t\t\t\t\t\t\t$(pi.dom.stream).css({visibility:'visible', height:'100%'});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tpi.dom.playback.style.height = '271px';\n\t\t\t\t\t\t\t$(pi.dom.stream).css({visibility:'visible', height:'281px'});\n\t\t\t\t\t\t}\n\t\t\t\t\t\t$('#playback-controls, #no-dj').css('visibility', 'visible');\n\t\t\t\t\t}\n\n\t\t\t\t\tpi._extendAPI.kill();\n\n\t\t\t\t\tpi = null;\n\t\t\t\t},\n\t\t\t\t_extendAPI: {\n\t\t\t\t\tinit: function() {\n\t\t\t\t\t\tAPI.GLOBAL_ROLE = {\n\t\t\t\t\t\t\tADMIN: 5000,\n\t\t\t\t\t\t\tAMBASSADOR: 3000,\n\t\t\t\t\t\t\tMODERATOR: 2500,\n\t\t\t\t\t\t\tPLOT: 750,\n\t\t\t\t\t\t\tPROMOTER: 500\n\t\t\t\t\t\t};\n\t\t\t\t\t\tAPI.GUEST_JOIN = 'guestJoin';\n\t\t\t\t\t\tAPI.GUEST_LEAVE = 'guestLeave';\n\t\t\t\t\t\tAPI.EARN = 'earn';\n\n\t\t\t\t\t\tAPI.moderateForceQuit = function() {\n\t\t\t\t\t\t\tif (API.hasPermission(null, API.ROLE.BOUNCER) && API.enabled) {\n\t\t\t\t\t\t\t\t$.ajax({\n\t\t\t\t\t\t\t\t\turl: '/_/booth/remove/'+API.getDJ().id,\n\t\t\t\t\t\t\t\t\tmethod: 'DELETE'\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t\tAPI.getUserByName = function(name) {\n\t\t\t\t\t\t\tif (!API.enabled) return;\n\t\t\t\t\t\t\tif (typeof name == 'undefined') {\n\t\t\t\t\t\t\t\tthrow new Error('A name must be provided.');\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tvar user = API.getUsers().filter(u => u.username === name);\n\t\t\t\t\t\t\t\treturn (user.length > 0 ? user[0] : null);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t\tAPI.getUserByID = function(id, callback) {\n\t\t\t\t\t\t\tif (!API.enabled || isNaN(id) || typeof callback !== 'function') return;\n\t\t\t\t\t\t\t$.ajax({\n\t\t\t\t\t\t\t\turl: '/_/users/'+id,\n\t\t\t\t\t\t\t\tsuccess: function(data) {\n\t\t\t\t\t\t\t\t\tcallback(data.data[0]);\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\terror: function(e) {\n\t\t\t\t\t\t\t\t\tconsole.error(e);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t};\n\t\t\t\t\t\tAPI.addFriendByID = function(id) {\n\t\t\t\t\t\t\tif (isNaN(id) || !API.enabled) return;\n\t\t\t\t\t\t\t$.ajax({\n\t\t\t\t\t\t\t\ttype: 'POST',\n\t\t\t\t\t\t\t\turl: '/_/friends',\n\t\t\t\t\t\t\t\tdata: JSON.stringify({\n\t\t\t\t\t\t\t\t\t'id': id\n\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\tsuccess: function() {\n\t\t\t\t\t\t\t\t\tAPI.getUserByID(id, (user) => {\n\t\t\t\t\t\t\t\t\t\tmodules.context.trigger('notify', 'icon-add-friend', modules.lang.messages.friendRequest.split('%NAME%').join(user.username));\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\terror: function(e) {\n\t\t\t\t\t\t\t\t\tconsole.error(e);\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tdataType: 'json',\n\t\t\t\t\t\t\t\tcontentType: 'application/json'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t};\n\t\t\t\t\t\tAPI.moderateKickUser = function(id, time) {\n\t\t\t\t\t\t\tif (arguments.length < 2 || !API.enabled) return;\n\n\t\t\t\t\t\t\tvar duration;\n\t\t\t\t\t\t\tif (time>=24*60*60) duration = 'f';\n\t\t\t\t\t\t\telse if (time>=60*60) duration = 'd';\n\t\t\t\t\t\t\telse duration = 'h';\n\n\t\t\t\t\t\t\t$.ajax({\n\t\t\t\t\t\t\t\ttype: 'POST',\n\t\t\t\t\t\t\t\turl: '/_/bans/add',\n\t\t\t\t\t\t\t\tdata: JSON.stringify({\n\t\t\t\t\t\t\t\t\t'userID': id,\n\t\t\t\t\t\t\t\t\t'reason': 1,\n\t\t\t\t\t\t\t\t\t'duration': duration\n\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\tdataType: 'json',\n\t\t\t\t\t\t\t\tcontentType: 'application/json',\n\t\t\t\t\t\t\t\terror: function(err) {\n\t\t\t\t\t\t\t\t\tif (typeof err.responseJSON.data[0] !== 'undefined') {\n\t\t\t\t\t\t\t\t\t\tpi._tool.log(['Could not ban user: ', err.responseJSON.data[0]], 'error');\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tpi._tool.log(['Could not ban user: ', err], 'error');\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tsuccess: function() {\n\t\t\t\t\t\t\t\t\tpi._tool.log('User was succesfully banned for '+time+' seconds.', 'chat');\n\n\t\t\t\t\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t\t\t\t\t$.ajax({\n\t\t\t\t\t\t\t\t\t\t\ttype: 'DELETE',\n\t\t\t\t\t\t\t\t\t\t\turl: '/_/bans/'+id,\n\t\t\t\t\t\t\t\t\t\t\terror: function(err) {\n\t\t\t\t\t\t\t\t\t\t\t\tpi._tool.log(['Could not unban user: ', err], 'error');\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\tsuccess: function() {\n\t\t\t\t\t\t\t\t\t\t\t\tpi._tool.log('User was unbanned.', 'success chat');\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t}, time*1000);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t};\n\t\t\t\t\t\tAPI.gift = function(id, amount, customName) {\n\t\t\t\t\t\t\tif (isNaN(id) || isNaN(amount) || !API.enabled || API.getUser().sub < 1) return;\n\n\t\t\t\t\t\t\tvar user = API.getUser(id);\n\t\t\t\t\t\t\tif (!user.username) {\n\t\t\t\t\t\t\t\tAPI.getUserByID(id, (user) => {\n\t\t\t\t\t\t\t\t\tcustomName = typeof customName === 'string' ? customName : user.username;\n\t\t\t\t\t\t\t\t\tamount = typeof amount == 'undefined' ? 25 : amount;\n\t\t\t\t\t\t\t\t\tpi._tool.showGiftDialog(id, customName, amount);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tcustomName = typeof customName === 'string' ? customName : user.username;\n\t\t\t\t\t\t\t\tamount = typeof amount == 'undefined' ? 25 : amount;\n\t\t\t\t\t\t\t\tpi._tool.showGiftDialog(id, customName, amount);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t\tAPI.getActivePlaylist = function() {\n\t\t\t\t\t\t\tif (!API.enabled) return;\n\t\t\t\t\t\t\tlet currentPL, name, id, count, allPL;\n\t\t\t\t\t\t\tcurrentPL = $('#playlist-menu .row.selected');\n\t\t\t\t\t\t\tname = currentPL.children()[1].innerText;\n\t\t\t\t\t\t\tcount = currentPL.children()[2].innerText;\n\t\t\t\t\t\t\tallPL = JSON.parse(_.find(require.s.contexts._.defined,function(m){return m&&m._read})._read())[1]['p'];\n\n\t\t\t\t\t\t\tfor (var PL in allPL) {\n\t\t\t\t\t\t\t\tif (allPL[PL].name === name) {\n\t\t\t\t\t\t\t\t\tid = allPL[PL].id;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\tname: name,\n\t\t\t\t\t\t\t\tid: id,\n\t\t\t\t\t\t\t\titemCount: count\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t\tAPI.getRoomName = function() {\n\t\t\t\t\t\t\tif (!API.enabled) return;\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\treturn modules.room.get('name');\n\t\t\t\t\t\t\t} catch(e) {\n\t\t\t\t\t\t\t\treturn $('#room-name span').text();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t\tAPI.moderateDeleteChat = function(cid) {\n\t\t\t\t\t\t\tif (API.enabled && cid) {\n\t\t\t\t\t\t\t\t$.ajax({url: '/_/chat/'+cid, method: 'DELETE'});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t},\n\t\t\t\t\tkill: function() {\n\t\t\t\t\t\tdelete API.GLOBAL_ROLE;\n\t\t\t\t\t\tdelete API.GUEST_JOIN;\n\t\t\t\t\t\tdelete API.GUEST_LEAVE;\n\t\t\t\t\t\tdelete API.EARN;\n\n\t\t\t\t\t\tdelete API.moderateForceQuit;\n\t\t\t\t\t\tdelete API.getUserByName;\n\t\t\t\t\t\tdelete API.getUserByID;\n\t\t\t\t\t\tdelete API.addFriendByID;\n\t\t\t\t\t\tdelete API.moderateKickUser;\n\t\t\t\t\t\tdelete API.gift;\n\t\t\t\t\t\tdelete API.getActivePlaylist;\n\t\t\t\t\t\tdelete API.getRoomName();\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t_tool: {\n\t\t\t\t\tapplyRoomSettings: function() {\n\t\t\t\t\t\tfor (var script in roomSettings) {\n\t\t\t\t\t\t\tfor (var rule in roomSettings[script]) {\n\t\t\t\t\t\t\t\t// Do not load room settings if \"room\" key != room URL\n\t\t\t\t\t\t\t\tif (rule === 'room' && roomSettings[script][rule] !== location.pathname.slice(1)) {\n\t\t\t\t\t\t\t\t\treturn pi._tool.log('Could not load room settings: room value must match room URL.', 'error');\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tif (typeof roomSettings[script][rule].import !== 'undefined') {\n\t\t\t\t\t\t\t\t\troomSettings[rule] = roomSettings[script][rule].import[0];\n\t\t\t\t\t\t\t\t\troomSettings.rule = roomSettings[script][rule].rule;\n\t\t\t\t\t\t\t\t} else if (rule === 'rules') {\n\t\t\t\t\t\t\t\t\tfor (var rule2 in roomSettings[script][rule]) {\n\t\t\t\t\t\t\t\t\t\tif (roomSettings[rule] === undefined) roomSettings[rule] = {}\n\n\t\t\t\t\t\t\t\t\t\tif (typeof roomSettings[script][rule][rule2] === 'string') {\n\t\t\t\t\t\t\t\t\t\t\troomSettings[rule][rule2] = (roomSettings[script][rule][rule2] === 'true');\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\troomSettings[rule][rule2] = roomSettings[script][rule][rule2];\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\troomSettings[rule] = roomSettings[script][rule];\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tdelete roomSettings[script];\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (typeof roomSettings.css !== 'undefined') {\n\t\t\t\t\t\t\tlet $roomStyle = $('#pi-room-style');\n\n\t\t\t\t\t\t\t// In case of update, remove previous menu item\n\t\t\t\t\t\t\tif ($roomStyle.length) $roomStyle.remove();\n\n\t\t\t\t\t\t\t$roomStyle = $('<li id=\"pi-room-style\">'+roomSettings.room+' style</li>');\n\t\t\t\t\t\t\tpi.dom.roomStyle = $roomStyle[0];\n\t\t\t\t\t\t\tpi.dom.roomStyle.className = settings.roomStyle ? 'pi-on' : 'pi-off';\n\t\t\t\t\t\t\t$('#pi-css').before($roomStyle);\n\n\t\t\t\t\t\t\tif (settings.roomStyle) {\n\t\t\t\t\t\t\t\tpi.toggleStyle('roomStyle');\n\t\t\t\t\t\t\t\tpi._tool.log('This room is using a custom style made by '+ roomSettings.author +', you can disable it via the menu.');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tcheckForUpdates: function(isForced) {\n\t\t\t\t\t\tgetLastCommit('https://api.github.com/repos/Plug-It/pi/commits/pre-release', function(data) {\n\t\t\t\t\t\t\tif (thisCommit.sha !== data.sha) {\n\t\t\t\t\t\t\t\tif (isForced) {\n\t\t\t\t\t\t\t\t\tpi._tool.log(lang.log.forcingReload);\n\t\t\t\t\t\t\t\t\tpi._reload();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t\tpi._tool.log(\n\t\t\t\t\t\t\t\t\t\tpi._tool.replaceString(\n\t\t\t\t\t\t\t\t\t\t\tlang.log.updateAvailable,\n\t\t\t\t\t\t\t\t\t\t\t{whatsnew: data.commit.message}\n\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t'info chat',\n\t\t\t\t\t\t\t\t\t\tfunction(){pi._reload();}\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t},\n\t\t\t\t\tgetFriends: function(callback) {\n\t\t\t\t\t\t/* Sadly, this is the only way to get friends\n\t\t\t\t\t\t * It's ugly, I know. In order to update, you\n\t\t\t\t\t\t * have to make a call every x sec/min.\n\t\t\t\t\t\t * You can thank plug.\n\t\t\t\t\t\t */\n\n\t\t\t\t\t\tif (!session.floodAPI) {\n\t\t\t\t\t\t\t$.ajax({\n\t\t\t\t\t\t\t\turl: '/_/friends',\n\t\t\t\t\t\t\t\tsuccess: function(data) {\n\t\t\t\t\t\t\t\t\tcallback(data.data);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\n\t\t\t\t\t},\n\t\t\t\t\tgetPlaylist: function(id, callback) {\n\t\t\t\t\t\tif (isNaN(id) || typeof callback !== 'function' || session.floodAPI) return;\n\t\t\t\t\t\tlet cache = _.find(require.s.contexts._.defined,function(m){return m&&m._read})._read();\n\t\t\t\t\t\tcache = JSON.parse(cache);\n\t\t\t\t\t\tlet thisPL = cache[1]['p'][id]['items'];\n\n\t\t\t\t\t\tif (Object.keys(thisPL).length !== 0) {\n\t\t\t\t\t\t\tlet data = [];\n\t\t\t\t\t\t\tfor (var cid in thisPL) {\n\t\t\t\t\t\t\t\tdata.push(cache[1]['m'][cid]);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tcallback(data, true); // true = cached\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$.ajax({\n\t\t\t\t\t\t\t\turl: '/_/playlists/'+id+'/media',\n\t\t\t\t\t\t\t\tsuccess: function(data) {\n\t\t\t\t\t\t\t\t\tcallback(data.data, false); // false = non cached\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tgetPlaylists: function(callback) {\n\t\t\t\t\t\tif (typeof callback !== 'function' || session.floodAPI) return;\n\n\t\t\t\t\t\t$.ajax({\n\t\t\t\t\t\t\turl: '/_/playlists',\n\t\t\t\t\t\t\tsuccess: function(data) {\n\t\t\t\t\t\t\t\t// return array sorted by playlist name\n\t\t\t\t\t\t\t\tcallback(data.data.sort((a,b) => a.name.localeCompare(b.name)));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t},\n\t\t\t\t\tgetPlugSettings: function(id) {\n\t\t\t\t\t\tif (typeof id == 'undefined') id = API.getUser().id;\n\t\t\t\t\t\tvar json = JSON.parse(localStorage.getItem('settings'));\n\t\t\t\t\t\tfor (var i = 1; i < 20; i++) {\n\t\t\t\t\t\t\tif (typeof json[i][id] !== 'undefined') return json[i][id];\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tgetRank: function(id) {\n\t\t\t\t\t\tlet result = [], user;\n\n\t\t\t\t\t\tif (!id) {\n\t\t\t\t\t\t\tuser = API.getUser();\n\t\t\t\t\t\t\tid = user.id;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse user = API.getUser(id);\n\n\t\t\t\t\t\tfor (var rank in ranks) {\n\t\t\t\t\t\t\tfor (var users in ranks[rank]) {\n\t\t\t\t\t\t\t\tif (id == ranks[rank][users]) result.push(rank);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Self assignable roles\n\t\t\t\t\t\tif (settings.bot.indexOf(id) !== -1) result.push('Bot');\n\t\t\t\t\t\tif (settings.discordbot.indexOf(id) !== -1) result.push('Discord Bot');\n\n\t\t\t\t\t\treturn result;\n\t\t\t\t\t},\n\t\t\t\t\tgetReadableVersion: function() {\n\t\t\t\t\t\tlet subVersion = '';\n\n\t\t\t\t\t\tif (pi.version.pre) {\n\t\t\t\t\t\t\tsubVersion = ' Pre ' + pi.version.pre;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn pi.version.major+'.'+pi.version.minor+'.'+pi.version.patch+subVersion;\n\t\t\t\t\t},\n\t\t\t\t\tgetRoomRules: function(which) {\n\t\t\t\t\t\tif (typeof roomSettings.rules === 'undefined') return true;\n\t\t\t\t\t\tif (typeof roomSettings.rules[which] === 'undefined') return true;\n\t\t\t\t\t\telse return roomSettings.rules[which];\n\t\t\t\t\t},\n\t\t\t\t\tgetRoomSettings: function() {\n\t\t\t\t\t\tif (session.floodAPI) return;\n\t\t\t\t\t\t$.getJSON('/_/rooms/state', function(data) {\n\t\t\t\t\t\t\tdata = data.data[0];\n\t\t\t\t\t\t\tlet url = data.meta.description;\n\t\t\t\t\t\t\tlet re = new RegExp('@(pi|p3|rcs)=(https?:\\/\\/[^\\\\@,;]*json)', 'ig');\n\n\t\t\t\t\t\t\tif (re.test(url)) {\n\t\t\t\t\t\t\t\tlet match = url.match(re);\n\n\t\t\t\t\t\t\t\tfor (var i = 0; i < match.length; i++) {\n\t\t\t\t\t\t\t\t\tlet scriptName = match[i].slice(1, match[i].indexOf(\"=\"));\n\n\t\t\t\t\t\t\t\t\t$.ajax({\n\t\t\t\t\t\t\t\t\t\turl: match[i].replace(/@(pi|p3|rcs)=/ig, ''),\n\t\t\t\t\t\t\t\t\t\tsuccess: function(data) {\n\t\t\t\t\t\t\t\t\t\t\tif (typeof data !== 'object') data = JSON.parse(data);\n\t\t\t\t\t\t\t\t\t\t\troomSettings[scriptName] = data;\n\t\t\t\t\t\t\t\t\t\t\troomSettingsLoaded();\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\terror: function(e) {\n\t\t\t\t\t\t\t\t\t\t\tpi._tool.log(\n\t\t\t\t\t\t\t\t\t\t\t\tpi._tool.replaceString(\n\t\t\t\t\t\t\t\t\t\t\t\t\tlang.error.cannotLoadScriptRoomSettings,\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tscript: scriptName,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\terror: e\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t\t'error console'\n\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tfunction roomSettingsLoaded() {\n\t\t\t\t\t\t\t\t\tif (Object.keys(roomSettings).length !== match.length) return;\n\t\t\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t\t\tpi._tool.applyRoomSettings();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t},\n\t\t\t\t\tisRank: function(rank, id) {\n\t\t\t\t\t\tif (!rank) return null;\n\t\t\t\t\t\tvar result = pi._tool.getRank(id);\n\n\t\t\t\t\t\tfor (var ranks in result) {\n\t\t\t\t\t\t\tresult[ranks] = result[ranks].toLowerCase();\n\t\t\t\t\t\t\trank = rank.toLowerCase();\n\t\t\t\t\t\t\tif (result[ranks] == rank) return true;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t},\n\t\t\t\t\tloadEmote: function(which) {\n\t\t\t\t\t\tif (typeof which !== 'string') return;\n\n\t\t\t\t\t\t// Only 4 options, switch is not faster\n\t\t\t\t\t\tif (which === 'tasty') {\n\t\t\t\t\t\t\t$.ajax({\n\t\t\t\t\t\t\t\turl: url.emotes.tasty,\n\t\t\t\t\t\t\t\tsuccess: function(data) {\n\t\t\t\t\t\t\t\t\temotes.tastycat = data.emotes;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else if (which === 'twitch') {\n\t\t\t\t\t\t\t$.ajax({\n\t\t\t\t\t\t\t\turl: url.emotes.twitch,\n\t\t\t\t\t\t\t\tsuccess: function(data) {\n\t\t\t\t\t\t\t\t\temotes.twitch = {};\n\t\t\t\t\t\t\t\t\tfor (var emote in data.emotes) {\n\t\t\t\t\t\t\t\t\t\temotes.twitch[emote] = data.template.small.replace('{image_id}', data.emotes[emote].image_id);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else if (which === 'twitchSub') {\n\t\t\t\t\t\t\t$.ajax({\n\t\t\t\t\t\t\t\turl: url.emotes.twitchSub,\n\t\t\t\t\t\t\t\tsuccess: function(data) {\n\t\t\t\t\t\t\t\t\temotes.twitchSub = {};\n\t\t\t\t\t\t\t\t\tfor (var emote in data.unknown_emotes.emotes) {\n\t\t\t\t\t\t\t\t\t\temotes.twitchSub[data.unknown_emotes.emotes[emote].code] =\n\t\t\t\t\t\t\t\t\t\t\tdata.template.small.replace('{image_id}', data.unknown_emotes.emotes[emote].image_id);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tfor (var channel in data.channels) {\n\t\t\t\t\t\t\t\t\t\tfor (emote in data.channels[channel].emotes) {\n\t\t\t\t\t\t\t\t\t\t\temotes.twitchSub[data.channels[channel].emotes[emote].code] =\n\t\t\t\t\t\t\t\t\t\t\t\tdata.template.small.replace('{image_id}', data.channels[channel].emotes[emote].image_id);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else if (which === 'betterTTV') {\n\t\t\t\t\t\t\t$.ajax({\n\t\t\t\t\t\t\t\turl: url.emotes.betterDiscord,\n\t\t\t\t\t\t\t\tsuccess: function(data) {\n\t\t\t\t\t\t\t\t\temotes.betterTTV = JSON.parse(data);\n\t\t\t\t\t\t\t\t\tfor (var emote in emotes) {\n\t\t\t\t\t\t\t\t\t\temotes.betterTTV[emote] = 'https://cdn.betterttv.net/emote/' + emotes.betterTTV[emote] + '/1x';\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t$.ajax({\n\t\t\t\t\t\t\t\t\t\turl: url.emotes.betterTTV,\n\t\t\t\t\t\t\t\t\t\tsuccess: function(data) {\n\t\t\t\t\t\t\t\t\t\t\tfor (var emote in data.emotes) {\n\t\t\t\t\t\t\t\t\t\t\t\temotes.betterTTV[data.emotes[emote].regex] = \"https:\" + data.emotes[emote].url;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tlog: function(txt, placeType, callback, ...cbArgs) {\n\t\t\t\t\t\tlet type, emoticon, time;\n\t\t\t\t\t\tif (typeof placeType === 'undefined') placeType = 'log';\n\t\t\t\t\t\tif (placeType.indexOf('log') > -1) {\n\t\t\t\t\t\t\ttype = 'log';\n\t\t\t\t\t\t\temoticon = 'log';\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (placeType.indexOf('info') > -1) {\n\t\t\t\t\t\t\ttype = 'info';\n\t\t\t\t\t\t\temoticon = ':information_source:';\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (placeType.indexOf('warn') > -1) {\n\t\t\t\t\t\t\ttype = 'warn';\n\t\t\t\t\t\t\temoticon = ':warning:';\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (placeType.indexOf('error') > -1) {\n\t\t\t\t\t\t\ttype = 'error';\n\t\t\t\t\t\t\temoticon = ':exclamation:';\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (placeType.indexOf('debug') > -1) {\n\t\t\t\t\t\t\ttype = 'debug';\n\t\t\t\t\t\t\temoticon = ':octocat:';\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (placeType.indexOf('success') > -1) {\n\t\t\t\t\t\t\ttype = 'success';\n\t\t\t\t\t\t\temoticon = ':white_check_mark:';\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\ttype = 'log';\n\t\t\t\t\t\t\temoticon = 'log';\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (placeType.indexOf('console') === -1) {\n\t\t\t\t\t\t\tconst timestamp = pi._tool.getPlugSettings().chatTimestamps;\n\t\t\t\t\t\t\tif (timestamp) {\n\t\t\t\t\t\t\t\ttime = new Date();\n\t\t\t\t\t\t\t\tlet h = time.getHours();\n\t\t\t\t\t\t\t\tlet m = time.getMinutes();\n\t\t\t\t\t\t\t\tm = m<10 ? '0'+m : m;\n\n\t\t\t\t\t\t\t\tif (timestamp == 12) {\n\t\t\t\t\t\t\t\t\tlet am;\n\n\t\t\t\t\t\t\t\t\tif (h >= 12) {\n\t\t\t\t\t\t\t\t\t\tam = 'pm';\n\t\t\t\t\t\t\t\t\t\th -= 12;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\telse am = 'am';\n\n\t\t\t\t\t\t\t\t\ttime = h+':'+m+am;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t\th = h<10 ? '0'+h : h; // Add a 0 to hours only if timestamp is 24\n\t\t\t\t\t\t\t\t\ttime = h+':'+m;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tvar $logBox = $(\n\t\t\t\t\t\t\t\t'<div class=\"cm pi-'+type+' message deletable\">'+\n\t\t\t\t\t\t\t\t\t'<div class=\"delete-button\" style=\"display: none;\">'+lang.glossary.delete+'</div>'+\n\t\t\t\t\t\t\t\t\t\t'<div class=\"badge-box\">'+\n\t\t\t\t\t\t\t\t\t\t\t'<i class=\"bdg bdg-piLogo\"></i>'+\n\t\t\t\t\t\t\t\t\t\t'</div>'+\n\t\t\t\t\t\t\t\t\t\t'<div class=\"msg\">'+\n\t\t\t\t\t\t\t\t\t\t\t'<div class=\"from Plug-It\">'+\n\t\t\t\t\t\t\t\t\t\t\t(emoticon === 'log' ? '<i class=\"icon icon-pi\"></i>' : emoji.replace_colons(emoticon))+\n\t\t\t\t\t\t\t\t\t\t\t'<span class=\"un\">[Plug-It]</span>'+\n\t\t\t\t\t\t\t\t\t\t\t'<span class=\"timestamp\" style=\"display: '+ (timestamp ? 'inline-block' : 'none') +';\">'+time+'</span>'+\n\t\t\t\t\t\t\t\t\t\t'</div>'+\n\t\t\t\t\t\t\t\t\t\t'<div class=\"text cid-undefined\">'+(Array.isArray(txt) ? txt.join('<br />') : txt.replace(/\\\\n|\\n/g, '<br />'))+'</div>'+\n\t\t\t\t\t\t\t\t\t'</div>'+\n\t\t\t\t\t\t\t\t'</div>'\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t// Delete button\n\t\t\t\t\t\t\t$logBox.on('mouseenter', function() {\n\t\t\t\t\t\t\t\t$logBox.find('.delete-button')[0].style.display = 'block';\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t$logBox.on('mouseleave', function() {\n\t\t\t\t\t\t\t\t$logBox.find('.delete-button')[0].style.display = 'none';\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t$logBox.find('.delete-button').on('click', function() {\n\t\t\t\t\t\t\t\t$logBox.remove();\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t// Make the chat scroll to custom log\n\t\t\t\t\t\t\tvar $chat = $('#chat-messages');\n\t\t\t\t\t\t\t// Only if chat is overflowing & already scrolled to bottom\n\t\t\t\t\t\t\tif ($chat.height() + $chat.scrollTop() == $chat[0].scrollHeight && $chat[0].scrollHeight > $chat.height()) {\n\t\t\t\t\t\t\t\tvar scrollIntoView = setInterval(function() {\n\t\t\t\t\t\t\t\t\tif ($($logBox).length > 0) {\n\t\t\t\t\t\t\t\t\t\t$chat.scrollTop($chat[0].scrollHeight);\n\t\t\t\t\t\t\t\t\t\tclearInterval(scrollIntoView);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}, 5);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t$('#chat-messages').append($logBox);\n\t\t\t\t\t\t\tif (typeof window.popout !== 'undefined') $('#chat-messages', popout.document).append($logBox);\n\n\t\t\t\t\t\t\tfunction autoHideLogs() {\n\t\t\t\t\t\t\t\tif (!document.hasFocus()) {\n\t\t\t\t\t\t\t\t\t// This acts like a $(window).one('focus');\n\t\t\t\t\t\t\t\t\twindow.onfocus = function() {\n\t\t\t\t\t\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t\t\t\t\t\t$($logBox).fadeOut(1000, 'linear', () => $($logBox).remove());\n\t\t\t\t\t\t\t\t\t\t}, settings.autoHideLogsAfter*1000);\n\t\t\t\t\t\t\t\t\t\twindow.onfocus = undefined;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t$($logBox).fadeOut(1000, 'linear', () => $($logBox).remove());\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (settings.autoHideLogs) {\n\t\t\t\t\t\t\t\tsetTimeout(autoHideLogs, settings.autoHideLogsAfter*1000);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// Prevents message from merging, awaiting a better solution..\n\t\t\t\t\t\t\tAPI.chatLog('Don\\'t pay attention to this message please.');\n\t\t\t\t\t\t\tif (typeof popout === 'undefined') {\n\t\t\t\t\t\t\t\tif ($('.cm.log:last').length) $('.cm.log:last')[0].remove();\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tif ($('.cm.log:last', popout.document).length) $('.cm.log:last', popout.document)[0].remove();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (placeType.indexOf('chat') === -1) {\n\t\t\t\t\t\t\tif (type === 'success') type = 'log'; // Success is not a console's method\n\t\t\t\t\t\t\tconsole[type]('%c[%cPlug-It%c]%c','color: #EEE','color: #ABDA55','color: #EEE','',txt);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// This allow the log to be edited theoricaly at any time\n\t\t\t\t\t\t// (unless autoHideLogs is enabled and/or the log has been deleted)\n\t\t\t\t\t\tif (placeType.indexOf('console') === -1) {\n\t\t\t\t\t\t\tlet methods = {\n\t\t\t\t\t\t\t\tdiv: $logBox,\n\t\t\t\t\t\t\t\ttext: $logBox.find('.text')[0].innerText,\n\t\t\t\t\t\t\t\tedit: function(txt) {\n\t\t\t\t\t\t\t\t\t$logBox.find('.text')[0].innerHTML = (Array.isArray(txt) ? txt.join('<br>') : txt.toString());\n\t\t\t\t\t\t\t\t\treturn this;\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tchangeType: function(newType) {\n\t\t\t\t\t\t\t\t\tif (newType === type) return methods;\n\t\t\t\t\t\t\t\t\t$logBox.toggleClass('pi-'+type + ' pi-'+newType);\n\t\t\t\t\t\t\t\t\tlet newNode, icon;\n\n\t\t\t\t\t\t\t\t\tswitch(newType) {\n\t\t\t\t\t\t\t\t\t\tcase 'log':\n\t\t\t\t\t\t\t\t\t\t\tnewNode = document.createElement('i');\n\t\t\t\t\t\t\t\t\t\t\tnewNode.className = 'icon icon-pi';\n\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\tcase 'info':\n\t\t\t\t\t\t\t\t\t\t\tnewNode = $.parseHTML(emoji.replace_colons(':information_source:'))[0];\n\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\tcase 'warn':\n\t\t\t\t\t\t\t\t\t\t\tnewNode = $.parseHTML(emoji.replace_colons(':warning:'))[0];\n\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\tcase 'error':\n\t\t\t\t\t\t\t\t\t\t\tnewNode = $.parseHTML(emoji.replace_colons(':exclamation:'))[0];\n\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\tcase 'debug':\n\t\t\t\t\t\t\t\t\t\t\tnewNode = $.parseHTML(emoji.replace_colons(':octocat:'))[0];\n\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\tcase 'success':\n\t\t\t\t\t\t\t\t\t\t\tnewNode = $.parseHTML(emoji.replace_colons(':white_check_mark:'))[0];\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\ticon = $logBox[0].children[2].children[0];\n\t\t\t\t\t\t\t\t\ticon.replaceChild(newNode,icon.firstChild);\n\n\t\t\t\t\t\t\t\t\ttype = newType; // important for multiple changes\n\t\t\t\t\t\t\t\t\treturn this;\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tremoveCallback: function() {\n\t\t\t\t\t\t\t\t\t$logBox.off('click');\n\t\t\t\t\t\t\t\t\t$logBox.css('cursor', '');\n\t\t\t\t\t\t\t\t\treturn this;\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tdelete: function() {\n\t\t\t\t\t\t\t\t\t$logBox.remove();\n\t\t\t\t\t\t\t\t\treturn this;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t// Callback\n\t\t\t\t\t\t\tif (typeof callback === 'function') {\n\t\t\t\t\t\t\t\t$logBox.css('cursor', 'pointer');\n\t\t\t\t\t\t\t\t$logBox.on('click', function(e) {\n\t\t\t\t\t\t\t\t\tcallback.call(methods, ...cbArgs);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn methods;\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tmodal: function(set, type, callback, data) {\n\t\t\t\t\t\tif (set) {\n\t\t\t\t\t\t\tvar $dialog;\n\n\t\t\t\t\t\t\tswitch(type) {\n\t\t\t\t\t\t\t\tcase 'custom-bg':\n\t\t\t\t\t\t\t\t\tconst defaultURL = $('.room-background').css('background-image').split('\"')[1];\n\t\t\t\t\t\t\t\t\t$dialog = $(\n\t\t\t\t\t\t\t\t\t\t'<div id=\"dialog-media-update\" class=\"dialog\" style=\"height: auto;\">'+\n\t\t\t\t\t\t\t\t\t\t\t'<div class=\"dialog-frame\">'+\n\t\t\t\t\t\t\t\t\t\t\t\t'<span class=\"title\">'+lang.modal.customBGTitle+'</span>'+\n\t\t\t\t\t\t\t\t\t\t\t\t'<i class=\"icon icon-dialog-close\"></i>'+\n\t\t\t\t\t\t\t\t\t\t\t'</div>'+\n\n\t\t\t\t\t\t\t\t\t\t\t'<div class=\"dialog-body\" style=\"height:300px;overflow-y:auto;\">'+\n\t\t\t\t\t\t\t\t\t\t\t\t'<div class=\"dialog-input-container\" style=\"position:relative;top:10px;\">'+\n\t\t\t\t\t\t\t\t\t\t\t\t\t'<span class=\"dialog-input-label\">URL</span>'+\n\t\t\t\t\t\t\t\t\t\t\t\t\t'<div class=\"dialog-input-background\">'+\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'<input name=\"url\" type=\"text\" placeholder=\".jpg .png .gif..\" value=\"'+(settings.customBGURL !== null ? settings.customBGURL : 'Custom background URL')+'\">'+\n\t\t\t\t\t\t\t\t\t\t\t\t\t'</div>'+\n\t\t\t\t\t\t\t\t\t\t\t\t\t'<p style=\"position:relative;top:55px;\">'+lang.modal.additionalBackgrounds+'</p>'+\n\t\t\t\t\t\t\t\t\t\t\t\t\t'<figure style=\"position:relative;top:65px;\">'+\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'<figcaption>Plug\\'s original backgrounds</figcaption>'+\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'<div class=\"thumbnail\" style=\"background: url('+defaultURL+') 0 0 / 150px 84px\" data-src=\"default\" alt=\"Plug\\'s background\"></div>'+\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'<div class=\"thumbnail\" style=\"background-position: -150px -84px\" data-src=\"https://dl.dropboxusercontent.com/s/x2m4e4go92ecwn5/2k13winter.jpg\" alt=\"Plug\\'s 2013 winter background\"></div>'+\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'<div class=\"thumbnail\" style=\"background-position: -300px -84px\" data-src=\"https://dl.dropboxusercontent.com/s/06aezou89twexfi/2k14hw.jpg\" alt=\"Plug\\'s 2014 halloween background\"></div>'+\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'<div class=\"thumbnail\" style=\"background-position: -450px -84px\" data-src=\"https://dl.dropboxusercontent.com/s/pru886rp6sfhguo/2k14minecraft.jpg\" alt=\"Plug\\'s 2014 Minecraft background\"></div>'+\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'<div class=\"thumbnail\" style=\"background-position: -600px -84px\" data-src=\"https://dl.dropboxusercontent.com/s/yzwlvq9uk4vgyps/2k14tc.jpg\" alt=\"Plug\\'s 2014 TastyCat background\"></div>'+\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'<div class=\"thumbnail\" style=\"background-position: -750px -84px\" data-src=\"https://dl.dropboxusercontent.com/s/dw1g3g87clubjor/2k14tiki.jpg\" alt=\"Plug\\'s 2014 Tiki background\"></div>'+\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'<div class=\"thumbnail\" style=\"background-position: 0 -168px\" data-src=\"https://dl.dropboxusercontent.com/s/n0vdz30m4edpvnm/2k14winter.jpg\" alt=\"Plug\\'s 2014 winter background\"></div>'+\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'<div class=\"thumbnail\" style=\"background-position: -150px -168px\" data-src=\"https://dl.dropboxusercontent.com/s/tt8385hnd61vu7t/2k15beach.jpg\" alt=\"Plug\\'s 2015 Beach background\"></div>'+\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'<div class=\"thumbnail\" style=\"background-position: -300px -168px\" data-src=\"https://dl.dropboxusercontent.com/s/tdiyz39fpepdamt/2k15diner.jpg\" alt=\"Plug\\'s 2015 Diner background\"></div>'+\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'<div class=\"thumbnail\" style=\"background-position: -450px -168px\" data-src=\"https://dl.dropboxusercontent.com/s/gdw01htqn3kb5ul/2k15island.jpg\" alt=\"Plug\\'s 2015 Island background\"></div>'+\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'<div class=\"thumbnail\" style=\"background-position: -600px -168px\" data-src=\"https://dl.dropboxusercontent.com/s/f05ranw1gjmrekj/2k15nyc.jpg\" alt=\"Plug\\'s 2015 New York City background\"></div>'+\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'<div class=\"thumbnail\" style=\"background-position: -750px -168px\" data-src=\"https://dl.dropboxusercontent.com/s/1e7isnah6dz8mks/2k15sea.jpg\" alt=\"Plug\\'s 2015 Sea background\"></div>'+\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'<div class=\"thumbnail\" style=\"background-position: 0 -252px\" data-src=\"https://dl.dropboxusercontent.com/s/godmbmvf7iso1hp/2k15tasty.jpg\" alt=\"Plug\\'s 2015 Tasty background\"></div>'+\n\t\t\t\t\t\t\t\t\t\t\t\t\t'</figure>'+\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t'<figure style=\"position:relative;top:65px;\">'+\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'<figcaption>'+lang.modal.otherChoices+'</figcaption>'+\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'<div class=\"thumbnail\" style=\"background-position: 0 0\" data-src=\"https://dl.dropboxusercontent.com/s/guglxeg29z8xdyc/Plug-It.jpg\" alt=\"Plug-It background\"></div>'+\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'<div class=\"thumbnail\" style=\"background-position: -150px 0\" data-src=\"https://dl.dropboxusercontent.com/s/okazf75swvx5n3r/Plug-It-old.jpg\" alt=\"Plug-It Old background\"></div>'+\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'<div class=\"thumbnail\" style=\"background-position: 0 -336px\" data-src=\"https://dl.dropboxusercontent.com/s/rs4yhqsmp557q46/2k14lounge.jpg\" alt=\"lounge background\"></div>'+\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'<div class=\"thumbnail\" style=\"background-position: -150px -336px\" data-src=\"https://dl.dropboxusercontent.com/s/rayu1kdzve55ynd/2k14worldonfire.jpg\" alt=\"WorldOnFire background\"></div>'+\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'<div class=\"thumbnail\" style=\"background-position: -300px -336px\" data-src=\"https://dl.dropboxusercontent.com/s/hwh25f5o39a4rft/2k15rtreesmusic.jpg\" alt=\"/r/trees background\"></div>'+\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'<div class=\"thumbnail\" style=\"background-position: -450px -336px\" data-src=\"https://dl.dropboxusercontent.com/s/rg7egwly5m41z5a/2k15thenation.jpg\" alt=\"The Nation background\"></div>'+\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'<div class=\"thumbnail\" style=\"background-position: -600px -336px\" data-src=\"https://dl.dropboxusercontent.com/s/3kg8riyabo08y9a/JGI5G7x.jpg\" alt=\"Unknown\"></div>'+\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'<div class=\"thumbnail\" style=\"background-position: -750px -336px\" data-src=\"https://dl.dropboxusercontent.com/s/gb3ogpqpg5mi15v/minecraft.jpg\" alt=\"Minecraft\"></div>'+\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'<div class=\"thumbnail\" style=\"background-position: 0 -420px\" data-src=\"https://dl.dropboxusercontent.com/s/nvc6xtx17oqlzlv/NYC-Custom.jpg\" alt=\"NYC - Custom\"></div>'+\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'<div class=\"thumbnail\" style=\"background-position: -150px -420px\" data-src=\"https://dl.dropboxusercontent.com/s/30zbmkdi31jtxtl/plugalpha.jpg\" alt=\"Plug Alpha\"></div>'+\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'<div class=\"thumbnail\" style=\"background-position: -300px -420px\" data-src=\"https://dl.dropboxusercontent.com/s/idchvsywitwvns5/plugalphaLounge.jpg\" alt=\"Plug Alpha Lounge\"></div>'+\n\t\t\t\t\t\t\t\t\t\t\t\t\t'</figure>'+\n\t\t\t\t\t\t\t\t\t\t\t\t\t'<p style=\"position:relative;top:70px;\">'+lang.modal.customBGDisclaimer+'</p>'+\n\t\t\t\t\t\t\t\t\t\t\t\t'</div>'+\n\t\t\t\t\t\t\t\t\t\t\t'</div>'+\n\n\t\t\t\t\t\t\t\t\t\t\t'<div class=\"dialog-frame\">'+\n\t\t\t\t\t\t\t\t\t\t\t\t'<div class=\"button cancel\"><span>'+lang.glossary.cancel+'</span></div>'+\n\t\t\t\t\t\t\t\t\t\t\t\t'<div class=\"button submit\"><span>'+lang.glossary.save+'</span></div>'+\n\t\t\t\t\t\t\t\t\t\t\t'</div>'+\n\t\t\t\t\t\t\t\t\t\t'</div>'\n\t\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t\t\t$dialog.on('mouseover', '.thumbnail', function(e) {\n\t\t\t\t\t\t\t\t\t\tlet x = $(this).offset().left + ($(this).width()/2);\n\t\t\t\t\t\t\t\t\t\tlet y = $(this).offset().top;\n\t\t\t\t\t\t\t\t\t\tpi._tool.tooltip(true, 'right', x,y, this.attributes.alt.value);\n\t\t\t\t\t\t\t\t\t\t$('#tooltip').css({transform: 'translate(-100%, -175%)'});\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t$dialog.on('mouseleave', '.thumbnail', function(e) {pi._tool.tooltip();});\n\t\t\t\t\t\t\t\t\t$dialog.on('click', '.thumbnail', function(e) {\n\t\t\t\t\t\t\t\t\t\tif (e.target.dataset.src === 'default') pi.changeBG(true);\n\t\t\t\t\t\t\t\t\t\telse pi.changeBG(false, e.target.dataset.src);\n\n\t\t\t\t\t\t\t\t\t\tpi._tool.tooltip(false);\n\t\t\t\t\t\t\t\t\t\tpi._tool.modal(false);\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\tcase 'confirmDelete':\n\t\t\t\t\t\t\t\t\t$dialog = $(\n\t\t\t\t\t\t\t\t\t\t'<div id=\"dialog-media\" class=\"dialog\">'+\n\t\t\t\t\t\t\t\t\t\t\t'<div class=\"dialog-frame\">'+\n\t\t\t\t\t\t\t\t\t\t\t\t'<span class=\"title\">'+lang.modal.confirmDeleteTitle+'</span>'+\n\t\t\t\t\t\t\t\t\t\t\t\t'<i class=\"icon icon-dialog-close\"></i>'+\n\t\t\t\t\t\t\t\t\t\t\t'</div>'+\n\n\t\t\t\t\t\t\t\t\t\t\t'<div class=\"dialog-body\">'+\n\t\t\t\t\t\t\t\t\t\t\t\t'<p>'+\n\t\t\t\t\t\t\t\t\t\t\t\t\tdata.un + ': ' + data.message +\n\t\t\t\t\t\t\t\t\t\t\t\t'</p>'+\n\t\t\t\t\t\t\t\t\t\t\t'</div>'+\n\n\t\t\t\t\t\t\t\t\t\t\t'<div class=\"dialog-frame\">'+\n\t\t\t\t\t\t\t\t\t\t\t\t'<div class=\"button cancel\"><span>'+lang.glossary.cancel+'</span></div>'+\n\t\t\t\t\t\t\t\t\t\t\t\t'<div class=\"button submit\"><span>'+lang.glossary.delete+'</span></div>'+\n\t\t\t\t\t\t\t\t\t\t\t'</div>'+\n\t\t\t\t\t\t\t\t\t\t'</div>'\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\t\treturn pi._tool.log('Invalid dialog type.', 'console error');\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tfunction submit() {\n\t\t\t\t\t\t\t\tif (type === 'custom-bg')\n\t\t\t\t\t\t\t\t\tpi.changeBG(false, $dialog.find('input[name=\"url\"]')[0].value);\n\n\t\t\t\t\t\t\t\tif (typeof callback === 'function')\n\t\t\t\t\t\t\t\t\tcallback();\n\n\t\t\t\t\t\t\t\tpi._tool.tooltip(false);\n\t\t\t\t\t\t\t\tpi._tool.modal(false);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tfunction cancel() {\n\t\t\t\t\t\t\t\tpi._tool.tooltip(false);\n\t\t\t\t\t\t\t\tpi._tool.modal(false);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t$dialog.on('click', '.dialog-frame i, .button.cancel', () => {cancel();});\n\t\t\t\t\t\t\t$('#dialog-container').on('click', (e) => {\n\t\t\t\t\t\t\t\tif (e.target.id !== \"dialog-container\") return;\n\t\t\t\t\t\t\t\tcancel();\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t$dialog.on('click', '.button.submit', () => {submit();});\n\t\t\t\t\t\t\t$dialog.on('submit', 'input[name=\"url\"]', () => {submit();});\n\n\t\t\t\t\t\t\t$('#dialog-container').append($dialog);\n\t\t\t\t\t\t\t$('#dialog-container').show();\n\t\t\t\t\t\t} else if (!set) {\n\t\t\t\t\t\t\t$('#dialog-container').hide();\n\t\t\t\t\t\t\t$('#dialog-container').html('');\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tnotify: function(title, content, events) {\n\t\t\t\t\t\tvar options = {\n\t\t\t\t\t\t\tbody: content,\n\t\t\t\t\t\t\ticon: \"https://raw.githubusercontent.com/Plug-It/pi/pre-release/img/other/icon-54-hover.png\"\n\t\t\t\t\t\t};\n\t\t\t\t\t\tvar n = new Notification(title,options);\n\t\t\t\t\t\tfor (var type in events) {\n\t\t\t\t\t\t\tn[type] = events[type];\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t// Courtesy of ReAnna https://github.com/extplug/ExtPlug/blob/master/src/plugins/SocketEventsPlugin.js\n\t\t\t\t\tplugSocketHook: {\n\t\t\t\t\t\tinit: function() {\n\t\t\t\t\t\t\tlet that = this;\n\t\t\t\t\t\t\tthis.socket = getSocket();\n\n\t\t\t\t\t\t\tif (this.socket) {\n\t\t\t\t\t\t\t\tthis.onConnect();\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// make sure we still get an instance if the server reconnects, or\n\t\t\t\t\t\t\t// if ExtPlug loads before plug.dj connects, by overriding the WebSocket\n\t\t\t\t\t\t\t// constructor\n\t\t\t\t\t\t\tconst WS = WebSocket;\n\t\t\t\t\t\t\twindow.WebSocket = function WebSocketIntercept(arg) {\n\t\t\t\t\t\t\t\tconst ws = new WS(arg);\n\t\t\t\t\t\t\t\t// wait for plug.dj to add handlers\n\t\t\t\t\t\t\t\t_.defer(() => {\n\t\t\t\t\t\t\t\t\t// find the socket object again, this new connection might be\n\t\t\t\t\t\t\t\t\t// instantiated by a plugin or another extension, and that should not\n\t\t\t\t\t\t\t\t\t// be intercepted\n\t\t\t\t\t\t\t\t\tthat.socket = getSocket();\n\t\t\t\t\t\t\t\t\tthat.onConnect();\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\treturn ws;\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tWebSocket.prototype = WS.prototype;\n\n\t\t\t\t\t\t\tthis.WS = WS;\n\t\t\t\t\t\t},\n\t\t\t\t\t\tkill: function() {\n\t\t\t\t\t\t\tif (this.WS) window.WebSocket = this.WS;\n\t\t\t\t\t\t\tif (this.advice) this.advice.remove();\n\n\t\t\t\t\t\t\tthis.WS = null;\n\t\t\t\t\t\t\tthis.advice = null;\n\t\t\t\t\t\t\tthis.socket = null;\n\t\t\t\t\t\t},\n\t\t\t\t\t\tonConnect: function() {\n\t\t\t\t\t\t\tif (this.advice) this.advice.remove();\n\n\t\t\t\t\t\t\tthis.advice = meldBefore(this.socket, 'onmessage', (e) => {\n\n\t\t\t\t\t\t\t\tif (e.data !== 'h') {\n\t\t\t\t\t\t\t\t\tJSON.parse(e.data).forEach((message) => {\n\t\t\t\t\t\t\t\t\t\t// pi._tool.log(message, 'console info');\n\n\t\t\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\t\t\tswitch (message.a) {\n\t\t\t\t\t\t\t\t\t\t\t\tcase 'chat':\n\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\t\t\tcase 'chatDelete':\n\t\t\t\t\t\t\t\t\t\t\t\t\tpi._modulesEvent.chatDelete(message);\n\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\t\t\tcase 'earn':\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (settings.gainNotification) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlet PPEarned = message.p.pp - API.getUser().pp;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlet XPEarned = message.p.xp - API.getUser().xp;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tAPI.trigger(API.EARN, {pp:PPEarned, xp:XPEarned});\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\t\t\tcase 'floodAPI':\n\t\t\t\t\t\t\t\t\t\t\t\t\tAPI.enabled = false;\n\t\t\t\t\t\t\t\t\t\t\t\t\tsession.floodAPI = true;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t// Not really an error but I want it to show a red message\n\t\t\t\t\t\t\t\t\t\t\t\t\tvar log = pi._tool.log(lang.error.APIFloodDetected, 'error');\n\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tAPI.enabled = true;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsession.floodAPI = false;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlog.edit('API reactivated').changeType('info');\n\t\t\t\t\t\t\t\t\t\t\t\t\t}, 10*1000);\n\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\t\t\tcase 'modMute':\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (message.p.d === 'o' && API.hasPermission(null, API.ROLE.BOUNCER)) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tpi._tool.log(`${message.p.t} has been unmuted by ${message.p.m}.`, 'chat info');\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\t\t\tcase 'modStaff':\n\t\t\t\t\t\t\t\t\t\t\t\t\tmessage.p.u.forEach((e,i,a) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlet self = API.getUser(); // Unefficient, should cache user somewhere...\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (e.i === self.id) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// From anything to rDJ or Grey\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (e.p <= 1 && self.role > e.p) modToolbar.kill();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// From Grey or rDJ to anything above\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\telse if (e.p >= 2 && self.role < e.p) modToolbar.init(true);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// Fix for custom ranks & plug not removing the staff icon:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// Plug only hides the icon but the css still shows the username color\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (e.p === 0) $('#footer-user .info .name i')[0].className = 'icon';\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\t\t\tcase 'userJoin':\n\t\t\t\t\t\t\t\t\t\t\t\tcase 'userLeave':\n\t\t\t\t\t\t\t\t\t\t\t\t\tif ((message.p.guest || message.p === 0) && (settings.guestJoin || settings.guestLeave)) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (message.a === 'userJoin' && settings.guestJoin)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tAPI.trigger(API.GUEST_JOIN, modules.room.get('guests')+1);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\telse if (message.a === 'userLeave' && settings.guestLeave)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tAPI.trigger(API.GUEST_LEAVE, modules.room.get('guests')-1);\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\t\t\tcase 'userUpdate':\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (settings.userLevelUp && message.p.level) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tpi._tool.log(`User leveled up: ${API.getUser(message.p.i).username} to level ${message.p.level} !`, 'info');\n\t\t\t\t\t\t\t\t\t\t\t\t\t} else if (message.p.badge || message.p.avatarID) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// do not log it\n\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tconsole.log(message);\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\t\t\tcase 'roomWelcomeUpdate':\n\t\t\t\t\t\t\t\t\t\t\t\t\tpi._tool.log(`${API.getUser(message.p.u).username} edited the room's welcome message to:\\n${message.p.w}`, 'console info');\n\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\t\t\tcase 'roomDescriptionUpdate':\n\t\t\t\t\t\t\t\t\t\t\t\t\tpi._tool.log(`${API.getUser(message.p.u).username} edited the room's description to:\\n${message.p.d}`, 'console info');\n\t\t\t\t\t\t\t\t\t\t\t\t\troomSettings = {};\n\t\t\t\t\t\t\t\t\t\t\t\t\tpi._tool.getRoomSettings();\n\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\t\t\t// Unused events\n\t\t\t\t\t\t\t\t\t\t\t\tcase 'advance':\n\t\t\t\t\t\t\t\t\t\t\t\tcase 'djListCycle':\n\t\t\t\t\t\t\t\t\t\t\t\tcase 'djListUpdate':\n\t\t\t\t\t\t\t\t\t\t\t\tcase 'grab':\n\t\t\t\t\t\t\t\t\t\t\t\tcase 'playlistCycle':\n\t\t\t\t\t\t\t\t\t\t\t\tcase 'plugMessage':\n\t\t\t\t\t\t\t\t\t\t\t\tcase 'vote':\n\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\t\t\t\t\t\tpi._tool.log(message, 'console info');\n\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\t\t\t\t\tpi._tool.log(['error while parsing socket message',e], 'console error');\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\tif (message.a !== 'chatDelete')\n\t\t\t\t\t\t\t\t\t\t\tmodules.context.trigger(`socket:${message.a}`, message.p);\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t// Thanks Burkes for this (slightly modified)\n\t\t\t\t\treplaceString: function(string, object) {\n\t\t\t\t\t\tif (typeof string !== 'string' || typeof object !== 'object') return string;\n\n\t\t\t\t\t\tfor (var key in object) {\n\t\t\t\t\t\t\tstring = string.split('%%'+key.toUpperCase()+'%%').join(object[key]);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn string;\n\t\t\t\t\t},\n\t\t\t\t\tsaveSettings: function() {\n\t\t\t\t\t\tlocalStorage.setItem('pi-settings', JSON.stringify(settings));\n\t\t\t\t\t},\n\t\t\t\t\tsetPlugSettings: function(option, value) {\n\t\t\t\t\t\t// Only make ajax call if option is whitelisted\n\t\t\t\t\t\tvar whiteList = ['videoOnly','chatTimestamps','emoji','tooltips','chatImages','notifyDJ','notifyScore','notifyFriendJoin','nsfw','friendAvatarsOnly'];\n\t\t\t\t\t\tfor (var i = 0; i < whiteList.length; i++) {\n\t\t\t\t\t\t\tif (option == whiteList[i] && !session.floodAPI) {\n\t\t\t\t\t\t\t\tvar data = {};\n\t\t\t\t\t\t\t\tdata[option] = value;\n\t\t\t\t\t\t\t\t$.ajax({\n\t\t\t\t\t\t\t\t\ttype: 'PUT',\n\t\t\t\t\t\t\t\t\turl: '/_/users/settings',\n\t\t\t\t\t\t\t\t\tdata: JSON.stringify(data),\n\t\t\t\t\t\t\t\t\terror: function(e) {\n\t\t\t\t\t\t\t\t\t\tpi._tool.log(e.responseJSON.data[0], 'error console');\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tdataType: 'json',\n\t\t\t\t\t\t\t\t\tcontentType: 'application/json'\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar json = JSON.parse(localStorage.getItem('settings'));\n\t\t\t\t\t\tvar id = API.getUser().id;\n\t\t\t\t\t\tfor (var i = 1; i < 5; i++) {\n\t\t\t\t\t\t\tif (typeof json[i] !== 'undefined') {\n\t\t\t\t\t\t\t\tif (typeof json[i][id] !== 'undefined') {\n\t\t\t\t\t\t\t\t\tfor (var obj in json[i][id]) {\n\t\t\t\t\t\t\t\t\t\tif (obj == option) json[i][id][obj] = value;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tlocalStorage.setItem('settings', JSON.stringify(json));\n\t\t\t\t\t},\n\t\t\t\t\tshowGiftDialog(id, username, amount) {\n\t\t\t\t\t\tmodules.context.dispatch(new modules.ShowDialogEvent(modules.ShowDialogEvent.SHOW, new modules.GiftSendDialog({\n\t\t\t\t\t\t\tmodel: new modules.User({id: id, username: username})\n\t\t\t\t\t\t})));\n\t\t\t\t\t\t$('#dialog-gift-send .amount input')[0].value = amount;\n\t\t\t\t\t},\n\t\t\t\t\tshowVotes: function(set, type, votes) {\n\t\t\t\t\t\tif (set) {\n\t\t\t\t\t\t\t// reset\n\t\t\t\t\t\t\tif ($('#pi-votes').length) pi._tool.showVotes(false);\n\t\t\t\t\t\t\tvar list = '';\n\n\t\t\t\t\t\t\tif (votes.length !== 0) {\n\t\t\t\t\t\t\t\tfor (var i = 0; i < votes.length; i++) {\n\t\t\t\t\t\t\t\t\tlist += '<li>'+votes[i].rawun+'</li>\\n';\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tvar $votes = $(\n\t\t\t\t\t\t\t\t'<div id=\"pi-votes\" class=\"'+type+'\">'+\n\t\t\t\t\t\t\t\t\t'<div id=\"header\">'+$('#'+type+' .label')[0].innerText.replace('!','')+'s</div>'+\n\t\t\t\t\t\t\t\t\t'<ul>'+list+'</ul>'+\n\t\t\t\t\t\t\t\t'</div>'\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t$votes.on('mouseleave', function() {this.remove();});\n\t\t\t\t\t\t\t$('#vote').append($votes);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tvar piVotes = $('#pi-votes');\n\t\t\t\t\t\t\twhile (piVotes.length) {\n\t\t\t\t\t\t\t\tpiVotes.remove();\n\t\t\t\t\t\t\t\tpiVotes = $('#pi-votes');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\ttooltip: function(set, type, x,y, txt) {\n\t\t\t\t\t\tif (!pi._tool.getPlugSettings().tooltips) return;\n\t\t\t\t\t\tif (set) {\n\t\t\t\t\t\t\tif ($('#tooltip').length) $('#tooltip').remove();;\n\t\t\t\t\t\t\tvar $tooltip = $(\n\t\t\t\t\t\t\t\t'<div id=\"tooltip\" class=\"'+type+'\" style=\"top: '+y+'px; left: '+x+'px;\">'+\n\t\t\t\t\t\t\t\t\t'<span>'+txt+'</span>'+\n\t\t\t\t\t\t\t\t\t'<div class=\"corner\"></div>'+\n\t\t\t\t\t\t\t\t'</div>'\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t$('body').append($tooltip);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t// Trickery in case they could be multiple #tooltip to remove all of them\n\t\t\t\t\t\t\t// Jquery only getting one per ID, select with attribute..\n\t\t\t\t\t\t\t$('[id=\"tooltip\"]').remove();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tafk: function(msg) {\n\t\t\t\t\tif (typeof originalPlaceholder == 'undefined') window.originalPlaceholder = $(\"#chat-input-field\")[0].placeholder;\n\n\t\t\t\t\tif (settings.afk) {\n\t\t\t\t\t\t$(\"#chat-input-field\")[0].disabled = true;\n\t\t\t\t\t\t$(\"#chat-input-field\")[0].placeholder = lang.userchat.inputDisabled;\n\t\t\t\t\t\tpi.dom.afkResponder.className = 'pi-on';\n\t\t\t\t\t\t$('#pi-afk .pi-afk').removeClass('off');\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$(\"#chat-input-field\")[0].disabled = false;\n\t\t\t\t\t\t$(\"#chat-input-field\")[0].placeholder = originalPlaceholder;\n\t\t\t\t\t\tpi.dom.afkResponder.className = 'pi-off';\n\t\t\t\t\t\t$('#pi-afk .pi-afk').addClass('off');\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tautojoin: function() {\n\t\t\t\t\tvar dj = API.getDJ();\n\n\t\t\t\t\tif (settings.autoDJ && pi._tool.getRoomRules('allowAutojoin')) {\n\t\t\t\t\t\tif (typeof dj !== 'undefined') {\n\t\t\t\t\t\t\tif (dj.id !== API.getUser().id && API.getWaitListPosition() === -1) {\n\t\t\t\t\t\t\t\tswitch (API.djJoin()) {\n\t\t\t\t\t\t\t\t\tcase 1:\n\t\t\t\t\t\t\t\t\t\tpi._tool.log(lang.error.autoJoin1, 'error chat');\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\tcase 2:\n\t\t\t\t\t\t\t\t\t\tpi._tool.log(lang.error.autoJoin2, 'error chat');\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\tcase 3:\n\t\t\t\t\t\t\t\t\t\tpi._tool.log(lang.error.autoJoin3, 'error chat');\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tAPI.djJoin();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tautowoot: function() {\n\t\t\t\t\tif (settings.autoW && !$('#meh').is('.selected')) {\n\t\t\t\t\t\tif (pi._tool.getRoomRules('allowAutowoot')) $('#woot')[0].click();\n\t\t\t\t\t\t// set up a sessionStorage to show this message only once\n\t\t\t\t\t\t// else pi._tool.log('This room does not allow you to autowoot.');\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tbetterClearChat: function(x) {\n\t\t\t\t\tlet messages = $('#chat-messages > div').toArray();\n\n\t\t\t\t\tif (x < messages.length) {\n\t\t\t\t\t\t// jQuery.each() does not passes the array\n\t\t\t\t\t\tmessages.forEach(function(e,i,a) {\n\t\t\t\t\t\t\tif (i + x < a.length) $(e).remove();\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tchangeBG: function(isDefault, src) {\n\t\t\t\t\tif (isDefault) {\n\t\t\t\t\t\t$('.room-background').show();\n\t\t\t\t\t\t$('#pi-background').hide();\n\n\t\t\t\t\t\tif ($('i.torch').length) {\n\t\t\t\t\t\t\t$('i.torch').show();\n\t\t\t\t\t\t\t$('i.torch.right').show();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tsettings.customBG = false;\n\t\t\t\t\t\tpi.dom.bg.className = 'pi-off';\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (typeof src === 'undefined' && !settings.customBGURL.length) {\n\t\t\t\t\t\t\tsrc = url.images.background;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tsrc = (typeof src === 'string' ? src : url.images.background);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t$('.room-background').hide();\n\t\t\t\t\t\t$('#pi-background').show();\n\t\t\t\t\t\t$('#pi-background').css('background', 'url('+src+') no-repeat');\n\n\t\t\t\t\t\tif ($('i.torch').length) {\n\t\t\t\t\t\t\t$('i.torch').hide();\n\t\t\t\t\t\t\t$('i.torch.right').hide();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tsettings.customBG = true;\n\t\t\t\t\t\tsettings.customBGURL = src;\n\t\t\t\t\t\tpi.dom.bg.className = 'pi-on';\n\t\t\t\t\t}\n\n\t\t\t\t\tpi._tool.saveSettings();\n\t\t\t\t},\n\t\t\t\teta: function(log) {\n\t\t\t\t\tlet eta;\n\n\t\t\t\t\tif (API.getUser().id == API.getDJ().id) {\n\t\t\t\t\t\tif (log) pi._tool.log(lang.info.youPlay, 'info chat');\n\t\t\t\t\t\treturn null;\n\t\t\t\t\t} else if (API.getWaitListPosition() == -1) {\n\t\t\t\t\t\tif (log) pi._tool.log(lang.info.notInWaitList, 'info chat');\n\t\t\t\t\t\treturn null;\n\t\t\t\t\t} else if (API.getWaitListPosition() == 0) {\n\t\t\t\t\t\teta = API.getTimeRemaining();\n\t\t\t\t\t\tif (eta >= 3600) {\n\t\t\t\t\t\t\tvar etaH = Math.floor(eta/60);\n\t\t\t\t\t\t\tvar etaM = eta%60;\n\t\t\t\t\t\t\teta = etaH+'h'+etaM+'m';\n\t\t\t\t\t\t} else if (eta >= 60) {\n\t\t\t\t\t\t\tvar etaM = Math.floor(eta/60);\n\t\t\t\t\t\t\tvar etaS = eta%60;\n\t\t\t\t\t\t\tetasS = (etaS < 10 ? '0'+etaS : etaS);\n\t\t\t\t\t\t\teta = etaM+'m'+etaS+'s';\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\teta = eta+'s';\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\teta = (API.getWaitListPosition())*4*60;\n\t\t\t\t\t\teta += API.getTimeRemaining();\n\t\t\t\t\t\tif (eta >= 3600) {\n\t\t\t\t\t\t\tvar etaH = Math.floor(eta/60/60);\n\t\t\t\t\t\t\tvar etaM = eta%60;\n\t\t\t\t\t\t\teta = etaH+'h'+etaM+'m';\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tvar etaM = Math.floor(eta/60);\n\t\t\t\t\t\t\tvar etaS = eta%60;\n\t\t\t\t\t\t\teta = etaM+'m'+etaS+'s';\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (log) {\n\t\t\t\t\t\tpi._tool.log(\n\t\t\t\t\t\t\tpi._tool.replaceString(\n\t\t\t\t\t\t\t\tlang.log.eta,\n\t\t\t\t\t\t\t\t{time: eta}\n\t\t\t\t\t\t\t), 'info chat'\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t\treturn eta;\n\t\t\t\t},\n\t\t\t\tforceSkip: function() {\n\t\t\t\t\tif (sessionStorage.getItem('modSkipWarn') == 'false') {\n\t\t\t\t\t\tsessionStorage.setItem('modSkipWarn', 'true');\n\t\t\t\t\t\tpi._tool.log(lang.warn.confirmSkip, 'warn chat');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsessionStorage.setItem('modSkipWarn', 'false');\n\t\t\t\t\t\tAPI.moderateForceSkip();\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\thideStream: function() {\n\t\t\t\t\tif (settings.showVideo) {\n\t\t\t\t\t\tif (pi._tool.getPlugSettings().videoOnly) {\n\t\t\t\t\t\t\tpi.dom.playback.style.height = window.innerHeight - 185+'px';\n\t\t\t\t\t\t\t$(pi.dom.stream).css({visibility:'visible', height:'100%'});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tpi.dom.playback.style.height = '271px';\n\t\t\t\t\t\t\t$(pi.dom.stream).css({visibility:'visible', height:'281px'});\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (API.hasPermission(null,API.ROLE.BOUNCER)) {\n\t\t\t\t\t\t\t$([pi.dom.rmvDJ, pi.dom.skip]).css('top', '281px');\n\t\t\t\t\t\t}\n\t\t\t\t\t\t$('#playback-controls, #no-dj').css('visibility', 'visible');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tpi.dom.playback.style.height = '0px';\n\t\t\t\t\t\t$(pi.dom.stream).css({visibility:'hidden', height:'0'});\n\t\t\t\t\t\tif (API.hasPermission(null,API.ROLE.BOUNCER)) {\n\t\t\t\t\t\t\t$([pi.dom.rmvDJ, pi.dom.skip]).css('top', '0');\n\t\t\t\t\t\t}\n\t\t\t\t\t\t$('#playback-controls, #no-dj').css('visibility', 'hidden');\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tmenu: function(choice) {\n\t\t\t\t\tswitch(choice) {\n\t\t\t\t\t\tcase 'woot':\n\t\t\t\t\t\t\tsettings.autoW = !settings.autoW;\n\t\t\t\t\t\t\tpi.dom.woot.className = settings.autoW ? 'pi-on' : 'pi-off';\n\t\t\t\t\t\t\tpi.autowoot();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'join':\n\t\t\t\t\t\t\tsettings.autoDJ = !settings.autoDJ;\n\t\t\t\t\t\t\tpi.dom.join.className = settings.autoDJ ? 'pi-on' : 'pi-off';\n\t\t\t\t\t\t\tpi.autojoin();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'keyShortcut':\n\t\t\t\t\t\t\tsettings.keyboardShortcuts = !settings.keyboardShortcuts;\n\t\t\t\t\t\t\tpi.dom.keyShortcut.className = settings.keyboardShortcuts ? 'pi-on' : 'pi-off';\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'chatCommands':\n\t\t\t\t\t\t\tsettings.chatCommands = !settings.chatCommands;\n\t\t\t\t\t\t\tpi.dom.chatCommands.className = settings.chatCommands ? 'pi-on' : 'pi-off';\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'autoHideLogs':\n\t\t\t\t\t\t\tsettings.autoHideLogs = !settings.autoHideLogs;\n\t\t\t\t\t\t\tpi.dom.autoHideLogs.className = settings.autoHideLogs ? 'pi-on' : 'pi-off';\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'mutemeh':\n\t\t\t\t\t\t\tsettings.betterMeh = !settings.betterMeh;\n\t\t\t\t\t\t\tpi.dom.betterMeh.className =settings.betterMeh ? 'pi-on' : 'pi-off';\n\t\t\t\t\t\t\tpi.muteMeh();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'afkResponder':\n\t\t\t\t\t\t\tsettings.afk = !settings.afk;\n\t\t\t\t\t\t\tpi.afk();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'navWarn':\n\t\t\t\t\t\t\tsettings.navWarn = !settings.navWarn;\n\t\t\t\t\t\t\tpi.dom.navWarn.className = settings.navWarn ? 'pi-on' : 'pi-off';\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'showVotes':\n\t\t\t\t\t\t\tsettings.showVotes = !settings.showVotes;\n\t\t\t\t\t\t\tpi.dom.showVotes.className = settings.showVotes ? 'pi-on' : 'pi-off';\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'skipNextMediaInHistory':\n\t\t\t\t\t\t\tsettings.skipNextMediaInHistory = !settings.skipNextMediaInHistory;\n\t\t\t\t\t\t\tpi.dom.skipNextMediaInHistory.className = settings.skipNextMediaInHistory ? 'pi-on' : 'pi-off';\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'video':\n\t\t\t\t\t\t\tsettings.showVideo = !settings.showVideo;\n\t\t\t\t\t\t\tpi.dom.video.className = settings.showVideo ? 'pi-off' : 'pi-on';\n\t\t\t\t\t\t\tpi.hideStream();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'soundcloudVisu':\n\t\t\t\t\t\t\tsettings.scVisu = !settings.scVisu;\n\t\t\t\t\t\t\tpi.dom.soundcloudVisu.className = settings.scVisu ? 'pi-on' : 'pi-off';\n\t\t\t\t\t\t\tpi.soundcloudVisu();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'room-style':\n\t\t\t\t\t\t\tsettings.roomStyle = !settings.roomStyle;\n\t\t\t\t\t\t\tpi.dom.roomStyle.className = settings.roomStyle ? 'pi-on' : 'pi-off';\n\t\t\t\t\t\t\tpi.toggleStyle('roomStyle');\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'css':\n\t\t\t\t\t\t\tsettings.CSS = !settings.CSS;\n\t\t\t\t\t\t\tpi.dom.css.className = settings.CSS ? 'pi-on' : 'pi-off';\n\t\t\t\t\t\t\tpi.toggleStyle('customStyle');\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'customRanks':\n\t\t\t\t\t\t\tsettings.customRanks = !settings.customRanks;\n\t\t\t\t\t\t\tpi.dom.customRanks.className = settings.customRanks ? 'pi-on' : 'pi-off';\n\t\t\t\t\t\t\tpi.toggleStyle('customRanks');\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'languageFlags':\n\t\t\t\t\t\t\tsettings.languageFlags = !settings.languageFlags;\n\t\t\t\t\t\t\tpi.dom.languageFlags.className = settings.languageFlags ? 'pi-on' : 'pi-off';\n\t\t\t\t\t\t\tsettings.languageFlags ? $('.un ~ .pi-languageFlags').show() : $('.un ~ .pi-languageFlags').hide();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'friendsIcons':\n\t\t\t\t\t\t\tsettings.friendsIcons = !settings.friendsIcons;\n\t\t\t\t\t\t\tpi.dom.friendsIcons.className = settings.friendsIcons ? 'pi-on' : 'pi-off';\n\t\t\t\t\t\t\tsettings.friendsIcons ? $('.un ~ .pi-friendsIcons').show() : $('.un ~ .pi-friendsIcons').hide();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'bg':\n\t\t\t\t\t\t\tpi._tool.modal(true, 'custom-bg');\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'old-chat':\n\t\t\t\t\t\t\tsettings.oldChat = !settings.oldChat;\n\t\t\t\t\t\t\tpi.dom.oldChat.className = settings.oldChat ? 'pi-on' : 'pi-off';\n\t\t\t\t\t\t\tpi.toggleStyle('oldChat');\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'old-footer':\n\t\t\t\t\t\t\tsettings.oldFooter = !settings.oldFooter;\n\t\t\t\t\t\t\tpi.dom.oldFooter.className = settings.oldFooter ? 'pi-on' : 'pi-off';\n\t\t\t\t\t\t\tpi.toggleStyle('oldFooter');\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'small-history':\n\t\t\t\t\t\t\tsettings.smallHistory = !settings.smallHistory;\n\t\t\t\t\t\t\tpi.dom.smallHistory.className = settings.smallHistory ? 'pi-on' : 'pi-off';\n\t\t\t\t\t\t\tpi.toggleStyle('smallHistory');\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'small-friends':\n\t\t\t\t\t\t\tsettings.smallFriends = !settings.smallFriends;\n\t\t\t\t\t\t\tpi.dom.smallFriends.className = settings.smallFriends ? 'pi-on' : 'pi-off';\n\t\t\t\t\t\t\tpi.toggleStyle('smallFriends');\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'small-playlists':\n\t\t\t\t\t\t\tsettings.smallPlaylists = !settings.smallPlaylists;\n\t\t\t\t\t\t\tpi.dom.smallPlaylists.className = settings.smallPlaylists ? 'pi-on' : 'pi-off';\n\t\t\t\t\t\t\tpi.toggleStyle('smallPlaylists');\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'showDeletedMsg':\n\t\t\t\t\t\t\tsettings.showDeletedMsg = !settings.showDeletedMsg;\n\t\t\t\t\t\t\tpi.dom.showDeletedMsg.className = settings.showDeletedMsg ? 'pi-on' : 'pi-off';\n\t\t\t\t\t\t\tif (settings.showDeletedMsg) $('.cm.deleted').show();\n\t\t\t\t\t\t\telse $('.cm.deleted').hide();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'confirmDelete':\n\t\t\t\t\t\t\tsettings.confirmDelete = !settings.confirmDelete;\n\t\t\t\t\t\t\tpi.dom.confirmDelete.className = settings.confirmDelete ? 'pi-on' : 'pi-off';\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'userInfo':\n\t\t\t\t\t\t\tsettings.userInfo = !settings.userInfo;\n\t\t\t\t\t\t\tpi.dom.userInfo.className = settings.userInfo ? 'pi-on' : 'pi-off';\n\t\t\t\t\t\t\tsettings.userInfo ? $('.un ~ .userInfo').show() : $('.un ~ .userInfo').hide();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'stuckSkip':\n\t\t\t\t\t\t\tsettings.stuckSkip = !settings.stuckSkip;\n\t\t\t\t\t\t\tpi.dom.stuckSkip.className = settings.stuckSkip ? 'pi-on' : 'pi-off';\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'lengthA':\n\t\t\t\t\t\t\tsettings.songLimit = !settings.songLimit;\n\t\t\t\t\t\t\tpi.dom.lengthA.className = settings.songLimit ? 'pi-on' : 'pi-off';\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'historyA':\n\t\t\t\t\t\t\tsettings.historyAlert = !settings.historyAlert;\n\t\t\t\t\t\t\tpi.dom.historyAlert.className = settings.historyAlert ? 'pi-on' : 'pi-off';\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'systemNotifications':\n\t\t\t\t\t\t\tsettings.systemNotifications = !settings.systemNotifications;\n\t\t\t\t\t\t\tpi.dom.systemNotifications.className = settings.systemNotifications ? 'pi-on' : 'pi-off';\n\t\t\t\t\t\t\tif (settings.systemNotifications && Notification.permission == 'default') {\n\t\t\t\t\t\t\t\tNotification.requestPermission(function(status){\n\t\t\t\t\t\t\t\t\tif (Notification.permission !== status) Notification.permission = status;\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'songStats':\n\t\t\t\t\t\t\tsettings.songStats = !settings.songStats;\n\t\t\t\t\t\t\tpi.dom.songStats.className = settings.songStats ? 'pi-on' : 'pi-off';\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'boothAlert':\n\t\t\t\t\t\t\tsettings.boothAlert = !settings.boothAlert;\n\t\t\t\t\t\t\tpi.dom.boothAlert.className = settings.boothAlert ? 'pi-on' : 'pi-off';\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'userJoin':\n\t\t\t\t\t\t\tsettings.userJoin = !settings.userJoin;\n\t\t\t\t\t\t\tpi.dom.userJoin.className = settings.userJoin ? 'pi-on' : 'pi-off';\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'userLeave':\n\t\t\t\t\t\t\tsettings.userLeave = !settings.userLeave;\n\t\t\t\t\t\t\tpi.dom.userLeave.className = settings.userLeave ? 'pi-on' : 'pi-off';\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'userWoot':\n\t\t\t\t\t\t\tsettings.userWoot = !settings.userWoot;\n\t\t\t\t\t\t\tpi.dom.userWoot.className = settings.userWoot ? 'pi-on' : 'pi-off';\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'userGrab':\n\t\t\t\t\t\t\tsettings.userGrab = !settings.userGrab;\n\t\t\t\t\t\t\tpi.dom.userGrab.className = settings.userGrab ? 'pi-on' : 'pi-off';\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'userMeh':\n\t\t\t\t\t\t\tsettings.userMeh = !settings.userMeh;\n\t\t\t\t\t\t\tpi.dom.mehA.className = settings.userMeh ? 'pi-on' : 'pi-off';\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'guestJoin':\n\t\t\t\t\t\t\tsettings.guestJoin = !settings.guestJoin;\n\t\t\t\t\t\t\tpi.dom.guestJoin.className = settings.guestJoin ? 'pi-on' : 'pi-off';\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'guestLeave':\n\t\t\t\t\t\t\tsettings.guestLeave = !settings.guestLeave;\n\t\t\t\t\t\t\tpi.dom.guestLeave.className = settings.guestLeave ? 'pi-on' : 'pi-off';\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'friendRoomChange':\n\t\t\t\t\t\t\tsettings.friendRoomChange = !settings.friendRoomChange;\n\t\t\t\t\t\t\tpi.dom.friendRoomChange.className = settings.friendRoomChange ? 'pi-on' : 'pi-off';\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'friendConnect':\n\t\t\t\t\t\t\tsettings.friendConnect = !settings.friendConnect;\n\t\t\t\t\t\t\tpi.dom.friendConnect.className = settings.friendConnect ? 'pi-on' : 'pi-off';\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'friendDisconnect':\n\t\t\t\t\t\t\tsettings.friendDisconnect = !settings.friendDisconnect;\n\t\t\t\t\t\t\tpi.dom.friendDisconnect.className = settings.friendDisconnect ? 'pi-on' : 'pi-off';\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'unfriended':\n\t\t\t\t\t\t\tsettings.unfriended = !settings.unfriended;\n\t\t\t\t\t\t\tpi.dom.unfriended.className = settings.unfriended ? 'pi-on' : 'pi-off';\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'gainNotification':\n\t\t\t\t\t\t\tsettings.gainNotification = !settings.gainNotification;\n\t\t\t\t\t\t\tpi.dom.gainNotification.className = settings.gainNotification ? 'pi-on' : 'pi-off';\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'userLevelUp':\n\t\t\t\t\t\t\tsettings.userLevelUp = !settings.userLevelUp;\n\t\t\t\t\t\t\tpi.dom.userLevelUp.className = settings.userLevelUp ? 'pi-on' : 'pi-off';\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 'init':\n\t\t\t\t\t\t\t// Init menu item's class\n\t\t\t\t\t\t\t// General\n\t\t\t\t\t\t\tpi.dom.woot.className = settings.autoW ? 'pi-on' : 'pi-off';\n\t\t\t\t\t\t\tpi.autowoot();\n\t\t\t\t\t\t\tpi.dom.join.className = settings.autoDJ ? 'pi-on' : 'pi-off';\n\t\t\t\t\t\t\tpi.autojoin();\n\t\t\t\t\t\t\tpi.dom.keyShortcut.className = settings.keyboardShortcuts ? 'pi-on' : 'pi-off';\n\t\t\t\t\t\t\tpi.dom.chatCommands.className = settings.chatCommands ? 'pi-on' : 'pi-off';\n\t\t\t\t\t\t\tpi.dom.autoHideLogs.className = settings.autoHideLogs ? 'pi-on' : 'pi-off';\n\t\t\t\t\t\t\tpi.dom.betterMeh.className =settings.betterMeh ? 'pi-on' : 'pi-off';\n\t\t\t\t\t\t\tpi.dom.afkResponder.className = settings.afk ? 'pi-on' : 'pi-off';\n\t\t\t\t\t\t\tpi.dom.afkMessage.children[0].value = settings.afkMessage;\n\t\t\t\t\t\t\tpi.afk();\n\t\t\t\t\t\t\tpi.dom.navWarn.className = settings.navWarn ? 'pi-on' : 'pi-off';\n\t\t\t\t\t\t\tpi.dom.showVotes.className = settings.showVotes ? 'pi-on' : 'pi-off';\n\t\t\t\t\t\t\tpi.dom.betterClearChatLimit.children[0].value = settings.betterClearChatLimit;\n\t\t\t\t\t\t\tpi.dom.chatLimit.children[0].value = settings.chatLimit;\n\t\t\t\t\t\t\tpi.dom.skipNextMediaInHistory.className = settings.skipNextMediaInHistory ? 'pi-on' : 'pi-off';\n\t\t\t\t\t\t\t// Customisation\n\t\t\t\t\t\t\tpi.dom.video.className = settings.showVideo ? 'pi-off' : 'pi-on';\n\t\t\t\t\t\t\tpi.hideStream();\n\t\t\t\t\t\t\tpi.dom.soundcloudVisu.className = settings.scVisu ? 'pi-on' : 'pi-off';\n\t\t\t\t\t\t\tpi.dom.css.className = settings.CSS ? 'pi-on' : 'pi-off';\n\t\t\t\t\t\t\tpi.toggleStyle('customStyle');\n\t\t\t\t\t\t\tpi.dom.customRanks.className = settings.customRanks ? 'pi-on' : 'pi-off';\n\t\t\t\t\t\t\tpi.toggleStyle('customRanks');\n\t\t\t\t\t\t\tpi.dom.languageFlags.className = settings.languageFlags ? 'pi-on' : 'pi-off';\n\t\t\t\t\t\t\tpi.dom.friendsIcons.className = settings.friendsIcons ? 'pi-on' : 'pi-off';\n\t\t\t\t\t\t\tsettings.customBGURL !== null ? pi.changeBG(false, settings.customBGURL) : void 0;\n\t\t\t\t\t\t\tpi.dom.oldChat.className = settings.oldChat ? 'pi-on' : 'pi-off';\n\t\t\t\t\t\t\tpi.toggleStyle('oldChat');\n\t\t\t\t\t\t\tpi.dom.oldFooter.className = settings.oldFooter ? 'pi-on' : 'pi-off';\n\t\t\t\t\t\t\tpi.toggleStyle('oldFooter');\n\t\t\t\t\t\t\tpi.dom.smallHistory.className = settings.smallHistory ? 'pi-on' : 'pi-off';\n\t\t\t\t\t\t\tpi.toggleStyle('smallHistory');\n\t\t\t\t\t\t\tpi.dom.smallFriends.className = settings.smallFriends ? 'pi-on' : 'pi-off';\n\t\t\t\t\t\t\tpi.toggleStyle('smallFriends');\n\t\t\t\t\t\t\tpi.dom.smallPlaylists.className = settings.smallPlaylists ? 'pi-on' : 'pi-off';\n\t\t\t\t\t\t\tpi.toggleStyle('smallPlaylists');\n\t\t\t\t\t\t\t// Moderation\n\t\t\t\t\t\t\tpi.dom.showDeletedMsg.className = settings.showDeletedMsg ? 'pi-on' : 'pi-off';\n\t\t\t\t\t\t\tpi.dom.confirmDelete.className = settings.confirmDelete ? 'pi-on' : 'pi-off';\n\t\t\t\t\t\t\tpi.dom.userInfo.className = settings.userInfo ? 'pi-on' : 'pi-off';\n\t\t\t\t\t\t\tpi.dom.stuckSkip.className = settings.stuckSkip ? 'pi-on' : 'pi-off';\n\t\t\t\t\t\t\tpi.dom.lengthA.className = settings.songLimit ? 'pi-on' : 'pi-off';\n\t\t\t\t\t\t\tpi.dom.songLength.children[0].value = settings.songLength;\n\t\t\t\t\t\t\tpi.dom.historyAlert.className = settings.historyAlert ? 'pi-on' : 'pi-off';\n\t\t\t\t\t\t\t// Notifications\n\t\t\t\t\t\t\tpi.dom.systemNotifications.className = settings.systemNotifications ? 'pi-on' : 'pi-off';\n\t\t\t\t\t\t\tpi.dom.songStats.className = settings.songStats ? 'pi-on' : 'pi-off';\n\t\t\t\t\t\t\tpi.dom.boothAlert.className = settings.boothAlert ? 'pi-on' : 'pi-off';\n\t\t\t\t\t\t\tpi.dom.boothPosition.children[0].value = settings.boothPosition;\n\t\t\t\t\t\t\tpi.dom.userJoin.className = settings.userJoin ? 'pi-on' : 'pi-off';\n\t\t\t\t\t\t\tpi.dom.userLeave.className = settings.userLeave ? 'pi-on' : 'pi-off';\n\t\t\t\t\t\t\tpi.dom.userWoot.className = settings.userWoot ? 'pi-on' : 'pi-off';\n\t\t\t\t\t\t\tpi.dom.userGrab.className = settings.userGrab ? 'pi-on' : 'pi-off';\n\t\t\t\t\t\t\tpi.dom.mehA.className = settings.userMeh ? 'pi-on' : 'pi-off';\n\t\t\t\t\t\t\tpi.dom.guestJoin.className = settings.guestJoin ? 'pi-on' : 'pi-off';\n\t\t\t\t\t\t\tpi.dom.guestLeave.className = settings.guestLeave ? 'pi-on' : 'pi-off';\n\t\t\t\t\t\t\tpi.dom.friendRoomChange.className = settings.friendRoomChange ? 'pi-on' : 'pi-off';\n\t\t\t\t\t\t\tpi.dom.friendConnect.className = settings.friendConnect ? 'pi-on' : 'pi-off';\n\t\t\t\t\t\t\tpi.dom.friendDisconnect.className = settings.friendDisconnect ? 'pi-on' : 'pi-off';\n\t\t\t\t\t\t\tpi.dom.unfriended.className = settings.unfriended ? 'pi-on' : 'pi-off';\n\t\t\t\t\t\t\tpi.dom.gainNotification.className = settings.gainNotification ? 'pi-on' : 'pi-off';\n\t\t\t\t\t\t\tpi.dom.gainNotificationMinXP.children[1].value = settings.minimumGain.xp;\n\t\t\t\t\t\t\tpi.dom.gainNotificationMinPP.children[1].value = settings.minimumGain.pp;\n\t\t\t\t\t\t\tpi.dom.userLevelUp.className = settings.userLevelUp ? 'pi-on' : 'pi-off';\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 'off':\n\t\t\t\t\t\t\tpi._tool.saveSettings();\n\t\t\t\t\t\t\tpi._close();\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tpi._tool.log('Unrecognized menu string: '+choice, 'console error');\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (choice !== 'off') pi._tool.saveSettings();\n\t\t\t\t},\n\t\t\t\tmuteMeh: function() {\n\t\t\t\t\tlet vol = API.getVolume();\n\n\t\t\t\t\tfunction restoreVol() {\n\t\t\t\t\t\tAPI.setVolume(vol);\n\n\t\t\t\t\t\t// Turning the event off for BOTH\n\t\t\t\t\t\t// as we don't know which is called first\n\t\t\t\t\t\tAPI.off(API.ADVANCE, restoreVol);\n\t\t\t\t\t\t$('#woot').off('click', restoreVol);\n\n\t\t\t\t\t\t// Listen for meh again\n\t\t\t\t\t\t$('#meh').one('click', mute);\n\t\t\t\t\t}\n\t\t\t\t\tfunction mute() {\n\t\t\t\t\t\t// Meh is disabled, do not change volume\n\t\t\t\t\t\tif (!$('#meh').hasClass('disabled')) {\n\t\t\t\t\t\t\tvol = API.getVolume();\n\t\t\t\t\t\t\tAPI.setVolume(0);\n\t\t\t\t\t\t\tAPI.once(API.ADVANCE, restoreVol);\n\t\t\t\t\t\t\t$('#woot').one('click', restoreVol);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (settings.betterMeh) $('#meh').one('click', mute);\n\t\t\t\t\telse $('#meh').off('click', mute);\n\t\t\t\t},\n\t\t\t\tremoveDJ: function() {\n\t\t\t\t\tif (sessionStorage.getItem('modQuitWarn') == 'false') {\n\t\t\t\t\t\tsessionStorage.setItem('modQuitWarn', 'true');\n\t\t\t\t\t\tpi._tool.log(lang.warn.confirmEject, 'warn chat');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsessionStorage.setItem('modQuitWarn', 'false');\n\t\t\t\t\t\tAPI.moderateForceQuit();\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tsongLimit: function() {\n\t\t\t\t\tif (settings.songLimit) {\n\t\t\t\t\t\tif (API.getMedia() !== undefined) {\n\t\t\t\t\t\t\tif (API.getMedia().duration > settings.songLength) {\n\t\t\t\t\t\t\t\t// notif.play();\n\t\t\t\t\t\t\t\tpi._tool.log(pi._tool.replaceString(lang.warn.songLimit, {max:settings.songLength}), 'warn chat');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tsoundcloudVisu: function(media) {\n\t\t\t\t\tlet $scFrame = $('#sc-frame');\n\t\t\t\t\tlet $myFrame = $('#pi-frame');\n\n\t\t\t\t\tif (typeof media === \"undefined\") media = API.getMedia();\n\n\t\t\t\t\tif (media.format === 1 && $('#pi-frame').is(':visible')) {\n\t\t\t\t\t\treturn $myFrame.hide();\n\t\t\t\t\t} else if (media.format === 1) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (settings.scVisu && !pi._tool.getPlugSettings().streamDisabled) {\n\t\t\t\t\t\tlet randomVisu = Math.floor(Math.random()*url.visu.length);\n\t\t\t\t\t\t$scFrame.hide();\n\t\t\t\t\t\t$myFrame.show();\n\t\t\t\t\t\t$myFrame[0].src = url.visu[randomVisu];\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$scFrame.show();\n\t\t\t\t\t\t$myFrame.hide();\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\ttoggleStyle: function(which) {\n\t\t\t\t\tswitch(which) {\n\t\t\t\t\t\tcase 'roomStyle':\n\t\t\t\t\t\t\tif (settings.roomStyle) {\n\t\t\t\t\t\t\t\tvar $roomLink = $('<link id=\"pi-custom-room-style\" rel=\"stylesheet\" type=\"text/css\" href=\"'+roomSettings.css+'\">');\n\t\t\t\t\t\t\t\t$('head').append($roomLink);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t$('#pi-custom-room-style').remove();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 'customStyle':\n\t\t\t\t\t\t\tif (settings.CSS) {\n\t\t\t\t\t\t\t\t$('head').append($('<link id=\"pi-CSS\" rel=\"stylesheet\" type=\"text/css\" href=\"'+url.styles.blue_css+'\">'));\n\t\t\t\t\t\t\t\tpi.changeBG(false, settings.customBGURL !== null ? settings.customBGURL : url.images.background);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t$('#pi-CSS').remove();\n\t\t\t\t\t\t\t\tpi.changeBG(true);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 'customRanks':\n\t\t\t\t\t\t\tif (settings.customRanks) {\n\t\t\t\t\t\t\t\t$('head').append($('<link id=\"pi-custom_ranks\" rel=\"stylesheet\" type=\"text/css\" href=\"'+url.styles.custom_ranks+'\">'));\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t$('#pi-custom_ranks').remove();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 'oldChat':\n\t\t\t\t\t\t\tif (settings.oldChat) {\n\t\t\t\t\t\t\t\t$('head').append($('<link id=\"pi-oldchat-CSS\" rel=\"stylesheet\" type=\"text/css\" href=\"'+url.styles.old_chat+'\">'));\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t$('#pi-oldchat-CSS').remove();\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// You found an easter egg !\n\t\t\t\t\t\t\twindow.WiBla = {\n\t\t\t\t\t\t\t\tlisten: 'always',\n\t\t\t\t\t\t\t\trulesTheWorld: 'not yet :troll:',\n\t\t\t\t\t\t\t\tisOnFire: function() {\n\t\t\t\t\t\t\t\t\tconsole.log(\n\t\t\t\t\t\t\t\t\t\t\"%c                '@@             `.     @'          \\n\"+\n\t\t\t\t\t\t\t\t\t\t\"%c     @@         @@@   @,    :'@@@@@#   @@          \\n\"+\n\t\t\t\t\t\t\t\t\t\t\"%c     @@         @@;  +@@   @@@@@@@@@  ,@@          \\n\"+\n\t\t\t\t\t\t\t\t\t\t\"%c    +@@    `    @@   :@+   @@@;  `@@  @@@          \\n\"+\n\t\t\t\t\t\t\t\t\t\t\"%c    @@@   @@.   @@         @@`  `@@'  @@.          \\n\"+\n\t\t\t\t\t\t\t\t\t\t\"%c    @@    @@   ;@@   @,   .@@ `@@@+   @@     ;@@@` \\n\"+\n\t\t\t\t\t\t\t\t\t\t\"%c   +@@   ;@@   @@+  @@@   @@@@@@@    ,@@    @@@@@@ \\n\"+\n\t\t\t\t\t\t\t\t\t\t\"%c   @@+   @@@   @@   @@:   @@@@@@,    @@@   @@@@@@; \\n\"+\n\t\t\t\t\t\t\t\t\t\t\"%c   @@   ;@@;  :@@   @@    @@@@@@@@   @@.  #@@, @@  \\n\"+\n\t\t\t\t\t\t\t\t\t\t\"%c  '@@   @@@,  @@.  ,@@   +@@   ,@@.  @@   @@; :@@  \\n\"+\n\t\t\t\t\t\t\t\t\t\t\"%c  @@@  @@@@, `@@   @@@   @@;    @@  :@@  ,@@ ,@@@  \\n\"+\n\t\t\t\t\t\t\t\t\t\t\"%c  @@; :@@@@+ @@`   @@,   @@   #@@@  @@@  @@@#@@@;  \\n\"+\n\t\t\t\t\t\t\t\t\t\t\"%c  @@.`@@ ;@@@@@    @@   +@@@@@@@'   @@'  ;@@@@@@   \\n\"+\n\t\t\t\t\t\t\t\t\t\t\"%c  @@@@@   @@@@     @@   +@@@@@'     @@,   @@@ @@   \\n\"+\n\t\t\t\t\t\t\t\t\t\t\"%c  :@@@     @:      ',               `#             \",\n\t\t\t\t\t\t\t\t\t\t\"color: hsl(210,0%,0%);   text-shadow: 0 0 20px\",\n\t\t\t\t\t\t\t\t\t\t\"color: hsl(210,5%,5%);   text-shadow: 0 0 20px\",\n\t\t\t\t\t\t\t\t\t\t\"color: hsl(210,10%,10%); text-shadow: 0 0 20px\",\n\t\t\t\t\t\t\t\t\t\t\"color: hsl(210,15%,15%); text-shadow: 0 0 20px\",\n\t\t\t\t\t\t\t\t\t\t\"color: hsl(210,20%,20%); text-shadow: 0 0 20px\",\n\t\t\t\t\t\t\t\t\t\t\"color: hsl(210,25%,25%); text-shadow: 0 0 20px\",\n\t\t\t\t\t\t\t\t\t\t\"color: hsl(210,30%,30%); text-shadow: 0 0 20px\",\n\t\t\t\t\t\t\t\t\t\t\"color: hsl(210,35%,35%); text-shadow: 0 0 20px\",\n\t\t\t\t\t\t\t\t\t\t\"color: hsl(210,40%,40%); text-shadow: 0 0 20px\",\n\t\t\t\t\t\t\t\t\t\t\"color: hsl(210,45%,45%); text-shadow: 0 0 20px\",\n\t\t\t\t\t\t\t\t\t\t\"color: hsl(210,50%,50%); text-shadow: 0 0 20px\",\n\t\t\t\t\t\t\t\t\t\t\"color: hsl(215,50%,50%); text-shadow: 0 0 20px\",\n\t\t\t\t\t\t\t\t\t\t\"color: hsl(220,50%,50%); text-shadow: 0 0 20px\",\n\t\t\t\t\t\t\t\t\t\t\"color: hsl(225,50%,50%); text-shadow: 0 0 20px\",\n\t\t\t\t\t\t\t\t\t\t\"color: hsl(230,50%,50%); text-shadow: 0 0 20px\");\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 'oldFooter':\n\t\t\t\t\t\t\tif (settings.oldFooter) {\n\t\t\t\t\t\t\t\t$('head').append($('<link id=\"pi-oldfooter-CSS\" rel=\"stylesheet\" type=\"text/css\" href=\"'+url.styles.old_footer+'\">'));\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t$('#pi-oldfooter-CSS').remove();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 'smallHistory':\n\t\t\t\t\t\t\tif (settings.smallHistory) {\n\t\t\t\t\t\t\t\t$('head').append($('<link id=\"pi-smallHistory-CSS\" rel=\"stylesheet\" type=\"text/css\" href=\"'+url.styles.small_history+'\">'));\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t$('#pi-smallHistory-CSS').remove();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 'smallFriends':\n\t\t\t\t\t\t\tif (settings.smallFriends) {\n\t\t\t\t\t\t\t\t$('head').append($('<link id=\"pi-smallFriends-CSS\" rel=\"stylesheet\" type=\"text/css\" href=\"'+url.styles.small_friends+'\">'));\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t$('#pi-smallFriends-CSS').remove();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 'smallPlaylists':\n\t\t\t\t\t\t\tif (settings.smallPlaylists) {\n\t\t\t\t\t\t\t\t$('head').append($('<link id=\"pi-smallPlaylists-CSS\" rel=\"stylesheet\" type=\"text/css\" href=\"'+url.styles.small_playlists+'\">'));\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t$('#pi-smallPlaylists-CSS').remove();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tvoteAlert: function(data) {\n\t\t\t\t\tlet userInfo = (settings.userInfo ? ' Lvl:'+data.user.level+'|'+'Id:'+data.user.id : '');\n\t\t\t\t\tif (typeof data.vote == 'undefined' && data.user.grab && settings.userGrab) {\n\t\t\t\t\t\tpi._tool.log(\n\t\t\t\t\t\t\tpi._tool.replaceString(lang.log.grabbed, {\n\t\t\t\t\t\t\t\tuser: data.user.username,\n\t\t\t\t\t\t\t\t\"userInfo\": userInfo\n\t\t\t\t\t\t\t}), 'chat'\n\t\t\t\t\t\t);\n\t\t\t\t\t} else if (data.vote == 1 && !data.user.grab && settings.userWoot) {\n\t\t\t\t\t\tpi._tool.log(\n\t\t\t\t\t\t\tpi._tool.replaceString(lang.log.wooted, {\n\t\t\t\t\t\t\t\tuser: data.user.username,\n\t\t\t\t\t\t\t\t\"userInfo\": userInfo\n\t\t\t\t\t\t\t}), 'chat'\n\t\t\t\t\t\t);\n\t\t\t\t\t} else if (data.vote == -1 && settings.userMeh && pi._tool.getRoomRules('allowShowingMehs')) {\n\t\t\t\t\t\tpi._tool.log(\n\t\t\t\t\t\t\tpi._tool.replaceString(lang.log.meh, {\n\t\t\t\t\t\t\t\tuser: data.user.username,\n\t\t\t\t\t\t\t\t\"userInfo\": userInfo\n\t\t\t\t\t\t\t}), 'chat'\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tpi._load();\n\t\t}\n\t}\n\telse {\n\t\tvar waitForARoom = function() {\n\t\t\tif (location.pathname === '/dashboard' && location.origin.indexOf('plug') !== -1)\n\t\t\t\tsetTimeout(function() {waitForARoom();}, 1000);\n\t\t\telse load();\n\t\t}\n\n\t\ttry {\n\t\t\t// If not on plug, this will fail\n\t\t\tAPI.enabled;\n\t\t\t// else, will wait for user to go in a room\n\t\t\twaitForARoom();\n\t\t} catch(err) {\n\t\t\tconsole.log('You are trying to run Plug-It outside of plug.dj !');\n\t\t\tconsole.log(err);\n\t\t}\n\t}\n})();\n\n// Placed outside of closure to ensure eval can't access private vars\nfunction execute(code, log, executeWarn) {\n\tif (sessionStorage.getItem('trustWarn') == 'false') {\n\t\tsessionStorage.setItem('trustWarn', 'true');\n\t\tpi._tool.log(executeWarn, 'warn chat', function() { execute(code, this); this.delete(); });\n\t} else {\n\t\ttry {\n\t\t\teval(code);\n\t\t\tif (typeof log !== 'undefined') log.delete();\n\t\t} catch(err) {\n\t\t\tpi._tool.log(err.toString(), 'error chat');\n\t\t\t// put code back so user can try again\n\t\t\tsetTimeout(function(){\n\t\t\t\t$('#chat-input-field')[0].value = '/js ' + code;\n\t\t\t}, 250);\n\t\t}\n\t}\n}\n"],"names":["name"],"mappings":"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"}